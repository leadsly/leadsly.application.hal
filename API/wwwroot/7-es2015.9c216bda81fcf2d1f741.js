(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0FX9":function(e,t,n){var i=n("Z92M"),r=n("qmMu"),o=n("QUaw"),a=n("QAZZ");function s(e,t,n,o,a){var s=[].slice.call(arguments,1),c=s.length,l="function"==typeof s[c-1];if(!l&&!i())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=t,t=o=void 0):2!==c||t.getContext||(o=n,n=t,t=void 0),new Promise(function(i,a){try{var s=r.create(n,o);i(e(s,t,o))}catch(c){a(c)}})}if(c<2)throw new Error("Too few arguments provided");2===c?(a=n,n=t,t=o=void 0):3===c&&(t.getContext&&void 0===a?(a=o,o=void 0):(a=o,o=n,n=t,t=void 0));try{var d=r.create(n,o);a(null,e(d,t,o))}catch(u){a(u)}}t.create=r.create,t.toCanvas=s.bind(null,o.render),t.toDataURL=s.bind(null,o.renderToDataURL),t.toString=s.bind(null,function(e,t,n){return a.render(e,n)})},"1sBl":function(e,t,n){var i=n("e/Dd").getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=i(e),r=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7],a=1;a<t-1;a++)o[a]=o[a-1]-r;return o.push(6),o.reverse()},t.getPositions=function(e){for(var n=[],i=t.getRowColCoords(e),r=i.length,o=0;o<r;o++)for(var a=0;a<r;a++)0===o&&0===a||0===o&&a===r-1||o===r-1&&0===a||n.push([i[o],i[a]]);return n}},"3X7Y":function(e,t,n){var i=n("u/Db");function r(e){this.mode=i.NUMERIC,this.data=e.toString()}r.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){var t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);var r=this.data.length-t;r>0&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,3*r+1))},e.exports=r},"7uVY":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},AZa5:function(e,t,n){var i=n("Wogr"),r=n("u/Db");function o(e){this.mode=r.BYTE,this.data=new i(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=o},BCVQ:function(e,t){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var r=new RegExp("^"+n+"$"),o=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return r.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},ELBg:function(e,t,n){"use strict";var i={single_source_shortest_paths:function(e,t,n){var r={},o={};o[t]=0;var a,s,c,l,d,u,g=i.PriorityQueue.make();for(g.push(t,0);!g.empty();)for(c in l=(a=g.pop()).cost,d=e[s=a.value]||{})d.hasOwnProperty(c)&&(u=l+d[c],(void 0===o[c]||o[c]>u)&&(o[c]=u,g.push(c,u),r[c]=s));if(void 0!==n&&void 0===o[n]){var h=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(h)}return r},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],i=t;i;)n.push(i),i=e[i];return n.reverse(),n},find_path:function(e,t,n){var r=i.single_source_shortest_paths(e,t,n);return i.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(e){var t,n=i.PriorityQueue,r={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r.queue=[],r.sorter=e.sorter||n.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=i},J6Nv:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},JzKC:function(e,t,n){var i=n("Wogr"),r=n("aZ40");t.mul=function(e,t){var n=new i(e.length+t.length-1);n.fill(0);for(var o=0;o<e.length;o++)for(var a=0;a<t.length;a++)n[o+a]^=r.mul(e[o],t[a]);return n},t.mod=function(e,t){for(var n=new i(e);n.length-t.length>=0;){for(var o=n[0],a=0;a<t.length;a++)n[a]^=r.mul(t[a],o);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},t.generateECPolynomial=function(e){for(var n=new i([1]),o=0;o<e;o++)n=t.mul(n,[1,r.exp(o)]);return n}},Lzq4:function(e,t,n){var i=n("u/Db"),r=n("e/Dd");function o(e){this.mode=i.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=r.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}e.put(n=192*(n>>>8&255)+(255&n),13)}},e.exports=o},NPxG:function(e,t,n){var i=n("ekOh"),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case i.L:return r[4*(e-1)+0];case i.M:return r[4*(e-1)+1];case i.Q:return r[4*(e-1)+2];case i.H:return r[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case i.L:return o[4*(e-1)+0];case i.M:return o[4*(e-1)+1];case i.Q:return o[4*(e-1)+2];case i.H:return o[4*(e-1)+3];default:return}}},QAZZ:function(e,t,n){var i=n("Rb7d");function r(e,t){var n=e.a/255,i=t+'="'+e.hex+'"';return n<1?i+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function o(e,t,n){var i=e+t;return void 0!==n&&(i+=" "+n),i}t.render=function(e,t,n){var a=i.getOptions(t),s=e.modules.size,c=e.modules.data,l=s+2*a.margin,d=a.color.light.a?"<path "+r(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+r(a.color.dark,"stroke")+' d="'+function(e,t,n){for(var i="",r=0,a=!1,s=0,c=0;c<e.length;c++){var l=Math.floor(c%t),d=Math.floor(c/t);l||a||(a=!0),e[c]?(s++,c>0&&l>0&&e[c-1]||(i+=a?o("M",l+n,.5+d+n):o("m",r,0),r=0,a=!1),l+1<t&&e[c+1]||(i+=o("h",s),s=0)):r++}return i}(c,s,a.margin)+'"/>',g='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+'viewBox="0 0 '+l+" "+l+'" shape-rendering="crispEdges">'+d+u+"</svg>\n";return"function"==typeof n&&n(null,g),g}},QUaw:function(e,t,n){var i=n("Rb7d");t.render=function(e,t,n){var r=n,o=t;void 0!==r||t&&t.getContext||(r=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),r=i.getOptions(r);var a=i.getImageWidth(e.modules.size,r),s=o.getContext("2d"),c=s.createImageData(a,a);return i.qrToImageData(c.data,e,r),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,o,a),s.putImageData(c,0,0),o},t.renderToDataURL=function(e,n,i){var r=i;return void 0!==r||n&&n.getContext||(r=n,n=void 0),r||(r={}),t.render(e,n,r).toDataURL(r.type||"image/png",(r.rendererOpts||{}).quality)}},Qrwm:function(e,t,n){"use strict";n.r(t),n.d(t,"AccountModule",function(){return wt});var i=n("ofXK"),r=n("tyNb"),o=n("pKmL"),a=n("fXoL"),s=n("wZkO"),c=n("sYmb");let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-account"]],decls:16,vars:6,consts:[[1,"account"],["mat-tab-nav-bar",""],["mat-tab-link","","routerLink","general","routerLinkActive","",3,"active"],["general","routerLinkActive"],["mat-tab-link","","routerLink","security","routerLinkActive","",3,"active"],["security","routerLinkActive"],["o","outlet"]],template:function(e,t){if(1&e&&(a.Wb(0,"div",0),a.Wb(1,"h2"),a.Cc(2),a.ic(3,"translate"),a.Vb(),a.Wb(4,"nav",1),a.Wb(5,"a",2,3),a.Wb(7,"span"),a.Cc(8,"General"),a.Vb(),a.Vb(),a.Wb(9,"a",4,5),a.Wb(11,"span"),a.Cc(12,"Security"),a.Vb(),a.Vb(),a.Vb(),a.Wb(13,"div"),a.Rb(14,"router-outlet",null,6),a.Vb(),a.Vb()),2&e){const e=a.rc(6),t=a.rc(10),n=a.rc(15);a.Eb(2),a.Dc(a.jc(3,4,"odm.account.header")),a.Eb(3),a.mc("active",e.isActive),a.Eb(4),a.mc("active",t.isActive),a.Eb(4),a.mc("@routeAnimations",n.isActivated&&n.activatedRoute.routeConfig.path)}},directives:[s.b,r.k,s.a,r.j,r.m],pipes:[c.c],styles:[".account[_ngcontent-%COMP%]{margin:0 auto;padding:16px;max-width:800px}"],data:{animation:[o.i]},changeDetection:0}),e})();var d=n("2Vo4"),u=n("quSY"),g=n("VRyK"),h=n("zP0r"),b=n("pLZG"),p=n("vkgz"),f=n("mrSG"),m=n("eIep");let _=(()=>{class e{constructor(e){this.payload=e}}return e.type="[2fa Setup] Setup Two Factor Authentication",e})(),w=(()=>{class e{constructor(e){this.payload=e}}return e.type="[2fa Setup] Authenticator Verification Result",e})(),v=(()=>{class e{}return e.type="[2fa Setup] Reset Two Factor Authentication Setup",e})();var C=n("AcyG"),y=n("HDdC"),E=n("lPhk");let P=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Security] Set Account Security Details",e})(),O=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Security] Updates Account Security Details Settings",e})(),S=(()=>{class e{}return e.type="[Security] Reset Account Security Settings",e})(),M=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Security] Updates User Recovery Codes",e})(),A=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Security] Password Change Completed",e})();var j=n("rfrl"),R=n("kFSJ");const V=new C.h("security");let k=(()=>{let e=class{constructor(e){this._log=e}static selectAccountSecurityDetails(e){return e}static selectPasswordChangeCompleted(e){return e.passwordChangeCompleted}setAccountSecurityDetails(e,t){this._log.info("setAccountSecurityDetails fired.",this),e.setState(Object(j.a)(e=>Object.assign(Object.assign({},e),t.payload)))}updateAccountSecurityDetailsSetting(e,t){this._log.info("updateAccountSecurityDetailsSetting action handler fired.",this),e.setState(Object(j.a)(e=>Object.assign(Object.assign({},t.payload),{recoveryCodes:{items:[...t.payload.recoveryCodes.items]}})))}updateUserRecoveryCodes(e,t){this._log.info("updateUserRecoveryCodes action handler fired.",this),e.setState(Object(j.a)(e=>(e.recoveryCodes=t.payload,e.recoveryCodesLeft=t.payload.items.length,e)))}resetAccountSecuritySettings(e){this._log.info("resetAccountSecuritySettings action handler fired.",this);const t={hasAuthenticator:!1,recoveryCodes:{items:[]},recoveryCodesLeft:0,twoFactorEnabled:!1,passwordChangeCompleted:!1};e.setState(Object(j.a)(e=>t))}passwordChangeCompleted(e,t){this._log.info("passwordChangeCompleted action handler fired.",this),e.setState(Object(j.a)(e=>Object.assign(Object.assign({},e),t.payload)))}};return e.\u0275fac=function(t){return new(t||e)(a.ac(R.a))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),Object(f.a)([Object(C.a)(P),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object,P]),Object(f.b)("design:returntype",void 0)],e.prototype,"setAccountSecurityDetails",null),Object(f.a)([Object(C.a)(O),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object,O]),Object(f.b)("design:returntype",void 0)],e.prototype,"updateAccountSecurityDetailsSetting",null),Object(f.a)([Object(C.a)(M),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object,M]),Object(f.b)("design:returntype",void 0)],e.prototype,"updateUserRecoveryCodes",null),Object(f.a)([Object(C.a)(S),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object]),Object(f.b)("design:returntype",void 0)],e.prototype,"resetAccountSecuritySettings",null),Object(f.a)([Object(C.a)(A),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object,A]),Object(f.b)("design:returntype",void 0)],e.prototype,"passwordChangeCompleted",null),Object(f.a)([Object(C.f)([V]),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object]),Object(f.b)("design:returntype",Object)],e,"selectAccountSecurityDetails",null),Object(f.a)([Object(C.f)([V]),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object]),Object(f.b)("design:returntype",Boolean)],e,"selectPasswordChangeCompleted",null),e=Object(f.a)([Object(C.g)({name:V,defaults:{hasAuthenticator:!1,recoveryCodes:{items:[]},recoveryCodesLeft:0,twoFactorEnabled:!1,passwordChangeCompleted:!1}}),Object(f.b)("design:paramtypes",[R.a])],e),e})(),D=(()=>{class e{constructor(e){this.payload=e}}return e.type="[General] Set Account General Details",e})(),F=(()=>{class e{constructor(e){this.payload=e}}return e.type="[General] Change Email Request",e})();const T=new C.h("twoFactorAuthentication");let W=(()=>{let e=class{constructor(e){this._log=e}static selectAuthenticatorSetup(e){return{sharedKey:e.sharedKey,authenticatorUri:e.authenticatorUri}}static selectAuthenticatorSetupResult(e){return e.authenticatorResult}setupTwoFactorAuthentication(e,t){this._log.info("setupTwoFactorAuthentication action handler fired.",this),e.setState(Object(j.a)(e=>Object.assign(Object.assign({},e),t.payload)))}twoFactorAuthenticationSetupResult(e,t){this._log.info("twoFactorAuthenticationSetupResult action handler fired.",this),e.setState(Object(j.a)(e=>Object.assign(Object.assign({},e),{authenticatorResult:Object.assign({},t.payload)})))}resetTwoFactorAuthenticationSetupWizard(e){this._log.info("resetTwoFactorAuthenticationSetupWizard action handler fired.",this);const t={authenticatorResult:{recoveryCodes:{items:[]},status:"None"},authenticatorUri:"",sharedKey:""};e.setState(Object(j.a)(e=>t))}};return e.\u0275fac=function(t){return new(t||e)(a.ac(R.a))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),Object(f.a)([Object(C.a)(_),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object,_]),Object(f.b)("design:returntype",void 0)],e.prototype,"setupTwoFactorAuthentication",null),Object(f.a)([Object(C.a)(w),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object,w]),Object(f.b)("design:returntype",void 0)],e.prototype,"twoFactorAuthenticationSetupResult",null),Object(f.a)([Object(C.a)(v),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object]),Object(f.b)("design:returntype",void 0)],e.prototype,"resetTwoFactorAuthenticationSetupWizard",null),Object(f.a)([Object(C.f)([T]),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object]),Object(f.b)("design:returntype",Object)],e,"selectAuthenticatorSetup",null),Object(f.a)([Object(C.f)([T]),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object]),Object(f.b)("design:returntype",Object)],e,"selectAuthenticatorSetupResult",null),e=Object(f.a)([Object(C.g)({name:T,defaults:{sharedKey:"",authenticatorUri:"",authenticatorResult:{recoveryCodes:{items:[]},status:"None"}}}),Object(f.b)("design:paramtypes",[R.a])],e),e})();var I=n("5iVC"),x=n("Q03B");const q=new C.h("general");let $=(()=>{let e=class{constructor(e){this._log=e}static selectAccountGeneralDetails(e){return e}static selectChangeEmailRequestSent(e){return e.changeEmailRequestSent}setAccountGeneralDetails(e,t){this._log.info("setAccountGeneralDetails action handler fired.",this),e.setState(Object(j.a)(e=>Object.assign(Object.assign({},e),t.payload)))}changeEmailRequestSent(e,t){this._log.info("changeEmailRequestSent action handler fired.",this),e.setState(Object(j.a)(e=>Object.assign(Object.assign({},e),t.payload)))}};return e.\u0275fac=function(t){return new(t||e)(a.ac(R.a))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),Object(f.a)([Object(C.a)(D),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object,D]),Object(f.b)("design:returntype",void 0)],e.prototype,"setAccountGeneralDetails",null),Object(f.a)([Object(C.a)(F),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object,F]),Object(f.b)("design:returntype",void 0)],e.prototype,"changeEmailRequestSent",null),Object(f.a)([Object(C.f)([q]),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object]),Object(f.b)("design:returntype",Object)],e,"selectAccountGeneralDetails",null),Object(f.a)([Object(C.f)([q]),Object(f.b)("design:type",Function),Object(f.b)("design:paramtypes",[Object]),Object(f.b)("design:returntype",Boolean)],e,"selectChangeEmailRequestSent",null),e=Object(f.a)([Object(C.g)({name:q,defaults:{email:"",verified:!1,changeEmailRequestSent:!1}}),Object(f.b)("design:paramtypes",[R.a])],e),e})();var N=n("0nNC"),B=n("QXSh"),L=n("3Pt+"),z=n("kO4E"),U=n("Gn8p");let H=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d){this._twoFactorAuthenticationAsync=e,this._store=t,this._userAsyncService=n,this._notificationService=i,this._translationService=r,this._actions$=o,this.log=a,this.router=s,this.fb=c,this.translateValidationErrorService=l,this.asyncValidators=d,this.onCompletedUpdateRecoveryCodesAction$=this._actions$.pipe(Object(C.k)(M))}getAccountSecurityInfo(){const e=this._store.selectSnapshot(E.a.selectCurrentUserId);this._userAsyncService.getAccountSecurityDetails$(e).pipe(Object(p.a)(e=>this._store.dispatch(new P(e)))).subscribe()}getAccountGeneralInfo(){const e=this._store.selectSnapshot(E.a.selectCurrentUserId);this._userAsyncService.getAccountGeneralDetails$(e).pipe(Object(p.a)(e=>this._store.dispatch(new D(e)))).subscribe()}setupAuthenticator(){this._twoFactorAuthenticationAsync.setupAuthenticator$().pipe(Object(p.a)(e=>this._store.dispatch([new _(e)]))).subscribe()}verifyAuthenticator(e){this._twoFactorAuthenticationAsync.verifyAuthenticator$(e).pipe(Object(p.a)(e=>this._store.dispatch(new w(e)))).subscribe()}cancel2faSetupWizard(){this._store.dispatch(new v)}finish2faSetup(e){this._store.dispatch([new v,new O({hasAuthenticator:!0,recoveryCodes:e.recoveryCodes,recoveryCodesLeft:e.recoveryCodes.items.length,twoFactorEnabled:"Succeeded"===e.status,passwordChangeCompleted:!1})])}generateRecoveryCodes(){this._twoFactorAuthenticationAsync.generate2FaRecoveryCodes$().pipe(Object(p.a)(e=>this._store.dispatch(new M(e)))).subscribe()}disable2Fa(){this._twoFactorAuthenticationAsync.disable2Fa$().pipe(Object(p.a)(()=>this._store.dispatch([new v,new S]))).subscribe()}resendEmailVerification(){const e=this._store.selectSnapshot(E.a.selectCurrentUserId);this._userAsyncService.resendEmailVerification$(e).pipe(Object(m.a)(()=>this._translationService.get("odm.account.general.resend-verification-toast")),Object(p.a)(e=>{this._notificationService.info(e)})).subscribe()}changePassword(e){const t=this._store.selectSnapshot(E.a.selectCurrentUserId);this._userAsyncService.changePassword$(t,e).pipe(Object(m.a)(()=>this._translationService.get("odm.account.security.change-password.success")),Object(p.a)(e=>{this.passwordChangeCompleted({passwordChangeCompleted:!0}),this._notificationService.success(e)})).subscribe()}passwordChangeCompleted(e){this._store.dispatch(new A(e))}requestToChangeEmail(e){const t=this._store.selectSnapshot(E.a.selectCurrentUserId);this._userAsyncService.requestToChangeEmail$(t,e).pipe(Object(m.a)(()=>this._translationService.get("odm.account.general.email.change.request-sent")),Object(p.a)(e=>{this.changeEmailRequestSent({changeEmailRequestSent:!0}),this._notificationService.infoWithBtn(e)})).subscribe()}changeEmailRequestSent(e){this._store.dispatch(new F(e))}}return e.\u0275fac=function(t){return new(t||e)(a.ac(N.a),a.ac(C.i),a.ac(B.a),a.ac(o.d),a.ac(c.d),a.ac(C.b),a.ac(R.a),a.ac(r.h),a.ac(L.d),a.ac(z.a),a.ac(U.a))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac}),Object(f.a)([Object(x.a)(),Object(f.b)("design:type",y.a)],e.prototype,"problemDetails$",void 0),Object(f.a)([Object(I.a)(),Object(f.b)("design:type",y.a)],e.prototype,"internalServerErrorDetails$",void 0),Object(f.a)([Object(C.e)(W.selectAuthenticatorSetup),Object(f.b)("design:type",y.a)],e.prototype,"twoFactorAuthenticationSetup$",void 0),Object(f.a)([Object(C.e)(W.selectAuthenticatorSetupResult),Object(f.b)("design:type",y.a)],e.prototype,"twoFactorAuthenticationSetupResult$",void 0),Object(f.a)([Object(C.e)($.selectAccountGeneralDetails),Object(f.b)("design:type",y.a)],e.prototype,"accountGeneralDetails$",void 0),Object(f.a)([Object(C.e)($.selectChangeEmailRequestSent),Object(f.b)("design:type",y.a)],e.prototype,"changeEmailRequestSent$",void 0),Object(f.a)([Object(C.e)(k.selectAccountSecurityDetails),Object(f.b)("design:type",y.a)],e.prototype,"accountSecurityDetails$",void 0),Object(f.a)([Object(C.e)(k.selectPasswordChangeCompleted),Object(f.b)("design:type",y.a)],e.prototype,"passwordChangeCompleted$",void 0),e})();var Q=n("e2D8"),K=n("ESgL"),G=n("UhX8"),Y=n("1jcm"),J=n("peOe"),Z=n("S2kB"),X=n("7EHt"),ee=n("Qu3c"),te=n("NFeN"),ne=n("6NWb"),ie=n("bTqV"),re=n("Hdb7");let oe=(()=>{class e{constructor(e,t){this._ghostAnimationService=e,this._log=t,this.busy=!0}ngOnInit(){this._log.trace("Initialized.",this),this._ghostAnimationService.syncAnimation()}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(re.a),a.Qb(R.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-ghost-block"]],hostVars:1,hostBindings:function(e,t){2&e&&a.Fb("aria-busy",t.busy)},decls:1,vars:0,consts:[[1,"odm-ghost-block-container"]],template:function(e,t){1&e&&a.Rb(0,"div",0)},styles:[".odm-ghost-block-container[_ngcontent-%COMP%]{border-radius:2px;height:100%;width:100%}.odm-ghost-active[_nghost-%COMP%]   .odm-ghost-block-container[_ngcontent-%COMP%], .odm-ghost-active   [_nghost-%COMP%]   .odm-ghost-block-container[_ngcontent-%COMP%]{-webkit-animation:ghost-animation 1.4s ease-in-out infinite;animation:ghost-animation 1.4s ease-in-out infinite}.odm-ghost-active   .black-theme[_nghost-%COMP%]   .odm-ghost-block-container[_ngcontent-%COMP%], .odm-ghost-active   .black-theme   [_nghost-%COMP%]   .odm-ghost-block-container[_ngcontent-%COMP%]{-webkit-animation:ghost-animation-dark 1.4s ease-in-out infinite;animation:ghost-animation-dark 1.4s ease-in-out infinite}"],changeDetection:0}),e})();function ae(e,t){if(1&e&&(a.Wb(0,"li"),a.Cc(1),a.Vb()),2&e){const e=t.$implicit;a.Eb(1),a.Ec(" ",e," ")}}function se(e,t){if(1&e&&(a.Ub(0),a.Wb(1,"ol",11),a.Ac(2,ae,2,1,"li",12),a.Vb(),a.Tb()),2&e){const e=a.hc(2);a.Eb(2),a.mc("ngForOf",e._codes)}}function ce(e,t){if(1&e&&(a.Ub(0),a.Ac(1,se,3,1,"ng-container",5),a.Tb()),2&e){const e=a.hc(),t=a.rc(27);a.Eb(1),a.mc("ngIf",(null==e._codes?null:e._codes.length)>0)("ngIfElse",t)}}function le(e,t){if(1&e&&(a.Ub(0),a.Rb(1,"odm-spinner",13),a.Tb()),2&e){const e=a.hc();a.Eb(1),a.mc("type","button")("spinnerColor","accent")("diameter",e._generatingCodesSpinnerDiameter)("strokeWidth",e._generatingCodesSpinnerStrokeWidth)}}function de(e,t){1&e&&(a.Wb(0,"p"),a.Wb(1,"i"),a.Cc(2),a.ic(3,"translate"),a.Vb(),a.Vb()),2&e&&(a.Eb(2),a.Dc(a.jc(3,1,"odm.account.security.two-step.recovery-codes.backup-codes.no-codes")))}function ue(e,t){1&e&&(a.Wb(0,"ol",14),a.Wb(1,"li",15),a.Wb(2,"div",16),a.Rb(3,"odm-ghost-block"),a.Vb(),a.Vb(),a.Wb(4,"li",15),a.Wb(5,"div",16),a.Rb(6,"odm-ghost-block"),a.Vb(),a.Vb(),a.Wb(7,"li",15),a.Wb(8,"div",16),a.Rb(9,"odm-ghost-block"),a.Vb(),a.Vb(),a.Wb(10,"li",15),a.Wb(11,"div",16),a.Rb(12,"odm-ghost-block"),a.Vb(),a.Vb(),a.Wb(13,"li",15),a.Wb(14,"div",16),a.Rb(15,"odm-ghost-block"),a.Vb(),a.Vb(),a.Vb())}let ge=(()=>{class e{constructor(e){this._log=e,this._codes=[],this.generatingCodes=!1,this.disabled=!1,this.generateNewRecoveryCodesClicked=new a.o,this._touchGestrues="on",this._showDelayInMs=Z.a,this._generatingCodesSpinnerDiameter=Q.c,this._generatingCodesSpinnerStrokeWidth=Q.d}set serverError(e){this._log.debug("serverError emitted.",this),this._serverError=e}set codes(e){this._log.debug("codes emitted.",this),this._codes=e,this._removeServerError()}_onGenerateNewRecoveryCodes(){this._log.trace("_onGenerateNewRecoveryCodes fired.",this),this.generateNewRecoveryCodesClicked.emit()}_onUserCodesClosed(){this._log.trace("_onUserCodesClosed fired.",this),this._removeServerError()}_removeServerError(){this._log.trace("_removeServerError fired.",this),this.serverError=null}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(R.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-two-factor-authentication-codes"]],inputs:{serverError:"serverError",codes:"codes",generatingCodes:"generatingCodes",disabled:"disabled"},outputs:{generateNewRecoveryCodesClicked:"generateNewRecoveryCodesClicked"},decls:30,vars:26,consts:[[1,"recovery-codes"],[3,"disabled","closed"],[1,"recovery-codes__truncate",3,"matTooltip","matTooltipShowDelay","matTooltipTouchGestures"],[1,"recovery-codes__user-secret"],["icon","user-secret"],[4,"ngIf","ngIfElse"],["mat-raised-button","","color","accent",3,"disabled","click"],[4,"ngIf"],[3,"serverError"],["noRecoveryCodes",""],["generating",""],[1,"recovery-codes__format-codes","blink"],[4,"ngFor","ngForOf"],[3,"type","spinnerColor","diameter","strokeWidth"],[1,"recovery-codes__format-codes"],[1,"generating-codes"],[1,"generating-code-ghost"]],template:function(e,t){if(1&e&&(a.Wb(0,"mat-accordion",0),a.Wb(1,"mat-expansion-panel",1),a.dc("closed",function(){return t._onUserCodesClosed()}),a.Wb(2,"mat-expansion-panel-header"),a.Wb(3,"mat-panel-title"),a.Cc(4),a.ic(5,"translate"),a.Vb(),a.Wb(6,"mat-panel-description",2),a.ic(7,"translate"),a.Cc(8),a.ic(9,"translate"),a.Wb(10,"mat-icon",3),a.Rb(11,"fa-icon",4),a.Vb(),a.Vb(),a.Vb(),a.Wb(12,"div"),a.Wb(13,"h3"),a.Cc(14),a.ic(15,"translate"),a.Vb(),a.Wb(16,"p"),a.Cc(17),a.ic(18,"translate"),a.Vb(),a.Ac(19,ce,2,2,"ng-container",5),a.Wb(20,"div"),a.Wb(21,"button",6),a.dc("click",function(){return t._onGenerateNewRecoveryCodes()}),a.Cc(22),a.ic(23,"translate"),a.Ac(24,le,2,4,"ng-container",7),a.Vb(),a.Rb(25,"odm-server-side-error",8),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Ac(26,de,4,3,"ng-template",null,9,a.Bc),a.Ac(28,ue,16,0,"ng-template",null,10,a.Bc)),2&e){const e=a.rc(29);a.Eb(1),a.mc("disabled",t.disabled),a.Eb(3),a.Ec(" ",a.jc(5,14,"odm.account.security.two-step.recovery-codes.title")," "),a.Eb(2),a.mc("matTooltip",a.jc(7,16,"odm.account.security.two-step.recovery-codes.description"))("matTooltipShowDelay",t._showDelayInMs)("matTooltipTouchGestures",t._touchGestrues),a.Eb(2),a.Ec(" ",a.jc(9,18,"odm.account.security.two-step.recovery-codes.description")," "),a.Eb(6),a.Dc(a.jc(15,20,"odm.account.security.two-step.recovery-codes.backup-codes.title")),a.Eb(3),a.Dc(a.jc(18,22,"odm.account.security.two-step.recovery-codes.backup-codes.description")),a.Eb(2),a.mc("ngIf",!t.generatingCodes)("ngIfElse",e),a.Eb(2),a.mc("disabled",t.generatingCodes),a.Eb(1),a.Ec(" ",a.jc(23,24,"odm.buttons.generate")," "),a.Eb(2),a.mc("ngIf",t.generatingCodes),a.Eb(1),a.mc("serverError",t._serverError)}},directives:[X.a,X.c,X.e,X.f,X.d,ee.a,te.a,ne.a,i.k,ie.b,G.a,i.j,J.a,oe],pipes:[c.c],styles:['.recovery-codes[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.recovery-codes[_ngcontent-%COMP%]   .recovery-codes__user-secret[_ngcontent-%COMP%]{display:block}.recovery-codes[_ngcontent-%COMP%]   .recovery-codes__format-codes[_ngcontent-%COMP%]{-moz-columns:2;column-count:2;padding-left:20px;transition:"ease-in"}.recovery-codes[_ngcontent-%COMP%]   .generating-codes[_ngcontent-%COMP%]{height:20px;padding-bottom:2.5px;width:90%}.recovery-codes[_ngcontent-%COMP%]   .generating-codes[_ngcontent-%COMP%]   .generating-code-ghost[_ngcontent-%COMP%]{height:80%}@media (max-width:576px){.recovery-codes__truncate[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}}'],data:{animation:[o.f]},changeDetection:0}),e})();const he=["slideToggle"];function be(e,t){if(1&e&&(a.Ub(0),a.Rb(1,"odm-spinner",13),a.Tb()),2&e){const e=a.hc(2);a.Eb(1),a.mc("spinnerColor","accent")("type","button")("diameter",e._twoFactorAuthToggleSpinnerDiameter)("strokeWidth",e._twoFactorAuthToggleSpinnerStrokeWidth)}}function pe(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"div"),a.Wb(2,"div",14),a.Wb(3,"odm-two-factor-authentication-codes",15),a.dc("generateNewRecoveryCodesClicked",function(){return a.tc(e),a.hc(2)._onGenerateNew2FaRecoveryCodesClicked()}),a.Vb(),a.Vb(),a.Vb(),a.Tb()}if(2&e){const e=a.hc(2);a.Eb(1),a.mc("@downUpFadeIn",void 0),a.Eb(2),a.mc("codes",e.userRecoveryCodes)("disabled",e._twoFactorAuthToggleLoading)("generatingCodes",e.generatingNewRecoveryCodes)}}function fe(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"div",5),a.Wb(2,"div",6),a.Wb(3,"span",7),a.Cc(4),a.ic(5,"translate"),a.Vb(),a.Vb(),a.Wb(6,"div"),a.Wb(7,"div",8),a.Wb(8,"div",9),a.Ac(9,be,2,4,"ng-container",10),a.Vb(),a.Wb(10,"mat-slide-toggle",11,12),a.dc("change",function(t){return a.tc(e),a.hc()._onTwoFactorAuthToggleChanged(t)}),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Ac(12,pe,4,4,"ng-container",10),a.Tb()}if(2&e){const e=a.hc();a.Eb(1),a.mc("ngClass",e.twoFactorEnabled?"two-factor-settings__extra-margin":null)("@downUpFadeIn",void 0),a.Eb(2),a.xc("--short-description",e._shortDescriptionFontSize),a.Eb(1),a.Dc(a.jc(5,10,"odm.account.security.two-step.description")),a.Eb(2),a.mc("@downUpFadeIn",void 0),a.Eb(3),a.mc("ngIf",e._twoFactorAuthToggleLoading),a.Eb(1),a.mc("disabled",e._twoFactorAuthToggleLoading)("checked",e.twoFactorEnabled),a.Eb(2),a.mc("ngIf",e.twoFactorEnabled)}}function me(e,t){1&e&&(a.Wb(0,"div",16),a.Rb(1,"odm-ghost-block"),a.Vb(),a.Wb(2,"div",17),a.Rb(3,"odm-ghost-block"),a.Vb())}let _e=(()=>{class e{constructor(e,t,n){this._log=e,this._router=t,this._route=n,this.userRecoveryCodes=[],this._twoFactorAuthToggleLoading=!1,this.navigateToSetup=new a.o,this.generateNew2faRecoveryCodesClicked=new a.o,this.twoFactorAuthToggleChanged=new a.o,this._showTwoFactorAuthSetupWizard=!1,this._routeAnimationsElements=o.e,this._shortDescriptionFontSize=K.b,this._accountHeader=K.a,this._twoFactorAuthToggleSpinnerDiameter=Q.c,this._twoFactorAuthToggleSpinnerStrokeWidth=Q.d}set problemDetails(e){this._problemDetails=e}set internalServerErrorDetails(e){this._internalServerErrorDetails=e}set twoFactorAuthToggleLoading(e){this._log.debug("twoFactorAuthToggleLoading emitted.",this),this._twoFactorAuthToggleLoading=e,setTimeout(()=>{this.twoFactorEnabledToggle&&(this.twoFactorEnabledToggle.checked=this.twoFactorEnabled)})}set authenticatorSetup(e){this._log.debug("authenticatorSetup emitted.",this),this._authenticatorSetup=e,""!==e.authenticatorUri&&""!==e.sharedKey&&this.navigateToSetup.emit()}_onTwoFactorAuthToggleChanged(e){this._log.trace("_onTwoFactorAuthToggle fired.",this),this._clearServerErrors(),this.twoFactorAuthToggleChanged.emit(e)}_onGenerateNew2FaRecoveryCodesClicked(){this._log.trace("_onGenerateNew2FaRecoveryCodes fired.",this),this._clearServerErrors(),this.generateNew2faRecoveryCodesClicked.emit()}_clearServerErrors(){this._log.trace("_clearServerErrors fired.",this),this._problemDetails=null,this._internalServerErrorDetails=null}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(R.a),a.Qb(r.h),a.Qb(r.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-two-factor-authentication"]],viewQuery:function(e,t){if(1&e&&a.Fc(he,1),2&e){let e;a.qc(e=a.ec())&&(t.twoFactorEnabledToggle=e.first)}},inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",loading:"loading",twoFactorEnabled:"twoFactorEnabled",userRecoveryCodes:"userRecoveryCodes",twoFactorAuthToggleLoading:"twoFactorAuthToggleLoading",authenticatorSetup:"authenticatorSetup",generatingNewRecoveryCodes:"generatingNewRecoveryCodes"},outputs:{navigateToSetup:"navigateToSetup",generateNew2faRecoveryCodesClicked:"generateNew2faRecoveryCodesClicked",twoFactorAuthToggleChanged:"twoFactorAuthToggleChanged"},decls:8,vars:10,consts:[[1,"two-factor-settings"],[1,"two-factor-settings--header"],[4,"ngIf","ngIfElse"],[3,"internalServerErrorDetails","problemDetails"],["loadingState",""],[1,"two-factor-settings__state",3,"ngClass"],[1,"two-factor-settings__short-description"],[1,"two-factor-settings__description"],[1,"two-factor-settings__toggle-state"],[1,"two-factor-settings__toggle-state-spinner-container"],[4,"ngIf"],["color","primary",3,"disabled","checked","change"],["slideToggle",""],[3,"spinnerColor","type","diameter","strokeWidth"],[1,"two-factor-settings__user-recovery-codes"],[3,"codes","disabled","generatingCodes","generateNewRecoveryCodesClicked"],[1,"two-factor-settings__ghost-loading-state"],[1,"two-factor-settings__ghost-loading-codes"]],template:function(e,t){if(1&e&&(a.Wb(0,"div",0),a.Wb(1,"h3",1),a.Cc(2),a.ic(3,"translate"),a.Vb(),a.Ac(4,fe,13,12,"ng-container",2),a.Vb(),a.Rb(5,"odm-server-side-error",3),a.Ac(6,me,4,0,"ng-template",null,4,a.Bc)),2&e){const e=a.rc(7);a.Eb(1),a.xc("--account-header",t._accountHeader),a.mc("@downUpFadeIn",void 0),a.Eb(1),a.Ec(" ",a.jc(3,8,"odm.account.security.two-step.title")," "),a.Eb(2),a.mc("ngIf",!t.loading)("ngIfElse",e),a.Eb(1),a.mc("internalServerErrorDetails",t._internalServerErrorDetails)("problemDetails",t._problemDetails)}},directives:[i.k,G.a,i.i,Y.a,J.a,ge,oe],pipes:[c.c],styles:[".two-factor-settings[_ngcontent-%COMP%]{overflow:hidden;width:100%}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings--header[_ngcontent-%COMP%]{font-size:var(--account-header)}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__user-recovery-codes[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.15)}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__error[_ngcontent-%COMP%]{padding-top:8px;display:block;font-size:15px}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__error[_ngcontent-%COMP%]   .two-factor-settings__error-format-position[_ngcontent-%COMP%]{width:15px;height:15px;vertical-align:text-top;font-size:15px}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__ghost-loading-state[_ngcontent-%COMP%]{height:56px;padding:8px 0}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__ghost-loading-codes[_ngcontent-%COMP%]{height:40px}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__extra-margin[_ngcontent-%COMP%]{margin-bottom:18.72px}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:8px;height:48px}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__state[_ngcontent-%COMP%]   .two-factor-settings__short-description[_ngcontent-%COMP%]{display:flex}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__state[_ngcontent-%COMP%]   .two-factor-settings__short-description[_ngcontent-%COMP%]   .two-factor-settings__description[_ngcontent-%COMP%]{font-size:var(--short-description)}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__state[_ngcontent-%COMP%]   .two-factor-settings__toggle-state[_ngcontent-%COMP%]{padding-right:10px;align-self:flex-end;display:flex}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__state[_ngcontent-%COMP%]   .two-factor-settings__toggle-state[_ngcontent-%COMP%]   .two-factor-settings__toggle-state-spinner-container[_ngcontent-%COMP%]{width:24px;margin:0 10px}  .ng-animating div mat-accordion mat-expansion-panel mat-expansion-panel-header{height:48px}  .ng-animating div mat-accordion mat-expansion-panel div.mat-expansion-panel-content{height:0;visibility:hidden}@media (min-width:576px){.two-factor-settings[_ngcontent-%COMP%]{overflow:hidden}}"],data:{animation:[o.f]},changeDetection:0}),e})();var we=n("f0Cb");let ve=(()=>{class e{constructor(e,t,n){this._log=e,this._router=t,this._route=n,this._shortDescription=K.b,this._accountHeader=K.a}_onChangePasswordClicked(){this._log.trace("_onChangePasswordClicked fired.",this),this._router.navigate(["security/change-password"],{relativeTo:this._route.parent})}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(R.a),a.Qb(r.h),a.Qb(r.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-password-settings"]],decls:14,vars:15,consts:[[1,"password-settings"],[1,"password-settings--header"],[1,"password-settings__state"],[1,"password-settings__short-description"],[1,"password-settings__change"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(a.Wb(0,"div"),a.Wb(1,"div",0),a.Wb(2,"h3",1),a.Cc(3),a.ic(4,"translate"),a.Vb(),a.Wb(5,"div",2),a.Wb(6,"div",3),a.Wb(7,"span"),a.Cc(8),a.ic(9,"translate"),a.Vb(),a.Vb(),a.Wb(10,"div",4),a.Wb(11,"button",5),a.dc("click",function(){return t._onChangePasswordClicked()}),a.Cc(12),a.ic(13,"translate"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.Eb(2),a.xc("--account-header",t._accountHeader),a.mc("@downUpFadeIn",void 0),a.Eb(1),a.Ec(" ",a.jc(4,9,"odm.account.security.password.title")," "),a.Eb(2),a.mc("@downUpFadeIn",void 0),a.Eb(1),a.xc("--short-description",t._shortDescription),a.Eb(2),a.Dc(a.jc(9,11,"odm.account.security.password.description")),a.Eb(4),a.Dc(a.jc(13,13,"odm.buttons.change")))},directives:[ie.b],pipes:[c.c],styles:["[_nghost-%COMP%]{width:100%}.password-settings__spacer[_ngcontent-%COMP%]{width:400px;height:58px}.password-settings[_ngcontent-%COMP%]{width:100%;overflow:hidden}.password-settings[_ngcontent-%COMP%]   .password-settings--header[_ngcontent-%COMP%]{font-size:var(--account-header)}.password-settings[_ngcontent-%COMP%]   .password-settings__state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:8px}.password-settings[_ngcontent-%COMP%]   .password-settings__short-description[_ngcontent-%COMP%]{display:flex;font-size:var(--short-description)}.password-settings[_ngcontent-%COMP%]   .password-settings__ghost-loading-state[_ngcontent-%COMP%]{height:56px;padding:8px 0}"],data:{animation:[o.f]},changeDetection:0}),e})();function Ce(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Wb(3,"odm-two-factor-authentication",3),a.dc("generateNew2faRecoveryCodesClicked",function(){return a.tc(e),a.hc()._onGenerateNew2faRecoveryCodesClicked()})("twoFactorAuthToggleChanged",function(t){return a.tc(e),a.hc()._onTwoFactorAuthToggle(t)})("navigateToSetup",function(){return a.tc(e),a.hc()._onNavigateToSetup()}),a.ic(4,"async"),a.ic(5,"async"),a.ic(6,"async"),a.ic(7,"async"),a.ic(8,"async"),a.Vb(),a.Vb(),a.Rb(9,"mat-divider"),a.Wb(10,"div",2),a.Rb(11,"odm-password-settings"),a.Vb(),a.Rb(12,"mat-divider"),a.Vb(),a.Tb()}if(2&e){const e=t.ngIf,n=a.hc();a.Eb(2),a.mc("ngClass",n._routeAnimationsElements),a.Eb(1),a.mc("userRecoveryCodes",null==e||null==e.recoveryCodes?null:e.recoveryCodes.items)("twoFactorEnabled",null==e?null:e.twoFactorEnabled)("authenticatorSetup",a.jc(4,10,n._authenticatorSetup$))("generatingNewRecoveryCodes",n._generatingNewRecoveryCodes)("loading",a.jc(5,12,n._loading$))("twoFactorAuthToggleLoading",a.jc(6,14,n._twoFactorAuthToggleLoading$))("problemDetails",a.jc(7,16,n._problemDetails$))("internalServerErrorDetails",a.jc(8,18,n._internalServerErrorDetails$)),a.Eb(7),a.mc("ngClass",n._routeAnimationsElements)}}let ye=(()=>{class e{constructor(e,t){this._sb=e,this._route=t,this._routeAnimationsElements=o.e,this._loadingSub=new d.a(!1),this._loading$=this._loadingSub.asObservable(),this._twoFactorAuthToggleLoadingSub=new d.a(!1),this._twoFactorAuthToggleLoading$=this._twoFactorAuthToggleLoadingSub.asObservable(),this._subscription=new u.a,this._accountSecurityDetails$=e.accountSecurityDetails$,this._authenticatorSetup$=e.twoFactorAuthenticationSetup$,this._problemDetails$=e.problemDetails$,this._internalServerErrorDetails$=e.internalServerErrorDetails$}ngOnInit(){this._sb.log.trace("Initialized.",this),this._loadingSub.next(!0),this._sb.getAccountSecurityInfo(),this._subscription.add(this._listenToSecurityEvents$().subscribe())}_onTwoFactorAuthToggle(e){this._sb.log.trace("_onTwoFactorAuthToggle fired.",this),this._twoFactorAuthToggleLoadingSub.next(!0),e.checked?(this._sb.log.debug("_onTwoFactorAuthToggle: enter 2fa setup.",this),this._sb.setupAuthenticator()):(this._sb.log.debug("_onTwoFactorAuthToggle: disable 2fa.",this),this._sb.disable2Fa())}_onGenerateNew2faRecoveryCodesClicked(){this._sb.log.trace("_onGenerateNew2FaRecoveryCodes fired.",this),this._generatingNewRecoveryCodes=!0,this._sb.generateRecoveryCodes()}_onNavigateToSetup(){this._sb.router.navigate(["security/two-factor-authentication-setup"],{relativeTo:this._route.parent})}_listenToSecurityEvents$(){return this._sb.log.trace("_listenToSecurityEvents executed.",this),Object(g.a)(this._accountSecurityDetails$.pipe(Object(h.a)(1)),this._sb.onCompletedUpdateRecoveryCodesAction$,this._authenticatorSetup$.pipe(Object(h.a)(1)),this._problemDetails$,this._internalServerErrorDetails$).pipe(Object(b.a)(e=>void 0!==e),Object(p.a)(()=>{this._generatingNewRecoveryCodes=!1,this._twoFactorAuthToggleLoadingSub.next(!1),this._loadingSub.next(!1)}))}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(H),a.Qb(r.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-security-container"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"account-security"],[3,"ngClass"],[3,"userRecoveryCodes","twoFactorEnabled","authenticatorSetup","generatingNewRecoveryCodes","loading","twoFactorAuthToggleLoading","problemDetails","internalServerErrorDetails","generateNew2faRecoveryCodesClicked","twoFactorAuthToggleChanged","navigateToSetup"]],template:function(e,t){1&e&&(a.Ac(0,Ce,13,20,"ng-container",0),a.ic(1,"async")),2&e&&a.mc("ngIf",a.jc(1,1,t._accountSecurityDetails$))},directives:[i.k,i.i,_e,we.a,ve],pipes:[i.b],styles:[".account-security[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin:18.72px 0}.account-security[_ngcontent-%COMP%]   .account-security__error[_ngcontent-%COMP%]{padding-top:8px;display:block;font-size:15px}.account-security[_ngcontent-%COMP%]   .account-security__error[_ngcontent-%COMP%]   .account-security__error-format-position[_ngcontent-%COMP%]{width:15px;height:15px;vertical-align:text-top;font-size:15px}"],data:{animation:[o.i]}}),e})();var Ee=n("oluo"),Pe=n("XNiG"),Oe=n("44v3"),Se=n("ZQlJ"),Me=n("Wp6s"),Ae=n("kmnG"),je=n("qFsG"),Re=n("Bm1U");function Ve(e,t){if(1&e&&(a.Wb(0,"mat-error"),a.Cc(1),a.ic(2,"async"),a.Vb()),2&e){const e=a.hc();a.Eb(1),a.Dc(a.jc(2,1,e._getErrorMessage$(null==e._changePasswordForm?null:e._changePasswordForm.get("currentPassword"))))}}function ke(e,t){if(1&e&&(a.Ub(0),a.Wb(1,"mat-icon",20),a.Cc(2),a.Vb(),a.Tb()),2&e){const e=a.hc();a.Eb(1),a.mc("ngClass",e.confirmPasswordMatchReqMet?"auth--req-met":"auth--req-not-met"),a.Eb(1),a.Dc(e.confirmPasswordMatchReqMet?"check":"clear")}}function De(e,t){if(1&e&&(a.Wb(0,"mat-error"),a.Cc(1),a.ic(2,"async"),a.Vb()),2&e){const e=a.hc();a.Eb(1),a.Dc(a.jc(2,1,e._getErrorMessage$(null==e._changePasswordForm?null:e._changePasswordForm.get("confirmPassword"))))}}function Fe(e,t){if(1&e&&(a.Ub(0),a.Rb(1,"odm-spinner",21),a.Tb()),2&e){const e=a.hc();a.Eb(1),a.mc("type","button")("spinnerColor","accent")("diameter",e._changingPasswordSpinnerDiameter)("strokeWidth",e._changingPasswordSpinnerStrokeWidth)}}let Te=(()=>{class e extends Se.a{constructor(e,t,n){super(e,t,n),this.translateErrorValidationService=e,this.log=t,this.cd=n,this.changePasswordSubmitted=new a.o,this.cancelClicked=new a.o,this.passwordHelpToggled=new a.o,this._currentPasswordHide=!0,this._newPasswordHide=!0,this._confirmPasswordHide=!0,this._changingPasswordSpinnerDiameter=Q.c,this._changingPasswordSpinnerStrokeWidth=Q.d}set problemDetails(e){this.log.debug("Problem details emitted.",this),this.problemDetailsError=e}set internalServerErrorDetails(e){this.log.debug("Internal server error emitted.",this),this.internalServerError=e}set changePasswordForm(e){this.log.debug("Change password form emitted.",this),this._changePasswordForm=e,this._passwordControl=e.get("password")}_onChangePassword(){this.log.trace("_onChangePassword fired.",this),this.changePasswordSubmitted.emit()}_onPasswordHelpToggled(){this.log.trace("_onPasswordHelpToggled fired.",this),this.passwordHelpToggled.emit()}_cancelClicked(){this.log.trace("_cancelClicked fired.",this),this.cancelClicked.emit()}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(z.a),a.Qb(R.a),a.Qb(a.i))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-change-password"]],inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",changePasswordForm:"changePasswordForm",passwordRequirements:"passwordRequirements",passwordHelpToggleClass:"passwordHelpToggleClass",confirmPasswordMatchReqMet:"confirmPasswordMatchReqMet",passwordChangeInProgress:"passwordChangeInProgress",passwordHelpTogglePosition:"passwordHelpTogglePosition"},outputs:{changePasswordSubmitted:"changePasswordSubmitted",cancelClicked:"cancelClicked",passwordHelpToggled:"passwordHelpToggled"},features:[a.Bb],decls:54,vars:37,consts:[[1,"change-password-container"],[1,"change-password-container__change"],[1,"change-password__card"],["mat-card-avatar","",1,"change-password-container__header-image"],[3,"formGroup"],[1,"change-password__content"],[1,"auth__current-password-field"],[1,"change-password--email-invisible"],["matInput","","formControlName","email","autocomplete","username"],["appearance","standard"],["matInput","","formControlName","currentPassword","autocomplete","current-password","required","",3,"type"],["matSuffix","",1,"auth__view-password",3,"click"],[4,"ngIf"],[1,"auth__new-password-field",3,"ngClass"],["matInput","","formControlName","password","autocomplete","new-password","required","",3,"type"],[3,"togglePosition","passwordRequirements","passwordControl","passwordHelpClicked"],[1,"auth__confirm-password-field"],["matInput","","formControlName","confirmPassword","autocomplete","new-password","required","",3,"type"],["mat-button","","mat-stroked-button","","color","accent","type","button",3,"disabled","click"],["mat-button","","type","button",3,"click"],["matPrefix","",3,"ngClass"],[3,"type","spinnerColor","diameter","strokeWidth"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"mat-card",2),a.Wb(3,"mat-card-header"),a.Rb(4,"div",3),a.Wb(5,"mat-card-title"),a.Cc(6),a.ic(7,"translate"),a.Vb(),a.Vb(),a.Wb(8,"mat-card-content"),a.Wb(9,"form",4),a.Wb(10,"div",5),a.Wb(11,"div",6),a.Wb(12,"mat-form-field",7),a.Rb(13,"input",8),a.Vb(),a.Wb(14,"mat-form-field",9),a.Wb(15,"mat-label"),a.Cc(16),a.ic(17,"translate"),a.Vb(),a.Rb(18,"input",10),a.Wb(19,"mat-icon",11),a.dc("click",function(){return t._currentPasswordHide=!t._currentPasswordHide}),a.Cc(20),a.Vb(),a.Ac(21,Ve,3,3,"mat-error",12),a.Vb(),a.Vb(),a.Wb(22,"div",13),a.Wb(23,"mat-form-field",9),a.Wb(24,"mat-label"),a.Cc(25),a.ic(26,"translate"),a.Vb(),a.Rb(27,"input",14),a.Wb(28,"mat-icon",11),a.dc("click",function(){return t._newPasswordHide=!t._newPasswordHide}),a.Cc(29),a.Vb(),a.Wb(30,"mat-hint"),a.Wb(31,"odm-password-help",15),a.dc("passwordHelpClicked",function(){return t._onPasswordHelpToggled()}),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(32,"div",16),a.Wb(33,"mat-form-field",9),a.Wb(34,"mat-label"),a.Cc(35),a.ic(36,"translate"),a.Vb(),a.Rb(37,"input",17),a.Wb(38,"mat-icon",11),a.dc("click",function(){return t._confirmPasswordHide=!t._confirmPasswordHide}),a.Cc(39),a.Vb(),a.Wb(40,"mat-hint"),a.Wb(41,"span"),a.Ac(42,ke,3,2,"ng-container",12),a.Cc(43),a.ic(44,"translate"),a.Vb(),a.Vb(),a.Ac(45,De,3,3,"mat-error",12),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(46,"mat-card-actions"),a.Wb(47,"button",18),a.dc("click",function(){return t._onChangePassword()}),a.Cc(48),a.ic(49,"translate"),a.Ac(50,Fe,2,4,"ng-container",12),a.Vb(),a.Wb(51,"button",19),a.dc("click",function(){return t._cancelClicked()}),a.Cc(52),a.ic(53,"translate"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.Eb(6),a.Dc(a.jc(7,23,"odm.account.security.password.change.title")),a.Eb(3),a.mc("formGroup",t._changePasswordForm),a.Eb(7),a.Dc(a.jc(17,25,"odm.auth.form.label.current-password")),a.Eb(2),a.mc("type",t._currentPasswordHide?"password":"text"),a.Eb(2),a.Dc(t._currentPasswordHide?"visibility_off":"visibility"),a.Eb(1),a.mc("ngIf",t._ifControlFieldIsInvalid(null==t._changePasswordForm?null:t._changePasswordForm.get("currentPassword"))),a.Eb(1),a.mc("ngClass",t.passwordHelpToggleClass),a.Eb(3),a.Dc(a.jc(26,27,"odm.auth.form.label.new-password")),a.Eb(2),a.mc("type",t._newPasswordHide?"password":"text"),a.Eb(2),a.Dc(t._newPasswordHide?"visibility_off":"visibility"),a.Eb(2),a.mc("togglePosition",t.passwordHelpTogglePosition)("passwordRequirements",t.passwordRequirements)("passwordControl",t._passwordControl),a.Eb(4),a.Dc(a.jc(36,29,"odm.auth.form.label.confirm-password")),a.Eb(2),a.mc("type",t._confirmPasswordHide?"password":"text"),a.Eb(2),a.Dc(t._confirmPasswordHide?"visibility_off":"visibility"),a.Eb(3),a.mc("ngIf",!(null!=t._changePasswordForm&&t._changePasswordForm.get("confirmPassword").pristine)&&(null==t._changePasswordForm?null:t._changePasswordForm.get("password").valid)),a.Eb(1),a.Ec(" ",a.jc(44,31,"odm.auth.form.requirements.pass-must-match")," "),a.Eb(2),a.mc("ngIf",(null==t._changePasswordForm?null:t._changePasswordForm.get("confirmPassword").invalid)&&(null==t._changePasswordForm?null:t._changePasswordForm.get("password").valid)),a.Eb(2),a.mc("disabled",!(null!=t._changePasswordForm&&t._changePasswordForm.valid)||t.passwordChangeInProgress),a.Eb(1),a.Ec(" ",a.jc(49,33,"odm.buttons.change")," "),a.Eb(2),a.mc("ngIf",t.passwordChangeInProgress),a.Eb(2),a.Dc(a.jc(53,35,"odm.buttons.cancel")))},directives:[Me.a,Me.e,Me.c,Me.h,Me.d,L.s,L.m,L.f,Ae.c,je.b,L.c,L.l,L.e,Ae.g,L.q,te.a,Ae.j,i.k,i.i,Ae.f,Re.a,Me.b,ie.b,Ae.b,Ae.i,J.a],pipes:[c.c,i.b],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card-actions[_ngcontent-%COMP%]{width:80%;margin:0 auto}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:45%}.mat-card[_ngcontent-%COMP%] > .mat-card-actions[_ngcontent-%COMP%]:last-child{margin-bottom:0}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]{position:relative;z-index:110}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .change-password--email-invisible[_ngcontent-%COMP%]{display:block;visibility:hidden;height:0;width:0}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .change-password-container__header-image[_ngcontent-%COMP%]{background-image:url(change_info.626c1782359462b934c7.png);background-size:cover}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__current-password-field[_ngcontent-%COMP%], .change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__new-password-field[_ngcontent-%COMP%], .change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .change-password__title[_ngcontent-%COMP%]{width:80%;margin:0 auto}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__confirm-password-field[_ngcontent-%COMP%]{margin:12px auto;width:80%}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .change-password__card[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .change-password__card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__password-field-help-on[_ngcontent-%COMP%]{margin-bottom:111px;transition:margin-bottom .3s ease-in}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__password-field-help-off[_ngcontent-%COMP%]{margin-bottom:0;transition:margin-bottom .3s ease-in}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__confirm-password-field[_ngcontent-%COMP%]{padding-top:12px}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__view-password[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),e})(),We=(()=>{class e{constructor(e,t){this._sb=e,this._route=t,this._confirmPasswordMatchReqMet=!1,this._passwordRequirements=[],this._passwordHelpToggleClass="auth__password-field-help-off",this._passwordHelpTogglePositionSub=new Pe.a,this._passwordHelpTogglePosition$=this._passwordHelpTogglePositionSub.asObservable(),this._subscription=new u.a,this._problemDetails$=e.problemDetails$,this._internalServerErrorDetails$=e.internalServerErrorDetails$,this._passwordChangeCompleted$=e.passwordChangeCompleted$}ngOnInit(){this._sb.log.trace("Initialized.",this),this._passwordRequirements=this._initPasswordRequirements(),this._changePasswordForm=this._initChangePasswordForm(),this._subscription.add(this._validateFormConfirmPasswordField$().subscribe()),this._subscription.add(this._listenForServerErrors$().subscribe()),this._subscription.add(this._onPasswordChangeCompleted$().subscribe())}ngOnDestroy(){this._sb.log.trace("Destroyed.",this),this._subscription.unsubscribe()}_onChangePasswordSubmitted(){this._sb.log.trace("_onChangePasswordClicked fired.",this),this._passwordChangeInProgress=!0,this._sb.changePassword(this._changePasswordForm.value)}_onCancelClicked(){this._sb.log.trace("_onCancelClicked fired.",this),this._sb.router.navigate(["security"],{relativeTo:this._route.parent})}_onPasswordHelpToggled(){this._sb.log.trace("_onPasswordHelpToggled fired.",this),this._passwordHelpToggleClass="auth__password-field-help-off"===this._passwordHelpToggleClass?"auth__password-field-help-on":"auth__password-field-help-off"}_onPasswordChangeCompleted$(){return this._sb.log.trace("_onPasswordChangeCompleted$ fired.",this),this._passwordChangeCompleted$.pipe(Object(h.a)(1),Object(p.a)(e=>e?void this._sb.router.navigate(["security"],{relativeTo:this._route.parent}):null),Object(p.a)(()=>this._sb.passwordChangeCompleted({passwordChangeCompleted:!1})))}_validateFormConfirmPasswordField$(){return this._sb.log.trace("_validateFormConfirmPasswordField$ fired.",this),this._changePasswordForm.valueChanges.pipe(Object(p.a)(e=>{this._confirmPasswordMatchReqMet=!this._changePasswordForm.hasError("notSame")}))}_listenForServerErrors$(){return this._sb.log.trace("_listenForServerErrors$ fired.",this),Object(g.a)(this._sb.problemDetails$,this._sb.internalServerErrorDetails$).pipe(Object(p.a)(()=>{this._sb.log.debug("Changing _togglePosition to 'collapsed'"),this._passwordHelpTogglePositionSub.next("collapsed"),this._passwordChangeInProgress=!1}))}_initPasswordRequirements(){return Object(Ee.a)()}_initChangePasswordForm(){return this._sb.log.trace("_initChangePasswordForm fired.",this),this._sb.fb.group({email:this._sb.fb.control(""),currentPassword:this._sb.fb.control("",{validators:[Oe.b.required],updateOn:"change"}),password:this._sb.fb.control("",{validators:[Oe.b.required,Oe.b.minLength(Oe.a),Oe.b.requireDigit,Oe.b.requireLowercase,Oe.b.requireUppercase,Oe.b.requireNonAlphanumeric,Oe.b.requireThreeUniqueCharacters],updateOn:"change"}),confirmPassword:this._sb.fb.control("",Oe.b.required)},{validators:Oe.b.requireConfirmPassword,updateOn:"change"})}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(H),a.Qb(r.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-change-password-container"]],decls:6,vars:15,consts:[[1,"change-password-overlay"],[3,"changePasswordForm","passwordRequirements","passwordChangeInProgress","passwordHelpToggleClass","confirmPasswordMatchReqMet","passwordHelpTogglePosition","problemDetails","internalServerErrorDetails","passwordHelpToggled","changePasswordSubmitted","cancelClicked"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.Wb(1,"div"),a.Wb(2,"odm-change-password",1),a.dc("passwordHelpToggled",function(){return t._onPasswordHelpToggled()})("changePasswordSubmitted",function(){return t._onChangePasswordSubmitted()})("cancelClicked",function(){return t._onCancelClicked()}),a.ic(3,"async"),a.ic(4,"async"),a.ic(5,"async"),a.Vb(),a.Vb()),2&e&&(a.Eb(2),a.mc("changePasswordForm",t._changePasswordForm)("passwordRequirements",t._passwordRequirements)("passwordChangeInProgress",t._passwordChangeInProgress)("passwordHelpToggleClass",t._passwordHelpToggleClass)("confirmPasswordMatchReqMet",t._confirmPasswordMatchReqMet)("passwordChangeInProgress",t._passwordChangeInProgress)("passwordHelpTogglePosition",a.jc(3,9,t._passwordHelpTogglePosition$))("problemDetails",a.jc(4,11,t._problemDetails$))("internalServerErrorDetails",a.jc(5,13,t._internalServerErrorDetails$)))},directives:[Te],pipes:[i.b],styles:[".change-password-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;opacity:.5;z-index:100}"],changeDetection:0}),e})();var Ie=n("zhtI");function xe(e,t){1&e&&(a.Wb(0,"mat-icon",8),a.ic(1,"translate"),a.Rb(2,"fa-icon",9),a.Vb()),2&e&&a.mc("matTooltip",a.jc(1,1,"odm.account.general.pending-verification-tooltip"))}function qe(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div"),a.Wb(1,"button",10),a.dc("click",function(){return a.tc(e),a.hc(3)._onResendEmailVerificationClicked()}),a.ic(2,"translate"),a.Cc(3),a.ic(4,"translate"),a.Vb(),a.Vb()}if(2&e){const e=a.hc(3);a.Eb(1),a.mc("matTooltip",e._disabled?a.jc(2,3,"odm.account.general.resend-verification-disabled-tooltip"):"")("disabled",e._disabled),a.Eb(2),a.Ec(" ",a.jc(4,5,"odm.buttons.resend-verification")," ")}}function $e(e,t){if(1&e&&(a.Ub(0),a.Wb(1,"div",5),a.Wb(2,"div"),a.Wb(3,"span",6),a.Cc(4),a.Vb(),a.Ac(5,xe,3,3,"mat-icon",7),a.Vb(),a.Ac(6,qe,5,7,"div",4),a.Vb(),a.Tb()),2&e){const e=a.hc(2);a.Eb(4),a.Dc(e.email),a.Eb(1),a.mc("ngIf",e.email!==e._fallbackEmail),a.Eb(1),a.mc("ngIf",e.email!==e._fallbackEmail)}}function Ne(e,t){if(1&e&&(a.Ub(0),a.Wb(1,"div",11),a.Wb(2,"span",6),a.Cc(3),a.Vb(),a.Wb(4,"mat-icon",12),a.ic(5,"translate"),a.Rb(6,"fa-icon",13),a.Vb(),a.Vb(),a.Tb()),2&e){const e=a.hc(2);a.Eb(3),a.Dc(e.email),a.Eb(1),a.mc("matTooltip",a.jc(5,2,"odm.account.general.verified-tooltip"))}}function Be(e,t){if(1&e&&(a.Ub(0),a.Wb(1,"div",3),a.Ac(2,$e,7,3,"ng-container",4),a.Ac(3,Ne,7,4,"ng-container",4),a.Vb(),a.Tb()),2&e){const e=a.hc();a.Eb(1),a.xc("--short-description",e._shortDescription),a.mc("@downUpFadeIn",void 0),a.Eb(1),a.mc("ngIf",!1===e.verified),a.Eb(1),a.mc("ngIf",e.verified)}}function Le(e,t){1&e&&(a.Wb(0,"div",14),a.Rb(1,"odm-ghost-block"),a.Vb())}let ze=(()=>{class e{constructor(e){this._log=e,this.email="",this.resendEmailVerificationClicked=new a.o,this._fallbackEmail="placeholder-email@gmail.com",this._routeAnimationsElements=o.e,this._shortDescription=K.b}set disableResendVerification(e){this._log.debug("disableResendVerification property set.",this,e),this._disabled=e}_onResendEmailVerificationClicked(){this._log.trace("_onResendEmailVerificationClicked fired.",this),this.resendEmailVerificationClicked.emit()}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(R.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-personal-email-verification"]],inputs:{email:"email",verified:"verified",loading:"loading",disableResendVerification:"disableResendVerification"},outputs:{resendEmailVerificationClicked:"resendEmailVerificationClicked"},decls:4,vars:2,consts:[[1,"email-verification"],[4,"ngIf","ngIfElse"],["loadingState",""],[1,"email-verification__short-description"],[4,"ngIf"],[1,"email-verification__not-verified"],[1,"email-verification__email"],["class","email-verification__not-verified-icon",3,"matTooltip",4,"ngIf"],[1,"email-verification__not-verified-icon",3,"matTooltip"],["icon","exclamation-triangle"],["mat-button","","type","button",3,"matTooltip","disabled","click"],[1,"email-verification__verified"],[1,"email-verification__verified-icon",3,"matTooltip"],["icon","check"],[1,"email-verification__ghost-loading-state"]],template:function(e,t){if(1&e&&(a.Wb(0,"div",0),a.Ac(1,Be,4,5,"ng-container",1),a.Vb(),a.Ac(2,Le,2,0,"ng-template",null,2,a.Bc)),2&e){const e=a.rc(3);a.Eb(1),a.mc("ngIf",!t.loading)("ngIfElse",e)}},directives:[i.k,te.a,ee.a,ne.a,ie.b,oe],pipes:[c.c],styles:["mat-icon[_ngcontent-%COMP%]{height:15px;width:15px;margin-right:8px;margin-left:8px}fa-icon[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%]{font-size:15px}.email-verification[_ngcontent-%COMP%]   .email-verification__short-description[_ngcontent-%COMP%]{font-size:var(--short-description);width:100%}.email-verification[_ngcontent-%COMP%]   .email-verification__email[_ngcontent-%COMP%]{word-break:break-all}.email-verification[_ngcontent-%COMP%]   .email-verification__not-verified[_ngcontent-%COMP%], .email-verification[_ngcontent-%COMP%]   .email-verification__verified[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.email-verification__ghost-loading-state[_ngcontent-%COMP%]{height:56px;padding:8px 0;width:100%}"],data:{animation:[o.f]},changeDetection:0}),e})(),Ue=(()=>{class e{constructor(e,t){this._sb=e,this._route=t,this._routeAnimationsElements=o.e,this._shortDescription=K.b,this._accountHeader=K.a,this._loadingSub=new d.a(!1),this._loading$=this._loadingSub.asObservable(),this._disableResendVerificationSub=new d.a(!1),this._disableResendVerification$=this._disableResendVerificationSub.asObservable(),this.resendEmailVerificationClicked=new a.o}set loading(e){this._sb.log.debug("loading property set to:",this,e),this._loadingSub.next(e)}set disableResendVerification(e){this._sb.log.debug("disableResendVerification property set.",this,e),this._disableResendVerificationSub.next(e)}_onChangeEmailClicked(){this._sb.log.trace("_onChangePasswordClicked fired.",this),this._sb.router.navigate(["general/change-email"],{relativeTo:this._route.parent})}_onResendEmailVerificationClicked(){this._sb.log.trace("_onResendEmailVerificationClicked fired.",this),this.resendEmailVerificationClicked.emit()}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(H),a.Qb(r.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-email-settings"]],inputs:{email:"email",loading:"loading",disableResendVerification:"disableResendVerification",verified:"verified"},outputs:{resendEmailVerificationClicked:"resendEmailVerificationClicked"},decls:19,vars:23,consts:[[1,"email-settings"],[1,"email-settings--header"],[1,"email-settings__email-verification"],[3,"disableResendVerification","loading","email","verified","resendEmailVerificationClicked"],[1,"email-settings__change-email"],[1,"email-settings__short-description"],[1,"email-settings__change"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(a.Wb(0,"div"),a.Wb(1,"div",0),a.Wb(2,"h3",1),a.Cc(3),a.ic(4,"translate"),a.Vb(),a.Wb(5,"div"),a.Wb(6,"div",2),a.Wb(7,"odm-personal-email-verification",3),a.dc("resendEmailVerificationClicked",function(){return t._onResendEmailVerificationClicked()}),a.ic(8,"async"),a.ic(9,"async"),a.Vb(),a.Vb(),a.Wb(10,"div",4),a.Wb(11,"div",5),a.Wb(12,"span"),a.Cc(13),a.ic(14,"translate"),a.Vb(),a.Vb(),a.Wb(15,"div",6),a.Wb(16,"button",7),a.dc("click",function(){return t._onChangeEmailClicked()}),a.Cc(17),a.ic(18,"translate"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.Eb(2),a.xc("--account-header",t._accountHeader),a.mc("@downUpFadeIn",void 0),a.Eb(1),a.Ec(" ",a.jc(4,13,"odm.account.general.email.title")," "),a.Eb(2),a.mc("@downUpFadeIn",void 0),a.Eb(2),a.mc("disableResendVerification",a.jc(8,15,t._disableResendVerification$))("loading",a.jc(9,17,t._loading$))("email",t.email)("verified",t.verified),a.Eb(4),a.xc("--short-description",t._shortDescription),a.Eb(2),a.Dc(a.jc(14,19,"odm.account.general.email.description")),a.Eb(4),a.Dc(a.jc(18,21,"odm.buttons.change")))},directives:[ze,ie.b],pipes:[c.c,i.b],styles:["[_nghost-%COMP%]{width:100%}.email-settings[_ngcontent-%COMP%]{width:100%;overflow:hidden}.email-settings[_ngcontent-%COMP%]   .email-settings--header[_ngcontent-%COMP%]{font-size:var(--account-header)}.email-settings[_ngcontent-%COMP%]   .email-settings__email-verification[_ngcontent-%COMP%]{margin:8px}.email-settings[_ngcontent-%COMP%]   .email-settings__short-description[_ngcontent-%COMP%]{display:flex;font-size:var(--short-description)}.email-settings[_ngcontent-%COMP%]   .email-settings__ghost-loading-state[_ngcontent-%COMP%]{height:56px;padding:8px 0}.email-settings[_ngcontent-%COMP%]   .email-settings__change-email[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:8px}"],data:{animation:[o.f]},changeDetection:0}),e})();function He(e,t){if(1&e&&(a.Wb(0,"span"),a.Wb(1,"mat-icon",6),a.Cc(2),a.Vb(),a.Cc(3),a.Vb()),2&e){const e=t.ngIf,n=a.hc(2);a.xc("--error",n._errorFontSize),a.mc("@downUpFadeIn",void 0),a.Eb(2),a.Dc("clear"),a.Eb(1),a.Ec(" ",n._getProblemDetailsErrorMessage(e)," ")}}function Qe(e,t){if(1&e&&(a.Wb(0,"span"),a.Wb(1,"mat-icon",6),a.Cc(2),a.Vb(),a.Cc(3),a.Vb()),2&e){const e=t.ngIf,n=a.hc(2);a.xc("--error",n._errorFontSize),a.mc("@downUpFadeIn",void 0),a.Eb(2),a.Dc("clear"),a.Eb(1),a.Ec(" ",n._getInternalServerErrorMessage(e)," ")}}function Ke(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Wb(3,"odm-email-settings",3),a.dc("resendEmailVerificationClicked",function(){return a.tc(e),a.hc()._onResendEmailVerificationClicked()}),a.ic(4,"async"),a.ic(5,"async"),a.Vb(),a.Vb(),a.Rb(6,"mat-divider"),a.Wb(7,"div",4),a.Ac(8,He,4,5,"span",5),a.ic(9,"async"),a.Ac(10,Qe,4,5,"span",5),a.ic(11,"async"),a.Vb(),a.Vb(),a.Tb()}if(2&e){const e=t.ngIf,n=a.hc();a.Eb(2),a.mc("ngClass",n._routeAnimationsElements),a.Eb(1),a.mc("loading",a.jc(4,7,n._loading$))("disableResendVerification",a.jc(5,9,n._disableResendVerification$))("email",(null==e?null:e.email)||n._fallbackEmail)("verified",null==e?null:e.verified),a.Eb(5),a.mc("ngIf",a.jc(9,11,n._problemDetails$)),a.Eb(2),a.mc("ngIf",a.jc(11,13,n._internalServerErrorDetails$))}}let Ge=(()=>{class e{constructor(e,t){this._sb=e,this._log=t,this._routeAnimationsElements=o.e,this._errorFontSize=K.c,this._disableResendVerificationSub=new d.a(!1),this._disableResendVerification$=this._disableResendVerificationSub.asObservable(),this._fallbackEmail="placeholder-email@gmail.com",this._loadingSub=new d.a(!0),this._loading$=this._loadingSub.asObservable(),this._subscription=new u.a,this._accountGeneralDetails$=e.accountGeneralDetails$,this._internalServerErrorDetails$=e.internalServerErrorDetails$,this._problemDetails$=e.problemDetails$}ngOnInit(){this._log.trace("Initialized.",this),this._loadingSub.next(!0),this._sb.getAccountGeneralInfo(),this._subscription.add(Object(g.a)(this._accountGeneralDetails$.pipe(Object(h.a)(1)),this._problemDetails$,this._internalServerErrorDetails$).pipe(Object(b.a)(e=>void 0!==e),Object(p.a)(()=>{this._sb.log.debug("Emitting `false` for loading.",this),this._loadingSub.next(!1)})).subscribe())}ngOnDestroy(){this._log.trace("Destroyed.",this),this._subscription.unsubscribe()}_onResendEmailVerificationClicked(){this._sb.resendEmailVerification(),this._disableResendVerificationSub.next(!0),setTimeout(()=>{this._disableResendVerificationSub.next(!1)},6e4)}_getProblemDetailsErrorMessage(e){return e.detail}_getInternalServerErrorMessage(e){let t="";return t=this._doesInternalServerErrorImplementOdmWebApiException(e)?e.detail:e.message,t}_doesInternalServerErrorImplementOdmWebApiException(e){return Object(Ie.a)(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(H),a.Qb(R.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-general-container"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"account-general"],[1,"account-general__email-settings",3,"ngClass"],[3,"loading","disableResendVerification","email","verified","resendEmailVerificationClicked"],[1,"account-general__error"],[3,"--error",4,"ngIf"],["matPrefix","",1,"account-general__req-not-met","account-general__error-format-position"]],template:function(e,t){1&e&&(a.Ac(0,Ke,12,15,"ng-container",0),a.ic(1,"async")),2&e&&a.mc("ngIf",a.jc(1,1,t._accountGeneralDetails$))},directives:[i.k,i.i,Ue,we.a,te.a,Ae.i],pipes:[i.b],styles:[".account-general[_ngcontent-%COMP%]   .account-general__spacer-top[_ngcontent-%COMP%]{padding-top:var(--general-padding-list-item)}.account-general[_ngcontent-%COMP%]   .account-general__spacer-bottom[_ngcontent-%COMP%]{padding-bottom:var(--general-padding-list-item)}.account-general[_ngcontent-%COMP%]   .account-general__error[_ngcontent-%COMP%]{padding-top:8px;display:block}.account-general[_ngcontent-%COMP%]   .account-general__error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--error)}.account-general[_ngcontent-%COMP%]   .account-general__error[_ngcontent-%COMP%]   .account-general__error-format-position[_ngcontent-%COMP%]{width:15px;height:15px;vertical-align:text-top;font-size:15px}"],data:{animation:[o.f]},changeDetection:0}),e})();var Ye=n("xHqg"),Je=n("0FX9");const Ze=["qrcElement"];let Xe=(()=>{class e{constructor(e){this.renderer=e,this.colordark="",this.colorlight="",this.level="",this.hidetitle=!1,this.size=0,this.usesvg=!1,this.allowEmptyString=!1,this.qrdata="",this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.scale=4,this.width=10,""!==this.colordark&&console.warn("[angularx-qrcode] colordark is deprecated, use colorDark."),""!==this.colorlight&&console.warn("[angularx-qrcode] colorlight is deprecated, use colorLight."),""!==this.level&&console.warn("[angularx-qrcode] level is deprecated, use errorCorrectionLevel."),!1!==this.hidetitle&&console.warn("[angularx-qrcode] hidetitle is deprecated."),0!==this.size&&console.warn("[angularx-qrcode] size is deprecated, use `width`. Defaults to 10."),!1!==this.usesvg&&console.warn("[angularx-qrcode] usesvg is deprecated, use [elementType]=\"'svg'\".")}ngOnChanges(){this.createQRCode()}isValidQrCodeText(e){return!1===this.allowEmptyString?!(void 0===e||""===e||"null"===e||null===e):!(void 0===e)}toDataURL(){return new Promise((e,t)=>{Object(Je.toDataURL)(this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},(n,i)=>{n?t(n):e(i)})})}toCanvas(e){return new Promise((t,n)=>{Object(Je.toCanvas)(e,this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},e=>{e?n(e):t("success")})})}toSVG(){return new Promise((e,t)=>{Object(Je.toString)(this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,type:"svg",version:this.version,width:this.width},(n,i)=>{n?t(n):e(i)})})}renderElement(e){for(const t of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,t);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error('[angularx-qrcode] Field `qrdata` is empty, set`allowEmptyString="true"` to overwrite this behaviour.');let e;switch(this.elementType){case"canvas":e=this.renderer.createElement("canvas"),this.toCanvas(e).then(()=>{this.renderElement(e)}).catch(e=>{console.error("[angularx-qrcode] canvas error: ",e)});break;case"svg":e=this.renderer.createElement("div"),this.toSVG().then(t=>{this.renderer.setProperty(e,"innerHTML",t);const n=e.firstChild;this.renderer.setAttribute(n,"height",`${this.width}`),this.renderer.setAttribute(n,"width",`${this.width}`),this.renderElement(n)}).catch(e=>{console.error("[angularx-qrcode] svg error: ",e)});break;case"url":case"img":default:e=this.renderer.createElement("img"),this.toDataURL().then(t=>{e.setAttribute("src",t),this.renderElement(e)}).catch(e=>{console.error("[angularx-qrcode] img/url error: ",e)})}}catch(e){console.error("[angularx-qrcode] Error generating QR Code: ",e.message)}}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(a.G))},e.\u0275cmp=a.Kb({type:e,selectors:[["qrcode"]],viewQuery:function(e,t){if(1&e&&a.Fc(Ze,3),2&e){let e;a.qc(e=a.ec())&&(t.qrcElement=e.first)}},inputs:{colordark:"colordark",colorlight:"colorlight",level:"level",hidetitle:"hidetitle",size:"size",usesvg:"usesvg",allowEmptyString:"allowEmptyString",qrdata:"qrdata",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",scale:"scale",width:"width",version:"version"},features:[a.Cb],decls:2,vars:2,consts:[["qrcElement",""]],template:function(e,t){1&e&&a.Rb(0,"div",null,0),2&e&&a.Gb(t.cssClass)},encapsulation:2,changeDetection:0}),e})(),et=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({providers:[]}),e})();var tt=n("eaX+");const nt=["stepper"];function it(e,t){1&e&&(a.Cc(0),a.ic(1,"translate")),2&e&&a.Dc(a.jc(1,1,"odm.account.security.two-step.setup-wizard.first-step.title"))}function rt(e,t){1&e&&(a.Cc(0),a.ic(1,"translate")),2&e&&a.Dc(a.jc(1,1,"odm.account.security.two-step.setup-wizard.last-step.title"))}function ot(e,t){if(1&e&&(a.Wb(0,"li"),a.Cc(1),a.Vb()),2&e){const e=t.$implicit;a.Eb(1),a.Dc(e)}}let at=(()=>{class e{constructor(e){this._log=e,this.verificationCodeSubmitted=new a.o,this.cancelSetupWizardClicked=new a.o,this.finish2faSetupClicked=new a.o,this._codeVerificationSucceeded=!1,this._stepperIsLinear=!0,this._stepper2faSetupEditable=!1,this._qrBarCodeWidth=225,this._qrBarCodeSpinnerDiameter=Q.a,this._qrBarCodeSpinnerStrokeWidth=Q.b,this._is2faSetupCompleted=!1}set twoFactorAuthenticationSetupResult(e){this._log.debug("twoFactorAuthenticationSetupResult emitted.",this),"Succeeded"===e.status&&(this._codeVerificationSucceeded=!0,this._is2faSetupCompleted=!0,setTimeout(()=>{this.setupWizard.next(),this._twoFactorAuthenticationSetupResult=e},1e3))}set twoFactorAuthenticationSetup(e){this._log.debug("twoFactorAuthenticationSetup emitted.",this),this._twoFactorAuthenticationSetup=e,e.authenticatorUri&&e.sharedKey&&this.verificationCodeForm.get("code").enable()}ngOnDestroy(){this._log.trace("Destroyed.",this),this.cancelSetupWizardClicked.emit(),this._log.trace("cancelSetupWizardClicked emitted from ngOnDestroy. Notifing parent that setup wizard no longer needs to be displayed.",this)}_onVerificationCodeSubmitted(e){this._log.trace("_onVerificationCodeSubmitted fired.",this),this.verificationCodeSubmitted.emit(e)}_onFinishSetup(){this._log.trace("_onRestartOrFinishClicked fired.",this),this.finish2faSetupClicked.emit(this._twoFactorAuthenticationSetupResult)}_onCancelClicked(){this._log.trace("_onCancelClicked fired.",this),this.cancelSetupWizardClicked.emit()}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(R.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-two-factor-authentication-setup-wizard"]],viewQuery:function(e,t){if(1&e&&a.Fc(nt,1),2&e){let e;a.qc(e=a.ec())&&(t.setupWizard=e.first)}},inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",codeVerificationInProgress:"codeVerificationInProgress",verificationCodeForm:"verificationCodeForm",twoFactorAuthenticationSetupResult:"twoFactorAuthenticationSetupResult",twoFactorAuthenticationSetup:"twoFactorAuthenticationSetup"},outputs:{verificationCodeSubmitted:"verificationCodeSubmitted",cancelSetupWizardClicked:"cancelSetupWizardClicked",finish2faSetupClicked:"finish2faSetupClicked"},decls:37,vars:32,consts:[[1,"setup-wizard"],[3,"linear"],["stepper",""],[3,"editable","completed"],["matStepLabel",""],[3,"qrdata","width","errorCorrectionLevel","elementType"],[1,"setup-wizard__verification-form"],[3,"form","codeVerificationInProgress","codeVerificationSucceeded","problemDetails","internalServerErrorDetails","verificationCodeSubmitted","cancelSetupWizardClicked"],[1,"setup-wizard__final-step"],[1,"setup-wizard__format-codes"],[4,"ngFor","ngForOf"],["mat-button","","mat-stroked-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(a.Wb(0,"div"),a.Wb(1,"div",0),a.Wb(2,"mat-vertical-stepper",1,2),a.Wb(4,"mat-step",3),a.Ac(5,it,2,3,"ng-template",4),a.Wb(6,"p"),a.Cc(7),a.ic(8,"translate"),a.Vb(),a.Wb(9,"h3"),a.Cc(10),a.Vb(),a.Wb(11,"div"),a.Rb(12,"qrcode",5),a.Vb(),a.Wb(13,"p"),a.Cc(14),a.ic(15,"translate"),a.Vb(),a.Wb(16,"div",6),a.Wb(17,"odm-verification-code",7),a.dc("verificationCodeSubmitted",function(e){return t._onVerificationCodeSubmitted(e)})("cancelSetupWizardClicked",function(){return t._onCancelClicked()}),a.Vb(),a.Vb(),a.Vb(),a.Wb(18,"mat-step"),a.Wb(19,"div",8),a.Ac(20,rt,2,3,"ng-template",4),a.Wb(21,"h3"),a.Cc(22),a.ic(23,"translate"),a.Vb(),a.Wb(24,"p"),a.Cc(25),a.ic(26,"translate"),a.Vb(),a.Wb(27,"p"),a.Cc(28),a.ic(29,"translate"),a.Vb(),a.Wb(30,"div"),a.Wb(31,"ol",9),a.Ac(32,ot,2,1,"li",10),a.Vb(),a.Vb(),a.Wb(33,"div"),a.Wb(34,"button",11),a.dc("click",function(){return t._onFinishSetup()}),a.Cc(35),a.ic(36,"translate"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.Eb(2),a.mc("linear",t._stepperIsLinear),a.Eb(2),a.mc("editable",t._stepper2faSetupEditable)("completed",t._is2faSetupCompleted),a.Eb(3),a.Ec(" ",a.jc(8,20,"odm.account.security.two-step.setup-wizard.first-step.instructions.qr-code")," "),a.Eb(3),a.Dc(null==t._twoFactorAuthenticationSetup?null:t._twoFactorAuthenticationSetup.sharedKey),a.Eb(2),a.mc("qrdata",null==t._twoFactorAuthenticationSetup?null:t._twoFactorAuthenticationSetup.authenticatorUri)("width",t._qrBarCodeWidth)("errorCorrectionLevel","M")("elementType","svg"),a.Eb(2),a.Ec(" ",a.jc(15,22,"odm.account.security.two-step.setup-wizard.first-step.instructions.verification-code")," "),a.Eb(3),a.mc("form",t.verificationCodeForm)("codeVerificationInProgress",t.codeVerificationInProgress)("codeVerificationSucceeded",t._codeVerificationSucceeded)("problemDetails",t.problemDetails)("internalServerErrorDetails",t.internalServerErrorDetails),a.Eb(5),a.Dc(a.jc(23,24,"odm.account.security.two-step.setup-wizard.last-step.header")),a.Eb(3),a.Dc(a.jc(26,26,"odm.account.security.two-step.setup-wizard.last-step.information")),a.Eb(3),a.Dc(a.jc(29,28,"odm.account.security.two-step.setup-wizard.last-step.save-codes")),a.Eb(4),a.mc("ngForOf",null==t._twoFactorAuthenticationSetupResult||null==t._twoFactorAuthenticationSetupResult.recoveryCodes?null:t._twoFactorAuthenticationSetupResult.recoveryCodes.items),a.Eb(3),a.Ec(" ",a.jc(36,30,"odm.buttons.finish")," "))},directives:[Ye.d,Ye.a,Ye.b,Xe,tt.a,i.j,ie.b],pipes:[c.c],styles:[".setup-wizard[_ngcontent-%COMP%]{position:relative;z-index:110}.setup-wizard[_ngcontent-%COMP%]   .setup-wizard__verification-form[_ngcontent-%COMP%]   .setup-wizard__action-buttons[_ngcontent-%COMP%]{margin-top:20px}.setup-wizard[_ngcontent-%COMP%]   .setup-wizard__final-step[_ngcontent-%COMP%]   .setup-wizard__format-codes[_ngcontent-%COMP%]{-moz-columns:2;column-count:2;padding-left:20px}@media (min-width:576px){.setup-wizard__final-step[_ngcontent-%COMP%]   .setup-wizard__format-codes[_ngcontent-%COMP%]{-moz-columns:2;column-count:2;max-width:500px}}"],changeDetection:0}),e})(),st=(()=>{class e{constructor(e,t){this._sb=e,this._route=t,this._subscription=new u.a,this._authenticatorSetup$=e.twoFactorAuthenticationSetup$,this._authenticatorSetupResult$=e.twoFactorAuthenticationSetupResult$,this._problemDetails$=e.problemDetails$,this._internalServerErrorDetails$=e.internalServerErrorDetails$}ngOnInit(){this._sb.log.trace("Initialized.",this),this._verificationCodeForm=this._initVerificationCodeForm(),this._subscription.add(this._listenForServerErrors$().subscribe())}_onVerifyAuthenticatorSubmitted(e){this._sb.log.trace("_onVerifyAuthenticator fired.",this),this._codeVerificationInProgress=!0,this._sb.verifyAuthenticator(e)}_onCancelSetupWizardClicked(){this._sb.log.trace("_onCancelSetupWizard fired.",this),this._verificationCodeForm.reset(),this._sb.router.navigate(["security"],{relativeTo:this._route.parent}),this._sb.cancel2faSetupWizard()}_onFinish2faSetupClicked(e){this._sb.log.trace("_onFinish2faSetup fired.",this),this._sb.router.navigate(["security"],{relativeTo:this._route.parent}),this._sb.finish2faSetup(e)}_listenForServerErrors$(){return this._sb.log.trace("_listenForServerErrors$ fired.",this),Object(g.a)(this._sb.problemDetails$,this._sb.internalServerErrorDetails$,this._authenticatorSetupResult$.pipe(Object(h.a)(1))).pipe(Object(p.a)(()=>this._codeVerificationInProgress=!1))}_initVerificationCodeForm(){return this._sb.fb.group({code:this._sb.fb.control({value:"",disabled:!0},{validators:[Oe.b.required,Oe.b.minLength(Oe.c),Oe.b.maxLength(Oe.c)],updateOn:"change"})})}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(H),a.Qb(r.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-two-factor-authentication-setup-wizard-container"]],decls:7,vars:14,consts:[[1,"setup-wizard-overlay"],[3,"verificationCodeForm","twoFactorAuthenticationSetupResult","twoFactorAuthenticationSetup","codeVerificationInProgress","problemDetails","internalServerErrorDetails","verificationCodeSubmitted","cancelSetupWizardClicked","finish2faSetupClicked"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.Wb(1,"div"),a.Wb(2,"odm-two-factor-authentication-setup-wizard",1),a.dc("verificationCodeSubmitted",function(e){return t._onVerifyAuthenticatorSubmitted(e)})("cancelSetupWizardClicked",function(){return t._onCancelSetupWizardClicked()})("finish2faSetupClicked",function(e){return t._onFinish2faSetupClicked(e)}),a.ic(3,"async"),a.ic(4,"async"),a.ic(5,"async"),a.ic(6,"async"),a.Vb(),a.Vb()),2&e&&(a.Eb(2),a.mc("verificationCodeForm",t._verificationCodeForm)("twoFactorAuthenticationSetupResult",a.jc(3,6,t._authenticatorSetupResult$))("twoFactorAuthenticationSetup",a.jc(4,8,t._authenticatorSetup$))("codeVerificationInProgress",t._codeVerificationInProgress)("problemDetails",a.jc(5,10,t._problemDetails$))("internalServerErrorDetails",a.jc(6,12,t._internalServerErrorDetails$)))},directives:[at],pipes:[i.b],styles:[".setup-wizard-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;opacity:.5;z-index:100}"],changeDetection:0}),e})();function ct(e,t){1&e&&(a.Wb(0,"span",16),a.Cc(1),a.ic(2,"translate"),a.Wb(3,"span"),a.Cc(4,"."),a.Vb(),a.Wb(5,"span"),a.Cc(6,"."),a.Vb(),a.Wb(7,"span"),a.Cc(8,"."),a.Vb(),a.Vb()),2&e&&(a.Eb(1),a.Dc(a.jc(2,1,"odm.auth.checking-availability")))}function lt(e,t){1&e&&(a.Wb(0,"span"),a.Wb(1,"mat-icon",17),a.Cc(2),a.Vb(),a.Cc(3),a.ic(4,"translate"),a.Vb()),2&e&&(a.Eb(2),a.Dc("check"),a.Eb(1),a.Ec(" ",a.jc(4,2,"odm.auth.form.validations.valid-email")," "))}function dt(e,t){if(1&e&&(a.Wb(0,"span"),a.Wb(1,"mat-icon",18),a.Cc(2),a.Vb(),a.Cc(3),a.ic(4,"async"),a.Vb()),2&e){const e=a.hc(2);a.Eb(2),a.Dc("clear"),a.Eb(1),a.Ec(" ",a.jc(4,2,e._getErrorMessage$(null==e.changeEmailForm?null:e.changeEmailForm.get("newEmail")))," ")}}function ut(e,t){if(1&e&&(a.Ub(0),a.Ac(1,ct,9,3,"span",15),a.Ac(2,lt,5,4,"span",8),a.Ac(3,dt,5,4,"span",8),a.Tb()),2&e){const e=t.ngIf,n=a.hc();a.Eb(1),a.mc("ngIf","PENDING"===e),a.Eb(1),a.mc("ngIf","VALID"===e),a.Eb(1),a.mc("ngIf",n._ifControlFieldIsInvalid(null==n.changeEmailForm?null:n.changeEmailForm.get("newEmail")))}}function gt(e,t){if(1&e&&(a.Wb(0,"mat-error"),a.Cc(1),a.ic(2,"async"),a.Vb()),2&e){const e=a.hc();a.Eb(1),a.Dc(a.jc(2,1,e._getErrorMessage$(null==e.changeEmailForm?null:e.changeEmailForm.get("newEmail"))))}}function ht(e,t){if(1&e&&(a.Wb(0,"mat-error"),a.Cc(1),a.ic(2,"async"),a.Vb()),2&e){const e=a.hc();a.Eb(1),a.Dc(a.jc(2,1,e._getErrorMessage$(null==e.changeEmailForm?null:e.changeEmailForm.get("password"))))}}function bt(e,t){if(1&e&&(a.Ub(0),a.Rb(1,"odm-spinner",19),a.Tb()),2&e){const e=a.hc();a.Eb(1),a.mc("type","button")("spinnerColor","accent")("diameter",e._changingEmailSpinnerDiameter)("strokeWidth",e._changingEmailSpinnerStrokeWidth)}}let pt=(()=>{class e extends Se.a{constructor(e,t,n){super(e,t,n),this.translateErrorValidationService=e,this.log=t,this.cd=n,this.changeEmailRequestSubmitted=new a.o,this.cancelClicked=new a.o,this._currentPasswordHide=!0,this._changingEmailSpinnerDiameter=Q.c,this._changingEmailSpinnerStrokeWidth=Q.d}set problemDetails(e){this.log.debug("Problem details emitted.",this),this.problemDetailsError=e}set internalServerErrorDetails(e){this.log.debug("Internal server error emitted.",this),this.internalServerError=e}_onChangeEmail(){this.log.trace("_onChangePassword fired.",this),this.changeEmailRequestSubmitted.emit()}_cancelClicked(){this.log.trace("_cancelClicked fired.",this),this.cancelClicked.emit()}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(z.a),a.Qb(R.a),a.Qb(a.i))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-change-email"]],inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",changeEmailForm:"changeEmailForm",emailChangeInProgress:"emailChangeInProgress"},outputs:{changeEmailRequestSubmitted:"changeEmailRequestSubmitted",cancelClicked:"cancelClicked"},features:[a.Bb],decls:39,vars:25,consts:[[1,"change-email-container"],[1,"change-email-container__change"],[1,"change-email__card"],["mat-card-avatar","",1,"change-email-container__header-image"],[3,"formGroup"],[1,"auth__new-email-field"],["appearance","standard"],["matInput","","formControlName","newEmail","type","text","autocomplete","new-email","required",""],[4,"ngIf"],["matSuffix",""],[1,"auth__password-field"],["matInput","","formControlName","password","autocomplete","password","required","",3,"type"],["matSuffix","",1,"auth__view-password",3,"click"],["mat-button","","mat-stroked-button","","color","accent","type","button",3,"disabled","click"],["mat-button","","type","button",3,"click"],["class","loading-dots-animation",4,"ngIf"],[1,"loading-dots-animation"],["matPrefix","",1,"auth--req-met"],["matPrefix","",1,"auth--req-not-met"],[3,"type","spinnerColor","diameter","strokeWidth"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"mat-card",2),a.Wb(3,"mat-card-header"),a.Rb(4,"div",3),a.Wb(5,"mat-card-title"),a.Cc(6),a.ic(7,"translate"),a.Vb(),a.Vb(),a.Wb(8,"mat-card-content"),a.Wb(9,"form",4),a.Wb(10,"div",5),a.Wb(11,"mat-form-field",6),a.Wb(12,"mat-label"),a.Cc(13),a.ic(14,"translate"),a.Vb(),a.Rb(15,"input",7),a.Wb(16,"mat-hint"),a.Ac(17,ut,4,3,"ng-container",8),a.ic(18,"async"),a.Vb(),a.Wb(19,"mat-icon",9),a.Cc(20,"email"),a.Vb(),a.Ac(21,gt,3,3,"mat-error",8),a.Vb(),a.Vb(),a.Wb(22,"div",10),a.Wb(23,"mat-form-field",6),a.Wb(24,"mat-label"),a.Cc(25),a.ic(26,"translate"),a.Vb(),a.Rb(27,"input",11),a.Wb(28,"mat-icon",12),a.dc("click",function(){return t._currentPasswordHide=!t._currentPasswordHide}),a.Cc(29),a.Vb(),a.Ac(30,ht,3,3,"mat-error",8),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(31,"mat-card-actions"),a.Wb(32,"button",13),a.dc("click",function(){return t._onChangeEmail()}),a.Cc(33),a.ic(34,"translate"),a.Ac(35,bt,2,4,"ng-container",8),a.Vb(),a.Wb(36,"button",14),a.dc("click",function(){return t._cancelClicked()}),a.Cc(37),a.ic(38,"translate"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.Eb(6),a.Dc(a.jc(7,13,"odm.account.general.email.change.title")),a.Eb(3),a.mc("formGroup",t.changeEmailForm),a.Eb(4),a.Dc(a.jc(14,15,"odm.auth.form.label.new-email")),a.Eb(4),a.mc("ngIf",a.jc(18,17,t.changeEmailForm.get("newEmail").statusChanges)),a.Eb(4),a.mc("ngIf",t._ifControlFieldIsInvalid(null==t.changeEmailForm?null:t.changeEmailForm.get("newEmail"))),a.Eb(4),a.Dc(a.jc(26,19,"odm.auth.form.label.password")),a.Eb(2),a.mc("type",t._currentPasswordHide?"password":"text"),a.Eb(2),a.Dc(t._currentPasswordHide?"visibility_off":"visibility"),a.Eb(1),a.mc("ngIf",t._ifControlFieldIsInvalid(null==t.changeEmailForm?null:t.changeEmailForm.get("password"))),a.Eb(2),a.mc("disabled",!(null!=t.changeEmailForm&&t.changeEmailForm.valid)||t.emailChangeInProgress),a.Eb(1),a.Ec(" ",a.jc(34,21,"odm.buttons.change")," "),a.Eb(2),a.mc("ngIf",t.emailChangeInProgress),a.Eb(2),a.Dc(a.jc(38,23,"odm.buttons.cancel")))},directives:[Me.a,Me.e,Me.c,Me.h,Me.d,L.s,L.m,L.f,Ae.c,Ae.g,je.b,L.c,L.l,L.e,L.q,Ae.f,i.k,te.a,Ae.j,Me.b,ie.b,Ae.i,Ae.b,J.a],pipes:[c.c,i.b],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card-actions[_ngcontent-%COMP%]{width:80%;margin:0 auto}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:45%}.mat-card[_ngcontent-%COMP%] > .mat-card-actions[_ngcontent-%COMP%]:last-child{margin-bottom:0}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]{position:relative;z-index:110}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email--invisible[_ngcontent-%COMP%]{display:block;visibility:hidden;height:0;width:0}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email-container__header-image[_ngcontent-%COMP%]{background-image:url(change_info.626c1782359462b934c7.png);background-size:cover}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__current-password-field[_ngcontent-%COMP%], .change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__new-password-field[_ngcontent-%COMP%], .change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__title[_ngcontent-%COMP%]{width:80%;margin:0 auto}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__confirm-password-field[_ngcontent-%COMP%]{margin:12px auto;width:80%}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__card[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__card[_ngcontent-%COMP%]   .auth__current-email-field[_ngcontent-%COMP%], .change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__card[_ngcontent-%COMP%]   .auth__new-email-field[_ngcontent-%COMP%], .change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__card[_ngcontent-%COMP%]   .auth__password-field[_ngcontent-%COMP%]{width:80%;margin:0 auto}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__password-field-help-on[_ngcontent-%COMP%]{margin-bottom:111px;transition:margin-bottom .3s ease-in}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__password-field-help-off[_ngcontent-%COMP%]{margin-bottom:0;transition:margin-bottom .3s ease-in}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__confirm-password-field[_ngcontent-%COMP%]{padding-top:12px}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__view-password[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),e})();const ft=[{path:"",component:l,canActivate:[o.a],data:{title:"odm.account"},children:[{path:"",redirectTo:"general",pathMatch:"full"},{path:"general",component:Ge},{path:"general/change-email",component:(()=>{class e{constructor(e,t){this._sb=e,this._route=t,this._subscription=new u.a,this._problemDetails$=e.problemDetails$,this._internalServerErrorDetails$=e.internalServerErrorDetails$,this._changeEmailRequestSent$=e.changeEmailRequestSent$}ngOnInit(){this._sb.log.trace("Initialized.",this),this._changeEmailForm=this._initChangeEmailForm(),this._subscription.add(this._onChangeEmailRequestSent$().subscribe()),this._subscription.add(this._listenForServerErrors$().subscribe())}_onRequestToChangeEmailClicked(){this._sb.log.trace("_onRequestToChangeEmailClicked fired.",this),this._emailChangeInProgress=!0,this._sb.requestToChangeEmail(this._changeEmailForm.value)}_onCancelClicked(){this._sb.log.trace("_onCancelClicked fired.",this),this._sb.router.navigate(["general"],{relativeTo:this._route.parent})}_onChangeEmailRequestSent$(){return this._sb.log.trace("_onChangeEmailRequestSent$ fired.",this),this._changeEmailRequestSent$.pipe(Object(h.a)(1),Object(p.a)(e=>e?void this._sb.router.navigate(["general"],{relativeTo:this._route.parent}):null),Object(p.a)(()=>this._sb.changeEmailRequestSent({changeEmailRequestSent:!1})))}_listenForServerErrors$(){return this._sb.log.trace("_listenForServerErrors$ fired.",this),Object(g.a)(this._problemDetails$,this._internalServerErrorDetails$).pipe(Object(p.a)(()=>{this._emailChangeInProgress=!1}))}_initChangeEmailForm(){return this._sb.log.trace("_initChangeEmailForm fired.",this),this._sb.fb.group({newEmail:this._sb.fb.control("",{validators:[Oe.b.required,Oe.b.email],asyncValidators:[this._sb.asyncValidators.checkIfEmailIsUnique()],updateOn:"blur"}),password:this._sb.fb.control("",Oe.b.required)})}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(H),a.Qb(r.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-change-email-container"]],decls:5,vars:8,consts:[[1,"change-email-overlay"],[3,"changeEmailForm","emailChangeInProgress","problemDetails","internalServerErrorDetails","changeEmailRequestSubmitted","cancelClicked"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.Wb(1,"div"),a.Wb(2,"odm-change-email",1),a.dc("changeEmailRequestSubmitted",function(){return t._onRequestToChangeEmailClicked()})("cancelClicked",function(){return t._onCancelClicked()}),a.ic(3,"async"),a.ic(4,"async"),a.Vb(),a.Vb()),2&e&&(a.Eb(2),a.mc("changeEmailForm",t._changeEmailForm)("emailChangeInProgress",t._emailChangeInProgress)("problemDetails",a.jc(3,4,t._problemDetails$))("internalServerErrorDetails",a.jc(4,6,t._internalServerErrorDetails$)))},directives:[pt],pipes:[i.b],styles:[".change-email-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;opacity:.5;z-index:100}"],changeDetection:0}),e})()},{path:"security",component:ye},{path:"security/change-password",component:We},{path:"security/two-factor-authentication-setup",component:st}]}];let mt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({imports:[[r.l.forChild(ft)],r.l]}),e})();var _t=n("PCNd");let wt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({providers:[H],imports:[[i.c,mt,et,_t.a,C.d.forFeature([k,$,W])]]}),e})()},Rb7d:function(e,t){function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=e.width&&e.width>=21?e.width:void 0;return{width:t,scale:t?4:e.scale||4,margin:null==e.margin||e.margin<0?4:e.margin,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){var i=t.getScale(e,n);return Math.floor((e+2*n.margin)*i)},t.qrToImageData=function(e,n,i){for(var r=n.modules.size,o=n.modules.data,a=t.getScale(r,i),s=Math.floor((r+2*i.margin)*a),c=i.margin*a,l=[i.color.light,i.color.dark],d=0;d<s;d++)for(var u=0;u<s;u++){var g=4*(d*s+u),h=i.color.light;d>=c&&u>=c&&d<s-c&&u<s-c&&(h=l[o[Math.floor((d-c)/a)*r+Math.floor((u-c)/a)]?1:0]),e[g++]=h.r,e[g++]=h.g,e[g++]=h.b,e[g]=h.a}}},V35J:function(e,t,n){var i=n("Wogr");function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new i(e*e),this.data.fill(0),this.reservedBit=new i(e*e),this.reservedBit.fill(0)}r.prototype.set=function(e,t,n,i){var r=e*this.size+t;this.data[r]=n,i&&(this.reservedBit[r]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=r},Wogr:function(e,t,n){"use strict";var i=n("7uVY"),r=(o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}())?2147483647:1073741823;function o(e,t,n){return o.TYPED_ARRAY_SUPPORT||this instanceof o?"number"==typeof e?c(this,e):function(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");var r;return r=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),o.TYPED_ARRAY_SUPPORT?r.__proto__=o.prototype:r=l(e,r),r}(e,t,n,i):"string"==typeof t?function(e,t){var n=0|u(t),i=s(e,n),r=i.write(t);return r!==n&&(i=i.slice(0,r)),i}(e,t):function(e,t){if(o.isBuffer(t)){var n=0|a(t.length),i=s(e,n);return 0===i.length||t.copy(i,0,0,n),i}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):l(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return l(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,n):new o(e,t,n)}function a(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function s(e,t){var n;return o.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=o.prototype:(null===(n=e)&&(n=new o(t)),n.length=t),n}function c(e,t){var n=s(e,t<0?0:0|a(t));if(!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)n[i]=0;return n}function l(e,t){for(var n=t.length<0?0:0|a(t.length),i=s(e,n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function d(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function u(e){return o.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:d(e).length)}o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),o.prototype.write=function(e,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(e,t,n,i){return function(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}(d(t,e.length-n),e,n,i)}(this,e,t,n)},o.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=o.prototype;else{var r=t-e;n=new o(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+e]}return n},o.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var a=o.isBuffer(e)?e:new o(e),s=a.length;for(r=0;r<n-t;++r)this[r+t]=a[r%s]}return this},o.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s(null,0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c(null,t),a=0;for(n=0;n<e.length;++n){var l=e[n];if(!o.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(r,a),a+=l.length}return r},o.byteLength=u,o.prototype._isBuffer=!0,o.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.exports=o},Z92M:function(e,t){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},aZ40:function(e,t,n){var i,r,o=n("Wogr");o.alloc?(i=o.alloc(512),r=o.alloc(256)):(i=new o(512),r=new o(256)),function(){for(var e=1,t=0;t<255;t++)i[t]=e,r[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)i[t]=i[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return i[e]},t.mul=function(e,t){return 0===e||0===t?0:i[r[e]+r[t]]}},"e/Dd":function(e,t){var n,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return i[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},e6BP:function(e,t){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},eQOe:function(e,t){function n(e,n,i){switch(e){case t.Patterns.PATTERN000:return(n+i)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return i%3==0;case t.Patterns.PATTERN011:return(n+i)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2==0;case t.Patterns.PATTERN101:return n*i%2+n*i%3==0;case t.Patterns.PATTERN110:return(n*i%2+n*i%3)%2==0;case t.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,n=0,i=0,r=0,o=null,a=null,s=0;s<t;s++){i=r=0,o=a=null;for(var c=0;c<t;c++){var l=e.get(s,c);l===o?i++:(i>=5&&(n+=i-5+3),o=l,i=1),(l=e.get(c,s))===a?r++:(r>=5&&(n+=r-5+3),a=l,r=1)}i>=5&&(n+=i-5+3),r>=5&&(n+=r-5+3)}return n},t.getPenaltyN2=function(e){for(var t=e.size,n=0,i=0;i<t-1;i++)for(var r=0;r<t-1;r++){var o=e.get(i,r)+e.get(i,r+1)+e.get(i+1,r)+e.get(i+1,r+1);4!==o&&0!==o||n++}return 3*n},t.getPenaltyN3=function(e){for(var t=e.size,n=0,i=0,r=0,o=0;o<t;o++){i=r=0;for(var a=0;a<t;a++)i=i<<1&2047|e.get(o,a),a>=10&&(1488===i||93===i)&&n++,r=r<<1&2047|e.get(a,o),a>=10&&(1488===r||93===r)&&n++}return 40*n},t.getPenaltyN4=function(e){for(var t=0,n=e.data.length,i=0;i<n;i++)t+=e.data[i];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},t.applyMask=function(e,t){for(var i=t.size,r=0;r<i;r++)for(var o=0;o<i;o++)t.isReserved(o,r)||t.xor(o,r,n(e,o,r))},t.getBestMask=function(e,n){for(var i=Object.keys(t.Patterns).length,r=0,o=1/0,a=0;a<i;a++){n(a),t.applyMask(a,e);var s=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),s<o&&(o=s,r=a)}return r}},ekOh:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(i){return n}}},jSPq:function(e,t,n){var i=n("Wogr"),r=n("JzKC");function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new i(this.degree);t.fill(0);var n=i.concat([e,t],e.length+this.degree),o=r.mod(n,this.genPoly),a=this.degree-o.length;if(a>0){var s=new i(this.degree);return s.fill(0),o.copy(s,a),s}return o},e.exports=o},"kk9/":function(e,t,n){var i=n("e/Dd").getSymbolSize;t.getPositions=function(e){var t=i(e);return[[0,0],[t-7,0],[0,t-7]]}},lYJp:function(e,t,n){var i=n("e/Dd"),r=i.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,o=n<<10;i.getBCHDigit(o)-r>=0;)o^=1335<<i.getBCHDigit(o)-r;return 21522^(n<<10|o)}},nZSm:function(e,t,n){var i=n("u/Db"),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=i.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*r.indexOf(this.data[t]);n+=r.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(r.indexOf(this.data[t]),6)},e.exports=o},qmMu:function(e,t,n){var i=n("Wogr"),r=n("e/Dd"),o=n("ekOh"),a=n("e6BP"),s=n("V35J"),c=n("1sBl"),l=n("kk9/"),d=n("eQOe"),u=n("NPxG"),g=n("jSPq"),h=n("yKow"),b=n("lYJp"),p=n("u/Db"),f=n("vvrf"),m=n("7uVY");function _(e,t,n){var i,r,o=e.size,a=b.getEncodedBits(t,n);for(i=0;i<15;i++)e.set(i<6?i:i<8?i+1:o-15+i,8,r=1==(a>>i&1),!0),e.set(8,i<8?o-i-1:i<9?15-i-1+1:15-i-1,r,!0);e.set(o-8,8,1,!0)}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,b,w=o.M;return void 0!==t&&(w=o.from(t.errorCorrectionLevel,o.M),n=h.from(t.version),b=d.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),function(e,t,n,o){var b;if(m(e))b=f.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var w=t;if(!w){var v=f.rawSplit(e);w=h.getBestVersionForData(v,n)}b=f.fromString(e,w||40)}var C=h.getBestVersionForData(b,n);if(!C)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<C)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+C+".\n")}else t=C;var y=function(e,t,n){var o=new a;n.forEach(function(t){o.put(t.mode.bit,4),o.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(o)});var s=8*(r.getSymbolTotalCodewords(e)-u.getTotalCodewordsCount(e,t));for(o.getLengthInBits()+4<=s&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var c=(s-o.getLengthInBits())/8,l=0;l<c;l++)o.put(l%2?17:236,8);return function(e,t,n){for(var o=r.getSymbolTotalCodewords(t),a=o-u.getTotalCodewordsCount(t,n),s=u.getBlocksCount(t,n),c=s-o%s,l=Math.floor(o/s),d=Math.floor(a/s),h=d+1,b=l-d,p=new g(b),f=0,m=new Array(s),_=new Array(s),w=0,v=new i(e.buffer),C=0;C<s;C++){var y=C<c?d:h;m[C]=v.slice(f,f+y),_[C]=p.encode(m[C]),f+=y,w=Math.max(w,y)}var E,P,O=new i(o),S=0;for(E=0;E<w;E++)for(P=0;P<s;P++)E<m[P].length&&(O[S++]=m[P][E]);for(E=0;E<b;E++)for(P=0;P<s;P++)O[S++]=_[P][E];return O}(o,e,t)}(t,n,b),E=r.getSymbolSize(t),P=new s(E);return function(e,t){for(var n=e.size,i=l.getPositions(t),r=0;r<i.length;r++)for(var o=i[r][0],a=i[r][1],s=-1;s<=7;s++)if(!(o+s<=-1||n<=o+s))for(var c=-1;c<=7;c++)a+c<=-1||n<=a+c||e.set(o+s,a+c,s>=0&&s<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===s||6===s)||s>=2&&s<=4&&c>=2&&c<=4,!0)}(P,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var i=n%2==0;e.set(n,6,i,!0),e.set(6,n,i,!0)}}(P),function(e,t){for(var n=c.getPositions(t),i=0;i<n.length;i++)for(var r=n[i][0],o=n[i][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)e.set(r+a,o+s,-2===a||2===a||-2===s||2===s||0===a&&0===s,!0)}(P,t),_(P,n,0),t>=7&&function(e,t){for(var n,i,r,o=e.size,a=h.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),e.set(n,i=s%3+o-8-3,r=1==(a>>s&1),!0),e.set(i,n,r,!0)}(P,t),function(e,t){for(var n=e.size,i=-1,r=n-1,o=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var c=0;c<2;c++)if(!e.isReserved(r,s-c)){var l=!1;a<t.length&&(l=1==(t[a]>>>o&1)),e.set(r,s-c,l),-1==--o&&(a++,o=7)}if((r+=i)<0||n<=r){r-=i,i=-i;break}}}(P,y),isNaN(o)&&(o=d.getBestMask(P,_.bind(null,P,n))),d.applyMask(o,P),_(P,n,o),{modules:P,version:t,errorCorrectionLevel:n,maskPattern:o,segments:b}}(e,n,w,b)}},"u/Db":function(e,t,n){var i=n("J6Nv"),r=n("BCVQ");t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!i.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return r.testNumeric(e)?t.NUMERIC:r.testAlphanumeric(e)?t.ALPHANUMERIC:r.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(i){return n}}},vvrf:function(e,t,n){var i=n("u/Db"),r=n("3X7Y"),o=n("nZSm"),a=n("AZa5"),s=n("Lzq4"),c=n("BCVQ"),l=n("e/Dd"),d=n("ELBg");function u(e){return unescape(encodeURIComponent(e)).length}function g(e,t,n){for(var i,r=[];null!==(i=e.exec(n));)r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function h(e){var t,n,r=g(c.NUMERIC,i.NUMERIC,e),o=g(c.ALPHANUMERIC,i.ALPHANUMERIC,e);return l.isKanjiModeEnabled()?(t=g(c.BYTE,i.BYTE,e),n=g(c.KANJI,i.KANJI,e)):(t=g(c.BYTE_KANJI,i.BYTE,e),n=[]),r.concat(o,t,n).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function b(e,t){switch(t){case i.NUMERIC:return r.getBitsLength(e);case i.ALPHANUMERIC:return o.getBitsLength(e);case i.KANJI:return s.getBitsLength(e);case i.BYTE:return a.getBitsLength(e)}}function p(e,t){var n,c=i.getBestModeForData(e);if((n=i.from(t,c))!==i.BYTE&&n.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+i.toString(n)+".\n Suggested mode is: "+i.toString(c));switch(n!==i.KANJI||l.isKanjiModeEnabled()||(n=i.BYTE),n){case i.NUMERIC:return new r(e);case i.ALPHANUMERIC:return new o(e);case i.KANJI:return new s(e);case i.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(p(t,null)):t.data&&e.push(p(t.data,t.mode)),e},[])},t.fromString=function(e,n){for(var r=function(e,t){for(var n={},r={start:{}},o=["start"],a=0;a<e.length;a++){for(var s=e[a],c=[],l=0;l<s.length;l++){var d=s[l],u=""+a+l;c.push(u),n[u]={node:d,lastCount:0},r[u]={};for(var g=0;g<o.length;g++){var h=o[g];n[h]&&n[h].node.mode===d.mode?(r[h][u]=b(n[h].lastCount+d.length,d.mode)-b(n[h].lastCount,d.mode),n[h].lastCount+=d.length):(n[h]&&(n[h].lastCount=d.length),r[h][u]=b(d.length,d.mode)+4+i.getCharCountIndicator(d.mode,t))}}o=c}for(g=0;g<o.length;g++)r[o[g]].end=0;return{map:r,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];switch(r.mode){case i.NUMERIC:t.push([r,{data:r.data,mode:i.ALPHANUMERIC,length:r.length},{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.ALPHANUMERIC:t.push([r,{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.KANJI:t.push([r,{data:r.data,mode:i.BYTE,length:u(r.data)}]);break;case i.BYTE:t.push([{data:r.data,mode:i.BYTE,length:u(r.data)}])}}return t}(h(e,l.isKanjiModeEnabled())),n),o=d.find_path(r.map,"start","end"),a=[],s=1;s<o.length-1;s++)a.push(r.table[o[s]].node);return t.fromArray(a.reduce(function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[]))},t.rawSplit=function(e){return t.fromArray(h(e,l.isKanjiModeEnabled()))}},yKow:function(e,t,n){var i=n("e/Dd"),r=n("NPxG"),o=n("ekOh"),a=n("u/Db"),s=n("J6Nv"),c=n("7uVY"),l=i.getBCHDigit(7973);function d(e,t){return a.getCharCountIndicator(e,t)+4}function u(e,t){var n=0;return e.forEach(function(e){var i=d(e.mode,t);n+=i+e.getBitsLength()}),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);var o=8*(i.getSymbolTotalCodewords(e)-r.getTotalCodewordsCount(e,t));if(n===a.MIXED)return o;var c=o-d(n,e);switch(n){case a.NUMERIC:return Math.floor(c/10*3);case a.ALPHANUMERIC:return Math.floor(c/11*2);case a.KANJI:return Math.floor(c/13);case a.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,n){var i,r=o.from(n,o.M);if(c(e)){if(e.length>1)return function(e,n){for(var i=1;i<=40;i++)if(u(e,i)<=t.getCapacity(i,n,a.MIXED))return i}(e,r);if(0===e.length)return 1;i=e[0]}else i=e;return function(e,n,i){for(var r=1;r<=40;r++)if(n<=t.getCapacity(r,i,e))return r}(i.mode,i.getLength(),r)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;i.getBCHDigit(t)-l>=0;)t^=7973<<i.getBCHDigit(t)-l;return e<<12|t}}}]);