!function(){function e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,t)}function t(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var t,o=i(e);if(r){var a=i(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return n(this,t)}}function n(e,r){return!r||"object"!=typeof r&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function a(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,r,t){return r&&a(e.prototype,r),t&&a(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"0nNC":function(e,r,t){"use strict";t.d(r,"a",function(){return c});var n=t("tk/3"),i=t("q/dP"),a=t("fXoL"),c=function(){var e=function(){function e(r,t){o(this,e),this._apiUrl=r,this._http=t,this._headers=new n.e({"Content-Type":"application/json"})}return s(e,[{key:"setupAuthenticator$",value:function(){return this._http.get("".concat(this._apiUrl,"/2fa/setup-authenticator"),{headers:this._headers})}},{key:"verifyAuthenticator$",value:function(e){return this._http.post("".concat(this._apiUrl,"/2fa/verify-authenticator"),JSON.stringify(e),{headers:this._headers})}},{key:"verifyTwoStepVerificationCode$",value:function(e){return this._http.post("".concat(this._apiUrl,"/2fa/verify-two-step-verification-code"),JSON.stringify(e),{headers:this._headers})}},{key:"redeemRecoveryCode$",value:function(e){return this._http.post("".concat(this._apiUrl,"/2fa/redeem-recovery-code"),JSON.stringify(e),{headers:this._headers})}},{key:"generate2FaRecoveryCodes$",value:function(){return this._http.post("".concat(this._apiUrl,"/2fa/generate-recovery-codes"),"",{headers:this._headers})}},{key:"disable2Fa$",value:function(){return this._http.post("".concat(this._apiUrl,"/2fa/disable"),"",{headers:this._headers})}}]),e}();return e.\u0275fac=function(r){return new(r||e)(a.ac(i.a),a.ac(n.b))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"44v3":function(r,n,i){"use strict";i.d(n,"a",function(){return c}),i.d(n,"c",function(){return u}),i.d(n,"b",function(){return l});var a=i("3Pt+"),c=8,u=6,l=function(r){e(i,r);var n=t(i);function i(){return o(this,i),n.apply(this,arguments)}return s(i,null,[{key:"requireDigit",value:function(e){return/\d/.test(e.value)?null:{number:!0}}},{key:"requireThreeUniqueCharacters",value:function(e){return new Set(e.value).size<3?{uniqueChars:!0}:null}},{key:"requireUppercase",value:function(e){return/[A-Z]/.test(e.value)?null:{uppercase:!0}}},{key:"requireLowercase",value:function(e){return/[a-z]/.test(e.value)?null:{lowercase:!0}}},{key:"requireNonAlphanumeric",value:function(e){return/[!@#$%&*_?]/.test(e.value)?null:{nonAlphanumeric:!0,requiredNonAlphanumeric:"! @ # $ % & * _ ?"}}},{key:"requireConfirmPassword",value:function(e){return e.get("password").value===e.get("confirmPassword").value?null:{notSame:!0}}}]),i}(a.r)},"5iVC":function(e,r,t){"use strict";t.d(r,"a",function(){return o});var n=t("0eTy"),i=t("dulg");function o(){return function(e,r){var t=n.a.get(i.a);e[r]=t.getInternalServerError$}}},Bm1U:function(e,r,t){"use strict";t.d(r,"a",function(){return C});var n=t("fXoL"),i=t("FvrZ"),a=t("8yBR"),c=t("quSY"),u=t("vkgz"),l=t("Sjj7"),d=t("kFSJ"),h=t("pKmL"),p=t("S2kB"),f=t("NFeN"),v=t("kmnG"),m=t("ofXK"),_=t("Qu3c"),g=t("bTqV"),b=t("sYmb"),E=["tree"];function y(e,r){if(1&e&&(n.Wb(0,"mat-tree-node",4),n.Wb(1,"span"),n.Wb(2,"mat-icon",5),n.Cc(3),n.Vb(),n.Cc(4),n.ic(5,"translate"),n.Vb(),n.Rb(6,"br"),n.Vb()),2&e){var t=r.$implicit,i=n.hc();n.mc("role","treeitem")("matTreeNodePaddingIndent",i._indent)("@downUpFadeIn",void 0),n.Eb(2),n.mc("ngClass",i._getClassForPasswordState(t,null==i._passwordControl?null:i._passwordControl.pristine)),n.Eb(1),n.Dc(i._passwordRequirementMet(t)?"check_box":"check_box_outline_blank"),n.Eb(1),n.Ec(" ",n.jc(5,6,t.name)," ")}}function S(e,r){if(1&e){var t=n.Xb();n.Wb(0,"mat-tree-node",6),n.ic(1,"translate"),n.Wb(2,"button",7),n.dc("click",function(){return n.tc(t),n.hc()._onTogglePasswordHelp()}),n.Wb(3,"mat-icon",8),n.dc("click",function(){return n.tc(t),n.hc()._onTogglePasswordHelp()}),n.Cc(4),n.Vb(),n.Vb(),n.Cc(5),n.ic(6,"translate"),n.Vb()}if(2&e){var i=r.$implicit,o=n.hc();n.mc("matTooltip",n.jc(1,6,"odm.auth.password-help"))("matTooltipShowDelay",o._showDelayInMs)("matTooltipTouchGestures",o._touchGestrues),n.Eb(2),n.Fb("aria-label","Toggle "+i.name),n.Eb(2),n.Ec(" ",o._treeControl.isExpanded(i)?"expand_more":"chevron_right"," "),n.Eb(1),n.Ec(" ",n.jc(6,8,i.name)," ")}}var C=function(){var e=function(){function e(r){o(this,e),this._log=r,this.passwordHelpClicked=new n.o,this._touchGestrues="on",this._showDelayInMs=p.a,this._indent=0,this._passwordLengthReqMet=!1,this._passwordUppercaseReqMet=!1,this._passwordLowercaseReqMet=!1,this._passwordDigitReqMet=!1,this._passwordThreeUniqueCharacterCountReqMet=!1,this._passwordSpecialCharacterReqMet=!1,this._confirmPasswordNotMatchReqMet=!1,this._topLevelPasswordRequirementNode={name:"odm.auth.form.requirements.title",type:l.a.None,children:[]},this._subscription=new c.a,this._transformer=function(e,r){return{expandable:!!e.children&&e.children.length>0,name:e.name,level:r,type:e.type}},this._treeControl=new i.j(function(e){return e.level},function(e){return e.expandable}),this._treeFlattener=new a.c(this._transformer,function(e){return e.level},function(e){return e.expandable},function(e){return e.children}),this._dataSource=new a.b(this._treeControl,this._treeFlattener),this._hasChild=function(e,r){return r.expandable}}return s(e,[{key:"passwordControl",set:function(e){this._log.debug("passwordControl fired.",this),this._passwordControl=e,this._subscription.add(this._validateFormPasswordField$(this._passwordControl).subscribe())}},{key:"passwordRequirements",set:function(e){this._log.debug("passwordRequirements fired.",this),this._dataSource.data=e}},{key:"togglePosition",set:function(e){this.matTree&&this._setMatTreeStateAndNotifyParent(e)}},{key:"ngOnInit",value:function(){this._log.trace("Initialized.",this)}},{key:"ngOnDestroy",value:function(){this._log.trace("Destroyed",this),this._subscription.unsubscribe()}},{key:"_onTogglePasswordHelp",value:function(){this._log.trace("_onTogglePasswordHelp fired.",this),this.passwordHelpClicked.emit()}},{key:"_passwordRequirementMet",value:function(e){switch(e.type){case l.a.Digit:return this._passwordDigitReqMet;case l.a.LowerCase:return this._passwordLowercaseReqMet;case l.a.UpperCase:return this._passwordUppercaseReqMet;case l.a.MinCharsLength:return this._passwordLengthReqMet;case l.a.SpecialChar:return this._passwordSpecialCharacterReqMet;case l.a.ThreeUniqueChar:return this._passwordThreeUniqueCharacterCountReqMet;default:return this._log.warn("_passwordRequirementMet method passed in node without a valid type property."),!1}}},{key:"_getClassForPasswordState",value:function(e,r){return!0===r?"auth--req-not-validated":this._passwordRequirementMet(e)?"auth--req-met":"auth--req-not-met"}},{key:"_setMatTreeStateAndNotifyParent",value:function(e){"collapsed"===e?(this._log.debug("[togglePosition]: State is set to 'collapsed'",this),this.matTree.treeControl.isExpanded(this._topLevelPasswordRequirementNode)&&(this._log.debug("[togglePosition]: topLevelPasswordRequirementNode is exapnded. Collapsing mat-tree control.",this),this.matTree.treeControl.collapseAll(),this.passwordHelpClicked.emit())):"expanded"===e&&(this._log.debug("[togglePosition]: State is set to 'exapnded'",this),!1===this.matTree.treeControl.isExpanded(this._topLevelPasswordRequirementNode)&&(this._log.debug("[togglePosition]: topLevelPasswordRequirementNode is collapsed. Expanding mat-tree control.",this),this.matTree.treeControl.expandAll(),this.passwordHelpClicked.emit()))}},{key:"_validateFormPasswordField$",value:function(e){var r=this;return e.valueChanges.pipe(Object(u.a)(function(t){r._passwordDigitReqMet=!e.hasError("number"),r._passwordUppercaseReqMet=!e.hasError("uppercase"),r._passwordLowercaseReqMet=!e.hasError("lowercase"),r._passwordSpecialCharacterReqMet=!e.hasError("nonAlphanumeric"),r._passwordThreeUniqueCharacterCountReqMet=!e.hasError("uniqueChars"),0===(t||"").length||e.hasError("minlength")?r._passwordLengthReqMet=!1:!1===e.hasError("minlength")&&(r._passwordLengthReqMet=!0)}))}}]),e}();return e.\u0275fac=function(r){return new(r||e)(n.Qb(d.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["odm-password-help"]],viewQuery:function(e,r){var t;(1&e&&n.Fc(E,1),2&e)&&(n.qc(t=n.ec())&&(r.matTree=t.first))},inputs:{passwordControl:"passwordControl",passwordRequirements:"passwordRequirements",togglePosition:"togglePosition"},outputs:{passwordHelpClicked:"passwordHelpClicked"},decls:4,vars:3,consts:[[1,"password-help",3,"dataSource","treeControl"],["tree",""],["matTreeNodePadding","",3,"role","matTreeNodePaddingIndent",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"matTooltip","matTooltipShowDelay","matTooltipTouchGestures",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"role","matTreeNodePaddingIndent"],["matPrefix","",3,"ngClass"],["matTreeNodePadding","",3,"matTooltip","matTooltipShowDelay","matTooltipTouchGestures"],["type","button","matTreeNodeToggle","","mat-icon-button","",3,"click"],["matTreeNodeToggle","",1,"mat-icon-rtl-mirror",3,"click"]],template:function(e,r){1&e&&(n.Wb(0,"mat-tree",0,1),n.Ac(2,y,7,8,"mat-tree-node",2),n.Ac(3,S,7,10,"mat-tree-node",3),n.Vb()),2&e&&(n.mc("dataSource",r._dataSource)("treeControl",r._treeControl),n.Eb(3),n.mc("matTreeNodeDefWhen",r._hasChild))},directives:[a.a,a.f,a.e,a.g,f.a,v.i,m.i,_.a,g.b,a.h],pipes:[b.c],styles:[".password-help[_ngcontent-%COMP%]{background:inherit}mat-tree-node[_ngcontent-%COMP%]{min-height:0;color:rgba(0,0,0,.6);font:12px Roboto,Helvetica Neue,sans-serif}"],data:{animation:[h.f]}}),e}()},ESgL:function(e,r,t){"use strict";t.d(r,"c",function(){return n}),t.d(r,"b",function(){return i}),t.d(r,"a",function(){return o});var n="13px",i="14px",o="18px"},Gn8p:function(e,r,t){"use strict";t.d(r,"a",function(){return h});var n=t("LRne"),i=t("Kj3r"),a=t("IzEk"),c=t("eIep"),u=t("lJxs"),l=t("QXSh"),d=t("fXoL"),h=function(){var e=function(){function e(r){o(this,e),this._usersAsyncService=r}return s(e,[{key:"isEmptyInputValue",value:function(e){return null===e||0===e.length}},{key:"checkIfEmailIsUnique",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return e.isEmptyInputValue(t.value)||t.value===r?Object(n.a)(null):t.valueChanges.pipe(Object(i.a)(500),Object(a.a)(1),Object(c.a)(function(r){return e._usersAsyncService.checkIfEmailExists$(t.value).pipe(Object(u.a)(function(e){return e?{nonUnique:t.value}:null}))}))}}}]),e}();return e.\u0275fac=function(r){return new(r||e)(d.ac(l.a))},e.\u0275prov=d.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},O9iT:function(e,r,t){"use strict";t.r(r),r.default=t.p+"facebook_icon_color.2103d8fc21f354a436f0.svg"},OPgr:function(e,r,t){"use strict";t.r(r),r.default=t.p+"google_icon_color.fc4f52a0dd129319bc68.svg"},Q03B:function(e,r,t){"use strict";t.d(r,"a",function(){return o});var n=t("0eTy"),i=t("dulg");function o(){return function(e,r){var t=n.a.get(i.a);e[r]=t.getProblemDetails$}}},QXSh:function(e,r,t){"use strict";t.d(r,"a",function(){return c});var n=t("tk/3"),i=t("q/dP"),a=t("fXoL"),c=function(){var e=function(){function e(r,t){o(this,e),this._apiUrl=r,this._http=t,this._headers=new n.e({"Content-Type":"application/json"})}return s(e,[{key:"getAccountSecurityDetails$",value:function(e){return this._http.get("".concat(this._apiUrl,"/users/").concat(e,"/account/security"))}},{key:"getAccountGeneralDetails$",value:function(e){return this._http.get("".concat(this._apiUrl,"/users/").concat(e,"/account/general"))}},{key:"resendEmailVerification$",value:function(e){return this._http.get("".concat(this._apiUrl,"/users/").concat(e,"/account/resend-email-verification"))}},{key:"checkIfEmailExists$",value:function(e){return this._http.get("".concat(this._apiUrl,"/users/email"),{params:{email:e},headers:this._headers})}},{key:"forgotPassword$",value:function(e){return this._http.post("".concat(this._apiUrl,"/users/password"),JSON.stringify(e),{headers:this._headers})}},{key:"resetPassword$",value:function(e,r){return this._http.post("".concat(this._apiUrl,"/users/").concat(e,"/reset-password"),JSON.stringify(r),{headers:this._headers})}},{key:"fetchUsernameForRememberMe$",value:function(e){return this._http.get("".concat(this._apiUrl,"/users/").concat(e,"/username"),{headers:this._headers})}},{key:"changePassword$",value:function(e,r){return this._http.put("".concat(this._apiUrl,"/users/").concat(e,"/password"),JSON.stringify(r),{headers:this._headers})}},{key:"changeEmail$",value:function(e,r){return this._http.put("".concat(this._apiUrl,"/users/").concat(e,"/email"),JSON.stringify(r),{headers:this._headers})}},{key:"requestToChangeEmail$",value:function(e,r){return this._http.post("".concat(this._apiUrl,"/users/").concat(e,"/change-email-request"),JSON.stringify(r),{headers:this._headers})}},{key:"confirmEmail$",value:function(e){return this._http.post("".concat(this._apiUrl,"/users/confirm-email"),JSON.stringify(e),{headers:this._headers})}}]),e}();return e.\u0275fac=function(r){return new(r||e)(a.ac(i.a),a.ac(n.b))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},S2kB:function(e,r,t){"use strict";t.d(r,"a",function(){return n});var n=300},Sjj7:function(e,r,t){"use strict";t.d(r,"a",function(){return n});var n=function(e){return e[e.None=0]="None",e[e.MinCharsLength=1]="MinCharsLength",e[e.LowerCase=2]="LowerCase",e[e.UpperCase=3]="UpperCase",e[e.Digit=4]="Digit",e[e.ThreeUniqueChar=5]="ThreeUniqueChar",e[e.SpecialChar=6]="SpecialChar",e}({})},UhX8:function(e,r,t){"use strict";t.d(r,"a",function(){return m});var n=t("kFSJ"),i=t("LRne"),a=t("pKmL"),c=t("ESgL"),u=t("fXoL"),l=t("ofXK"),d=t("NFeN"),h=t("kmnG");function p(e,r){if(1&e&&(u.Ub(0),u.Wb(1,"span"),u.Wb(2,"mat-icon",2),u.Cc(3),u.Vb(),u.Cc(4),u.ic(5,"async"),u.Vb(),u.Tb()),2&e){var t=u.hc();u.Eb(1),u.xc("--error",t._errorFontSize),u.mc("@upDownFadeIn",void 0),u.Eb(2),u.Dc("clear"),u.Eb(1),u.Ec(" ",u.jc(5,5,t._getErrorMessage$())," ")}}function f(e,r){if(1&e&&(u.Ub(0),u.Wb(1,"span"),u.Wb(2,"mat-icon",2),u.Cc(3),u.Vb(),u.Cc(4),u.Vb(),u.Tb()),2&e){var t=u.hc();u.Eb(1),u.xc("--error",t._errorFontSize),u.mc("@upDownFadeIn",void 0),u.Eb(2),u.Dc("clear"),u.Eb(1),u.Ec(" ",null==t._problemDetails?null:t._problemDetails.detail," ")}}function v(e,r){if(1&e&&(u.Ub(0),u.Wb(1,"span"),u.Wb(2,"mat-icon",2),u.Cc(3),u.Vb(),u.Cc(4),u.Vb(),u.Tb()),2&e){var t=u.hc();u.Eb(1),u.xc("--error",t._errorFontSize),u.mc("@upDownFadeIn",void 0),u.Eb(2),u.Dc("clear"),u.Eb(1),u.Ec(" ",null==t._internalServerErrorDetails?null:t._internalServerErrorDetails.message," ")}}var m=function(){var e=function(){function e(r){o(this,e),this._log=r,this._errorFontSize=c.c}return s(e,[{key:"problemDetails",set:function(e){this._log.debug("problemDetails emitted.",this),this._problemDetails=e}},{key:"internalServerErrorDetails",set:function(e){this._log.debug("internalServerErrorDetails emitted.",this),this._internalServerErrorDetails=e}},{key:"ngOnInit",value:function(){this._log.trace("Initialized",this)}},{key:"_getErrorMessage$",value:function(){var e;return(null===(e=this.serverError)||void 0===e?void 0:e.message)?Object(i.a)(this.serverError.message):this.serverError?Object(i.a)(this.serverError.detail):void 0}}]),e}();return e.\u0275fac=function(r){return new(r||e)(u.Qb(n.a))},e.\u0275cmp=u.Kb({type:e,selectors:[["odm-server-side-error"]],inputs:{serverError:"serverError",problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails"},decls:4,vars:3,consts:[[1,"server-side-error__error"],[4,"ngIf"],["matPrefix","",1,"server-side-error--color","server-side-error__error-format-position"]],template:function(e,r){1&e&&(u.Wb(0,"div",0),u.Ac(1,p,6,7,"ng-container",1),u.Ac(2,f,5,5,"ng-container",1),u.Ac(3,v,5,5,"ng-container",1),u.Vb()),2&e&&(u.Eb(1),u.mc("ngIf",r.serverError),u.Eb(1),u.mc("ngIf",r._problemDetails),u.Eb(1),u.mc("ngIf",r._internalServerErrorDetails))},directives:[l.k,d.a,h.i],pipes:[l.b],styles:["span[_ngcontent-%COMP%]{font-size:var(--error)}.server-side-error__error[_ngcontent-%COMP%]   .server-side-error--color[_ngcontent-%COMP%]{color:red}.server-side-error__error[_ngcontent-%COMP%]   .server-side-error__error-format-position[_ngcontent-%COMP%]{width:15px;height:15px;vertical-align:text-top;font-size:15px}.server-side-error__error[_ngcontent-%COMP%]   .server-side-error[_ngcontent-%COMP%]{padding-top:8px;display:block}"],data:{animation:[a.j]},changeDetection:0}),e}()},ZQlJ:function(e,r,t){"use strict";t.d(r,"a",function(){return a});var n=t("zhtI"),i=t("LRne"),a=function(){function e(r,n,i){o(this,e),this._translateErrorValidationService=r,this.log=n,this.cd=i,this._facebookLoginIcon=t("O9iT").default,this._googleLoginIcon=t("OPgr").default}return s(e,[{key:"internalServerError",set:function(e){this.log.debug("[AuthBase]: Setting internalServerError.",this),this._internalServerErrorDetailsHandled=!1,this._problemDetails=null,this._internalServerErrorDetails=e}},{key:"problemDetailsError",set:function(e){this.log.debug("[AuthBase]: Setting problemDetailsError.",this),this._problemDetailsServerErrorHandled=!1,this._internalServerErrorDetails=null,this._problemDetails=e}},{key:"_doesInternalServerErrorImplementOdmWebApiException",get:function(){return Object(n.a)(this._internalServerErrorDetails)}},{key:"_internalServerErrorOccured",get:function(){return!!this._internalServerErrorDetails}},{key:"_serverErrorOccured",get:function(){return!!this._problemDetails&&!this._problemDetails.errors}},{key:"_serverValidationErrorOccured",get:function(){var e;return!!(null===(e=this._problemDetails)||void 0===e?void 0:e.errors)}},{key:"_ifControlFieldIsInvalid",value:function(e){return!!(null==e?void 0:e.invalid)||this._ifServerErrorOccured(e)}},{key:"_getErrorMessage$",value:function(e){if(e.hasError("serverError")){var r=e.getError("serverError");return Object(i.a)(r.errorDescription)}if(e.errors)return this._getTranslatedValidationErrorMessage$(e.errors)}},{key:"_ifServerErrorOccured",value:function(e){return this._internalServerErrorOccured?(this.log.trace("[_ifServerErrorOccured]: InternalServerErrorOccured.",this),this._handleInternalServerError(e)):this._serverValidationErrorOccured?(this.log.trace("[_ifServerErrorOccured]: ServerValidationErrorOccured.",this),this._handleServerValidationError(e)):!!this._serverErrorOccured&&(this.log.trace("[_ifServerErrorOccured]: ServerErrorOccured.",this),this._handleServerError(e))}},{key:"_handleInternalServerError",value:function(e){return this.log.trace("[_handleInternalServerError]: Was server error handled:",this,this._internalServerErrorDetailsHandled),!1===this._internalServerErrorDetailsHandled?(this._setInternalServerError(e),!0):e.pristine}},{key:"_setInternalServerError",value:function(e){var r=this._getInternalServerErrorMessage();e.setErrors({serverError:{errorDescription:r}}),this._internalServerErrorDetailsHandled=!0,this.cd.detectChanges()}},{key:"_handleServerValidationError",value:function(e){return this.log.trace("[_handleServerValidationError]: Was server error handled:",this,this._problemDetailsServerErrorHandled),!1===this._problemDetailsServerErrorHandled?(this._setServerValidationError(e),!0):e.pristine}},{key:"_setServerValidationError",value:function(e){var r=Object.values(this._problemDetails.errors);if(r.length>0){var t=r[0];t.length>0&&(e.setErrors({serverError:{errorDescription:"Server validation error: ".concat(t[0])}}),this._problemDetailsServerErrorHandled=!0,this.cd.detectChanges())}}},{key:"_handleServerError",value:function(e){return this.log.debug("[_handleServerError]: Was problemDetailsServerErrorHandled:",this,this._problemDetailsServerErrorHandled),!1===this._problemDetailsServerErrorHandled?(this._setServerError(e),!0):e.pristine}},{key:"_setServerError",value:function(e){this.log.debug("[_setServerError]: fired.",this),e.setErrors({serverError:{errorDescription:this._problemDetails.detail}}),this._problemDetailsServerErrorHandled=!0,this.log.debug("[_setServerError]: running change detection.",this),this.cd.detectChanges()}},{key:"_getTranslatedValidationErrorMessage$",value:function(e){return this._translateErrorValidationService.translateValidationErrorMessage$(e)}},{key:"_getInternalServerErrorMessage",value:function(){return this._doesInternalServerErrorImplementOdmWebApiException?this._internalServerErrorDetails.detail:this._internalServerErrorDetails.message}}]),e}()},e2D8:function(e,r,t){"use strict";t.d(r,"b",function(){return n}),t.d(r,"a",function(){return i}),t.d(r,"d",function(){return o}),t.d(r,"c",function(){return a});var n=4,i=225,o=1,a=15},"eaX+":function(r,n,i){"use strict";i.d(n,"a",function(){return D});var a=i("fXoL"),c=i("kFSJ"),u=i("ZQlJ"),l=i("e2D8"),d=i("kO4E"),h=i("44v3"),p=i("lJxs"),f=i("3Pt+"),v=i("sYmb"),m=i("kmnG"),_=i("qFsG"),g=i("ofXK"),b=i("bTqV"),E=i("NFeN"),y=i("peOe");function S(e,r){if(1&e&&(a.Wb(0,"mat-error"),a.Cc(1),a.ic(2,"async"),a.Vb()),2&e){var t=a.hc();a.Eb(1),a.Ec(" ",a.jc(2,1,t._getErrorMessage$(t._form.get("code"))),"")}}function C(e,r){if(1&e&&(a.Ub(0),a.Cc(1),a.ic(2,"translate"),a.Wb(3,"mat-icon",7),a.Cc(4),a.Vb(),a.Rb(5,"odm-spinner",8),a.Tb()),2&e){var t=a.hc();a.Eb(1),a.Ec(" ",a.jc(2,5,"odm.buttons.verified")," "),a.Eb(3),a.Dc("check"),a.Eb(1),a.mc("type","button")("diameter",t._verifiedNextStepSpinnerDiameter)("strokeWidth",t._verifiedNextStepSpinnerStrokeWidth)}}function w(e,r){1&e&&(a.Wb(0,"span",9),a.Cc(1),a.ic(2,"translate"),a.Wb(3,"span"),a.Cc(4,"."),a.Vb(),a.Wb(5,"span"),a.Cc(6,"."),a.Vb(),a.Wb(7,"span"),a.Cc(8,"."),a.Vb(),a.Vb()),2&e&&(a.Eb(1),a.Dc(a.jc(2,1,"odm.buttons.verifing")))}function k(e,r){1&e&&(a.Ub(0),a.Cc(1),a.ic(2,"translate"),a.Tb()),2&e&&(a.Eb(1),a.Ec(" ",a.jc(2,1,"odm.buttons.verify")," "))}var D=function(){var r=function(r){e(i,r);var n=t(i);function i(e,r,t,s,c){var u;return o(this,i),(u=n.call(this,t,s,c))._fb=e,u._translateService=r,u._log=s,u.codeVerificationSucceeded=!1,u._verificationCodeInputLength=6,u.verificationCodeSubmitted=new a.o,u.cancelSetupWizardClicked=new a.o,u._verifiedNextStepSpinnerDiameter=l.c,u._verifiedNextStepSpinnerStrokeWidth=l.d,u._translationKey="odm.auth.form.placeholders.verification-code",u}return s(i,[{key:"problemDetails",set:function(e){this._log.debug("Problem Ddetails emitted.",this),this.problemDetailsError=e}},{key:"internalServerErrorDetails",set:function(e){this._log.debug("Internal server error emitted.",this),this.internalServerError=e}},{key:"form",set:function(e){e&&(this._log.debug("Setting custom form.",this),this._form=this._validateForm(e))}},{key:"verificationCodeInputLength",set:function(e){e&&(this._log.debug("verificationCodeInputLength specified. Setting max input field length to:",this,e),this._verificationCodeInputLength=e)}},{key:"ngOnInit",value:function(){var e=this;this._log.trace("Initialized.",this),this._form||(this._log.debug("Custom form has not been specified, using default",this),this._initForm()),this._verificationCodeLabel$=this._translateService.get(this._translationKey).pipe(Object(p.a)(function(r){return r.replace("{number}",e._verificationCodeInputLength.toString())}))}},{key:"_onVerificationCodeSubmitted",value:function(){this._log.trace("_onVerificationCodeSubmitted fired.",this),this.verificationCodeSubmitted.emit(this._form.value)}},{key:"_onCancelClicked",value:function(){this._log.trace("_onCancelClicked fired.",this),this.cancelSetupWizardClicked.emit()}},{key:"_validateForm",value:function(e){if(!e.get("code"))throw this._log.fatal("Custom form has to contain contral with the name 'code'!"),new Error;return e}},{key:"_initForm",value:function(){this._form=this._fb.group({code:this._fb.control("",{validators:[h.b.required,h.b.minLength(this.verificationCodeInputLength),h.b.maxLength(this.verificationCodeInputLength)],updateOn:"change"})})}}]),i}(u.a);return r.\u0275fac=function(e){return new(e||r)(a.Qb(f.d),a.Qb(v.d),a.Qb(d.a),a.Qb(c.a),a.Qb(a.i))},r.\u0275cmp=a.Kb({type:r,selectors:[["odm-verification-code"]],inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",form:"form",codeVerificationInProgress:"codeVerificationInProgress",codeVerificationSucceeded:"codeVerificationSucceeded",verificationCodeInputLength:"verificationCodeInputLength"},outputs:{verificationCodeSubmitted:"verificationCodeSubmitted",cancelSetupWizardClicked:"cancelSetupWizardClicked"},features:[a.Bb],decls:16,vars:15,consts:[[1,"verification-code",3,"formGroup","ngSubmit"],["matInput","","type","text","formControlName","code",3,"maxlength"],[4,"ngIf"],[1,"verification-code__action-buttons"],["mat-button","","type","button","color","warn",3,"click"],["mat-button","","mat-stroked-button","","color","accent","type","submit",3,"disabled"],["class","loading-dots-animation",4,"ngIf"],["color","accent","matSuffix",""],["color","accent",3,"type","diameter","strokeWidth"],[1,"loading-dots-animation"]],template:function(e,r){1&e&&(a.Wb(0,"form",0),a.dc("ngSubmit",function(){return r._onVerificationCodeSubmitted()}),a.Wb(1,"mat-form-field"),a.Wb(2,"mat-label"),a.Cc(3),a.ic(4,"translate"),a.ic(5,"async"),a.Vb(),a.Rb(6,"input",1),a.Ac(7,S,3,3,"mat-error",2),a.Vb(),a.Wb(8,"div",3),a.Wb(9,"button",4),a.dc("click",function(){return r._onCancelClicked()}),a.Cc(10),a.ic(11,"translate"),a.Vb(),a.Wb(12,"button",5),a.Ac(13,C,6,7,"ng-container",2),a.Ac(14,w,9,3,"span",6),a.Ac(15,k,3,3,"ng-container",2),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.mc("formGroup",r._form),a.Eb(3),a.Ec(" ",a.jc(4,9,a.jc(5,11,r._verificationCodeLabel$))," "),a.Eb(3),a.mc("maxlength",r._verificationCodeInputLength),a.Eb(1),a.mc("ngIf",r._ifControlFieldIsInvalid(r._form.get("code"))),a.Eb(3),a.Ec(" ",a.jc(11,13,"odm.buttons.cancel")," "),a.Eb(2),a.mc("disabled",!r._form.valid||r.codeVerificationInProgress),a.Eb(1),a.mc("ngIf",!r.codeVerificationInProgress&&r.codeVerificationSucceeded),a.Eb(1),a.mc("ngIf",r.codeVerificationInProgress),a.Eb(1),a.mc("ngIf",!r.codeVerificationInProgress&&!r.codeVerificationSucceeded))},directives:[f.s,f.m,f.f,m.c,m.g,_.b,f.c,f.l,f.e,f.h,g.k,b.b,m.b,E.a,m.j,y.a],pipes:[v.c,g.b],styles:[".verification-code[_ngcontent-%COMP%]   .verification-code__action-buttons[_ngcontent-%COMP%]{margin-top:20px}"],changeDetection:0}),r}()},kO4E:function(e,r,t){"use strict";t.d(r,"a",function(){return d});var n,i=t("LRne"),a=function(e){return e[e.None=0]="None",e[e.Required=1]="Required",e[e.ServerValidationError=2]="ServerValidationError",e[e.ServerAuthenticationError=3]="ServerAuthenticationError",e[e.InternalServerError=4]="InternalServerError",e[e.InputValidationError=5]="InputValidationError",e[e.InvalidEmailFormat=6]="InvalidEmailFormat",e[e.NonUniqueEmail=7]="NonUniqueEmail",e[e.Number=8]="Number",e[e.Uppercase=9]="Uppercase",e[e.Lowercase=10]="Lowercase",e[e.NonAlphanumeric=11]="NonAlphanumeric",e[e.MinLength=12]="MinLength",e}({}),c=t("lJxs"),u=t("fXoL"),l=t("sYmb"),d=((n=function(){function e(r){o(this,e),this._translateService=r}return s(e,[{key:"translateValidationErrorMessage$",value:function(e){var r=this,t=this._mapErrorToTranslation(e);return void 0!==t.translationKey?this._translateService.get(t.translationKey).pipe(Object(c.a)(function(e){return r._buildTranslatedString(t,e)})):Object(i.a)(t.extras).pipe(Object(c.a)(function(e){return r._buildTranslatedString(t,e)}))}},{key:"_mapErrorToTranslation",value:function(e){return e.required?{translationKey:"odm.auth.form.validations.field-required",validationErrorType:a.Required}:e.email?{translationKey:"odm.auth.form.validations.invalid-email-format",validationErrorType:a.InvalidEmailFormat}:e.nonUnique?{translationKey:"odm.auth.form.validations.non-unique-email",extras:e.nonUnique,validationErrorType:a.NonUniqueEmail}:e.minlength?{translationKey:"odm.auth.form.validations.min-length",extras:e.minlength.requiredLength,validationErrorType:a.MinLength}:e.serverValidationError?{validationErrorType:a.ServerValidationError,extras:e.errorDescription}:e.serverAuthenticationError?{validationErrorType:a.ServerAuthenticationError,extras:e.errorDescription}:e.internalServerError?{validationErrorType:a.InternalServerError,extras:e.errorDescription}:{translationKey:"odm.auth.form.validations.input-error",validationErrorType:a.InputValidationError}}},{key:"_buildTranslatedString",value:function(e,r){switch(e.validationErrorType){case a.Required:case a.InputValidationError:case a.InvalidEmailFormat:case a.ServerValidationError:case a.ServerAuthenticationError:case a.InternalServerError:case a.Number:default:return r;case a.NonUniqueEmail:return r.replace("{email}",e.extras);case a.NonAlphanumeric:return r.replace("{requiredNonAlphanumeric}",e.extras);case a.MinLength:return r.replace("{requiredLength}",e.extras)}}}]),e}()).\u0275fac=function(e){return new(e||n)(u.ac(l.d))},n.\u0275prov=u.Mb({token:n,factory:n.\u0275fac,providedIn:"root"}),n)},oluo:function(e,r,t){"use strict";t.d(r,"a",function(){return i});var n=t("Sjj7");function i(){return[{name:"odm.auth.form.requirements.title",type:n.a.None,children:[{name:"odm.auth.form.requirements.min-chars-long",type:n.a.MinCharsLength},{name:"odm.auth.form.requirements.one-upper-case",type:n.a.UpperCase},{name:"odm.auth.form.requirements.one-lower-case",type:n.a.LowerCase},{name:"odm.auth.form.requirements.digit",type:n.a.Digit},{name:"odm.auth.form.requirements.three-unique-chars",type:n.a.ThreeUniqueChar},{name:"odm.auth.form.requirements.one-special-char",type:n.a.SpecialChar}]}]}},peOe:function(e,r,t){"use strict";t.d(r,"a",function(){return p});var n=t("mrSG"),i=t("5iVC"),a=t("HDdC"),s=t("fXoL"),c=t("ofXK"),u=t("Xa2L"),l=t("sYmb");function d(e,r){1&e&&(s.Ub(0),s.Wb(1,"div"),s.Rb(2,"img",3),s.Wb(3,"h4",4),s.Cc(4),s.ic(5,"translate"),s.Vb(),s.Vb(),s.Tb()),2&e&&(s.Eb(4),s.Dc(s.jc(5,1,"odm.server-down")))}function h(e,r){if(1&e&&(s.Ub(0),s.Ac(1,d,6,3,"ng-container",2),s.ic(2,"async"),s.Tb()),2&e){var t=s.hc();s.Eb(1),s.mc("ngIf",s.jc(2,1,t.internalServerErrorDetails$))}}var p=function(){var e=function e(){o(this,e),this.spinnerColor="primary",this.type="default"};return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["odm-spinner"]],inputs:{strokeWidth:"strokeWidth",diameter:"diameter",spinnerColor:"spinnerColor",type:"type"},decls:3,vars:5,consts:[[3,"ngClass"],[3,"strokeWidth","color","diameter"],[4,"ngIf"],["src","../../../../../assets/skull.png"],[1,"default-spinner__server-down"]],template:function(e,r){1&e&&(s.Wb(0,"div",0),s.Rb(1,"mat-spinner",1),s.Ac(2,h,3,3,"ng-container",2),s.Vb()),2&e&&(s.mc("ngClass","default"===r.type?"default-spinner":"button-spinner"),s.Eb(1),s.mc("strokeWidth",r.strokeWidth)("color",r.spinnerColor)("diameter",r.diameter),s.Eb(1),s.mc("ngIf","default"===r.type))},directives:[c.i,u.b,c.k],pipes:[c.b,l.c],styles:[".default-spinner[_ngcontent-%COMP%]{display:inline-block;position:relative}.default-spinner[_ngcontent-%COMP%]   .default-spinner__server-down[_ngcontent-%COMP%]{top:150px;text-align:center}.default-spinner[_ngcontent-%COMP%]   .default-spinner__server-down[_ngcontent-%COMP%], .default-spinner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.1;right:45px;max-width:100%;position:absolute;max-height:100%;width:60%}.default-spinner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:30px;-webkit-clip-path:circle(55% at 55% 55%);clip-path:circle(55% at 55% 55%)}.button-spinner[_ngcontent-%COMP%]{margin-left:5px;top:3px;position:relative;display:inline-block}"],changeDetection:0}),Object(n.a)([Object(i.a)(),Object(n.b)("design:type",a.a)],e.prototype,"internalServerErrorDetails$",void 0),e}()}}])}();