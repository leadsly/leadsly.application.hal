(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"0nNC":function(e,r,t){"use strict";t.d(r,"a",function(){return a});var i=t("tk/3"),n=t("q/dP"),o=t("fXoL");let a=(()=>{class e{constructor(e,r){this._apiUrl=e,this._http=r,this._headers=new i.e({"Content-Type":"application/json"})}setupAuthenticator$(){return this._http.get(`${this._apiUrl}/2fa/setup-authenticator`,{headers:this._headers})}verifyAuthenticator$(e){return this._http.post(`${this._apiUrl}/2fa/verify-authenticator`,JSON.stringify(e),{headers:this._headers})}verifyTwoStepVerificationCode$(e){return this._http.post(`${this._apiUrl}/2fa/verify-two-step-verification-code`,JSON.stringify(e),{headers:this._headers})}redeemRecoveryCode$(e){return this._http.post(`${this._apiUrl}/2fa/redeem-recovery-code`,JSON.stringify(e),{headers:this._headers})}generate2FaRecoveryCodes$(){return this._http.post(`${this._apiUrl}/2fa/generate-recovery-codes`,"",{headers:this._headers})}disable2Fa$(){return this._http.post(`${this._apiUrl}/2fa/disable`,"",{headers:this._headers})}}return e.\u0275fac=function(r){return new(r||e)(o.ac(n.a),o.ac(i.b))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"44v3":function(e,r,t){"use strict";t.d(r,"a",function(){return n}),t.d(r,"c",function(){return o}),t.d(r,"b",function(){return a});var i=t("3Pt+");const n=8,o=6;class a extends i.r{static requireDigit(e){return/\d/.test(e.value)?null:{number:!0}}static requireThreeUniqueCharacters(e){return new Set(e.value).size<3?{uniqueChars:!0}:null}static requireUppercase(e){return/[A-Z]/.test(e.value)?null:{uppercase:!0}}static requireLowercase(e){return/[a-z]/.test(e.value)?null:{lowercase:!0}}static requireNonAlphanumeric(e){return/[!@#$%&*_?]/.test(e.value)?null:{nonAlphanumeric:!0,requiredNonAlphanumeric:"! @ # $ % & * _ ?"}}static requireConfirmPassword(e){return e.get("password").value===e.get("confirmPassword").value?null:{notSame:!0}}}},"5iVC":function(e,r,t){"use strict";t.d(r,"a",function(){return o});var i=t("0eTy"),n=t("dulg");function o(){return function(e,r){const t=i.a.get(n.a);e[r]=t.getInternalServerError$}}},Bm1U:function(e,r,t){"use strict";t.d(r,"a",function(){return S});var i=t("fXoL"),n=t("FvrZ"),o=t("8yBR"),a=t("quSY"),s=t("vkgz"),c=t("Sjj7"),l=t("kFSJ"),d=t("pKmL"),u=t("S2kB"),h=t("NFeN"),p=t("kmnG"),m=t("ofXK"),_=t("Qu3c"),g=t("bTqV"),f=t("sYmb");const b=["tree"];function v(e,r){if(1&e&&(i.Wb(0,"mat-tree-node",4),i.Wb(1,"span"),i.Wb(2,"mat-icon",5),i.Cc(3),i.Vb(),i.Cc(4),i.ic(5,"translate"),i.Vb(),i.Rb(6,"br"),i.Vb()),2&e){const e=r.$implicit,t=i.hc();i.mc("role","treeitem")("matTreeNodePaddingIndent",t._indent)("@downUpFadeIn",void 0),i.Eb(2),i.mc("ngClass",t._getClassForPasswordState(e,null==t._passwordControl?null:t._passwordControl.pristine)),i.Eb(1),i.Dc(t._passwordRequirementMet(e)?"check_box":"check_box_outline_blank"),i.Eb(1),i.Ec(" ",i.jc(5,6,e.name)," ")}}function E(e,r){if(1&e){const e=i.Xb();i.Wb(0,"mat-tree-node",6),i.ic(1,"translate"),i.Wb(2,"button",7),i.dc("click",function(){return i.tc(e),i.hc()._onTogglePasswordHelp()}),i.Wb(3,"mat-icon",8),i.dc("click",function(){return i.tc(e),i.hc()._onTogglePasswordHelp()}),i.Cc(4),i.Vb(),i.Vb(),i.Cc(5),i.ic(6,"translate"),i.Vb()}if(2&e){const e=r.$implicit,t=i.hc();i.mc("matTooltip",i.jc(1,6,"odm.auth.password-help"))("matTooltipShowDelay",t._showDelayInMs)("matTooltipTouchGestures",t._touchGestrues),i.Eb(2),i.Fb("aria-label","Toggle "+e.name),i.Eb(2),i.Ec(" ",t._treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),i.Eb(1),i.Ec(" ",i.jc(6,8,e.name)," ")}}let S=(()=>{class e{constructor(e){this._log=e,this.passwordHelpClicked=new i.o,this._touchGestrues="on",this._showDelayInMs=u.a,this._indent=0,this._passwordLengthReqMet=!1,this._passwordUppercaseReqMet=!1,this._passwordLowercaseReqMet=!1,this._passwordDigitReqMet=!1,this._passwordThreeUniqueCharacterCountReqMet=!1,this._passwordSpecialCharacterReqMet=!1,this._confirmPasswordNotMatchReqMet=!1,this._topLevelPasswordRequirementNode={name:"odm.auth.form.requirements.title",type:c.a.None,children:[]},this._subscription=new a.a,this._transformer=(e,r)=>({expandable:!!e.children&&e.children.length>0,name:e.name,level:r,type:e.type}),this._treeControl=new n.j(e=>e.level,e=>e.expandable),this._treeFlattener=new o.c(this._transformer,e=>e.level,e=>e.expandable,e=>e.children),this._dataSource=new o.b(this._treeControl,this._treeFlattener),this._hasChild=(e,r)=>r.expandable}set passwordControl(e){this._log.debug("passwordControl fired.",this),this._passwordControl=e,this._subscription.add(this._validateFormPasswordField$(this._passwordControl).subscribe())}set passwordRequirements(e){this._log.debug("passwordRequirements fired.",this),this._dataSource.data=e}set togglePosition(e){this.matTree&&this._setMatTreeStateAndNotifyParent(e)}ngOnInit(){this._log.trace("Initialized.",this)}ngOnDestroy(){this._log.trace("Destroyed",this),this._subscription.unsubscribe()}_onTogglePasswordHelp(){this._log.trace("_onTogglePasswordHelp fired.",this),this.passwordHelpClicked.emit()}_passwordRequirementMet(e){switch(e.type){case c.a.Digit:return this._passwordDigitReqMet;case c.a.LowerCase:return this._passwordLowercaseReqMet;case c.a.UpperCase:return this._passwordUppercaseReqMet;case c.a.MinCharsLength:return this._passwordLengthReqMet;case c.a.SpecialChar:return this._passwordSpecialCharacterReqMet;case c.a.ThreeUniqueChar:return this._passwordThreeUniqueCharacterCountReqMet;default:return this._log.warn("_passwordRequirementMet method passed in node without a valid type property."),!1}}_getClassForPasswordState(e,r){return!0===r?"auth--req-not-validated":this._passwordRequirementMet(e)?"auth--req-met":"auth--req-not-met"}_setMatTreeStateAndNotifyParent(e){"collapsed"===e?(this._log.debug("[togglePosition]: State is set to 'collapsed'",this),this.matTree.treeControl.isExpanded(this._topLevelPasswordRequirementNode)&&(this._log.debug("[togglePosition]: topLevelPasswordRequirementNode is exapnded. Collapsing mat-tree control.",this),this.matTree.treeControl.collapseAll(),this.passwordHelpClicked.emit())):"expanded"===e&&(this._log.debug("[togglePosition]: State is set to 'exapnded'",this),!1===this.matTree.treeControl.isExpanded(this._topLevelPasswordRequirementNode)&&(this._log.debug("[togglePosition]: topLevelPasswordRequirementNode is collapsed. Expanding mat-tree control.",this),this.matTree.treeControl.expandAll(),this.passwordHelpClicked.emit()))}_validateFormPasswordField$(e){return e.valueChanges.pipe(Object(s.a)(r=>{this._passwordDigitReqMet=!e.hasError("number"),this._passwordUppercaseReqMet=!e.hasError("uppercase"),this._passwordLowercaseReqMet=!e.hasError("lowercase"),this._passwordSpecialCharacterReqMet=!e.hasError("nonAlphanumeric"),this._passwordThreeUniqueCharacterCountReqMet=!e.hasError("uniqueChars"),0===(r||"").length||e.hasError("minlength")?this._passwordLengthReqMet=!1:!1===e.hasError("minlength")&&(this._passwordLengthReqMet=!0)}))}}return e.\u0275fac=function(r){return new(r||e)(i.Qb(l.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["odm-password-help"]],viewQuery:function(e,r){if(1&e&&i.Fc(b,1),2&e){let e;i.qc(e=i.ec())&&(r.matTree=e.first)}},inputs:{passwordControl:"passwordControl",passwordRequirements:"passwordRequirements",togglePosition:"togglePosition"},outputs:{passwordHelpClicked:"passwordHelpClicked"},decls:4,vars:3,consts:[[1,"password-help",3,"dataSource","treeControl"],["tree",""],["matTreeNodePadding","",3,"role","matTreeNodePaddingIndent",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"matTooltip","matTooltipShowDelay","matTooltipTouchGestures",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"role","matTreeNodePaddingIndent"],["matPrefix","",3,"ngClass"],["matTreeNodePadding","",3,"matTooltip","matTooltipShowDelay","matTooltipTouchGestures"],["type","button","matTreeNodeToggle","","mat-icon-button","",3,"click"],["matTreeNodeToggle","",1,"mat-icon-rtl-mirror",3,"click"]],template:function(e,r){1&e&&(i.Wb(0,"mat-tree",0,1),i.Ac(2,v,7,8,"mat-tree-node",2),i.Ac(3,E,7,10,"mat-tree-node",3),i.Vb()),2&e&&(i.mc("dataSource",r._dataSource)("treeControl",r._treeControl),i.Eb(3),i.mc("matTreeNodeDefWhen",r._hasChild))},directives:[o.a,o.f,o.e,o.g,h.a,p.i,m.i,_.a,g.b,o.h],pipes:[f.c],styles:[".password-help[_ngcontent-%COMP%]{background:inherit}mat-tree-node[_ngcontent-%COMP%]{min-height:0;color:rgba(0,0,0,.6);font:12px Roboto,Helvetica Neue,sans-serif}"],data:{animation:[d.f]}}),e})()},ESgL:function(e,r,t){"use strict";t.d(r,"c",function(){return i}),t.d(r,"b",function(){return n}),t.d(r,"a",function(){return o});const i="13px",n="14px",o="18px"},Gn8p:function(e,r,t){"use strict";t.d(r,"a",function(){return d});var i=t("LRne"),n=t("Kj3r"),o=t("IzEk"),a=t("eIep"),s=t("lJxs"),c=t("QXSh"),l=t("fXoL");let d=(()=>{class e{constructor(e){this._usersAsyncService=e}isEmptyInputValue(e){return null===e||0===e.length}checkIfEmailIsUnique(e=""){return r=>this.isEmptyInputValue(r.value)||r.value===e?Object(i.a)(null):r.valueChanges.pipe(Object(n.a)(500),Object(o.a)(1),Object(a.a)(e=>this._usersAsyncService.checkIfEmailExists$(r.value).pipe(Object(s.a)(e=>e?{nonUnique:r.value}:null))))}}return e.\u0275fac=function(r){return new(r||e)(l.ac(c.a))},e.\u0275prov=l.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},O9iT:function(e,r,t){"use strict";t.r(r),r.default=t.p+"facebook_icon_color.2103d8fc21f354a436f0.svg"},OPgr:function(e,r,t){"use strict";t.r(r),r.default=t.p+"google_icon_color.fc4f52a0dd129319bc68.svg"},Q03B:function(e,r,t){"use strict";t.d(r,"a",function(){return o});var i=t("0eTy"),n=t("dulg");function o(){return function(e,r){const t=i.a.get(n.a);e[r]=t.getProblemDetails$}}},QXSh:function(e,r,t){"use strict";t.d(r,"a",function(){return a});var i=t("tk/3"),n=t("q/dP"),o=t("fXoL");let a=(()=>{class e{constructor(e,r){this._apiUrl=e,this._http=r,this._headers=new i.e({"Content-Type":"application/json"})}getAccountSecurityDetails$(e){return this._http.get(`${this._apiUrl}/users/${e}/account/security`)}getAccountGeneralDetails$(e){return this._http.get(`${this._apiUrl}/users/${e}/account/general`)}resendEmailVerification$(e){return this._http.get(`${this._apiUrl}/users/${e}/account/resend-email-verification`)}checkIfEmailExists$(e){return this._http.get(`${this._apiUrl}/users/email`,{params:{email:e},headers:this._headers})}forgotPassword$(e){return this._http.post(`${this._apiUrl}/users/password`,JSON.stringify(e),{headers:this._headers})}resetPassword$(e,r){return this._http.post(`${this._apiUrl}/users/${e}/reset-password`,JSON.stringify(r),{headers:this._headers})}fetchUsernameForRememberMe$(e){return this._http.get(`${this._apiUrl}/users/${e}/username`,{headers:this._headers})}changePassword$(e,r){return this._http.put(`${this._apiUrl}/users/${e}/password`,JSON.stringify(r),{headers:this._headers})}changeEmail$(e,r){return this._http.put(`${this._apiUrl}/users/${e}/email`,JSON.stringify(r),{headers:this._headers})}requestToChangeEmail$(e,r){return this._http.post(`${this._apiUrl}/users/${e}/change-email-request`,JSON.stringify(r),{headers:this._headers})}confirmEmail$(e){return this._http.post(`${this._apiUrl}/users/confirm-email`,JSON.stringify(e),{headers:this._headers})}}return e.\u0275fac=function(r){return new(r||e)(o.ac(n.a),o.ac(i.b))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},S2kB:function(e,r,t){"use strict";t.d(r,"a",function(){return i});const i=300},Sjj7:function(e,r,t){"use strict";t.d(r,"a",function(){return i});var i=function(e){return e[e.None=0]="None",e[e.MinCharsLength=1]="MinCharsLength",e[e.LowerCase=2]="LowerCase",e[e.UpperCase=3]="UpperCase",e[e.Digit=4]="Digit",e[e.ThreeUniqueChar=5]="ThreeUniqueChar",e[e.SpecialChar=6]="SpecialChar",e}({})},UhX8:function(e,r,t){"use strict";t.d(r,"a",function(){return m});var i=t("kFSJ"),n=t("LRne"),o=t("pKmL"),a=t("ESgL"),s=t("fXoL"),c=t("ofXK"),l=t("NFeN"),d=t("kmnG");function u(e,r){if(1&e&&(s.Ub(0),s.Wb(1,"span"),s.Wb(2,"mat-icon",2),s.Cc(3),s.Vb(),s.Cc(4),s.ic(5,"async"),s.Vb(),s.Tb()),2&e){const e=s.hc();s.Eb(1),s.xc("--error",e._errorFontSize),s.mc("@upDownFadeIn",void 0),s.Eb(2),s.Dc("clear"),s.Eb(1),s.Ec(" ",s.jc(5,5,e._getErrorMessage$())," ")}}function h(e,r){if(1&e&&(s.Ub(0),s.Wb(1,"span"),s.Wb(2,"mat-icon",2),s.Cc(3),s.Vb(),s.Cc(4),s.Vb(),s.Tb()),2&e){const e=s.hc();s.Eb(1),s.xc("--error",e._errorFontSize),s.mc("@upDownFadeIn",void 0),s.Eb(2),s.Dc("clear"),s.Eb(1),s.Ec(" ",null==e._problemDetails?null:e._problemDetails.detail," ")}}function p(e,r){if(1&e&&(s.Ub(0),s.Wb(1,"span"),s.Wb(2,"mat-icon",2),s.Cc(3),s.Vb(),s.Cc(4),s.Vb(),s.Tb()),2&e){const e=s.hc();s.Eb(1),s.xc("--error",e._errorFontSize),s.mc("@upDownFadeIn",void 0),s.Eb(2),s.Dc("clear"),s.Eb(1),s.Ec(" ",null==e._internalServerErrorDetails?null:e._internalServerErrorDetails.message," ")}}let m=(()=>{class e{constructor(e){this._log=e,this._errorFontSize=a.c}set problemDetails(e){this._log.debug("problemDetails emitted.",this),this._problemDetails=e}set internalServerErrorDetails(e){this._log.debug("internalServerErrorDetails emitted.",this),this._internalServerErrorDetails=e}ngOnInit(){this._log.trace("Initialized",this)}_getErrorMessage$(){var e;return(null===(e=this.serverError)||void 0===e?void 0:e.message)?Object(n.a)(this.serverError.message):this.serverError?Object(n.a)(this.serverError.detail):void 0}}return e.\u0275fac=function(r){return new(r||e)(s.Qb(i.a))},e.\u0275cmp=s.Kb({type:e,selectors:[["odm-server-side-error"]],inputs:{serverError:"serverError",problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails"},decls:4,vars:3,consts:[[1,"server-side-error__error"],[4,"ngIf"],["matPrefix","",1,"server-side-error--color","server-side-error__error-format-position"]],template:function(e,r){1&e&&(s.Wb(0,"div",0),s.Ac(1,u,6,7,"ng-container",1),s.Ac(2,h,5,5,"ng-container",1),s.Ac(3,p,5,5,"ng-container",1),s.Vb()),2&e&&(s.Eb(1),s.mc("ngIf",r.serverError),s.Eb(1),s.mc("ngIf",r._problemDetails),s.Eb(1),s.mc("ngIf",r._internalServerErrorDetails))},directives:[c.k,l.a,d.i],pipes:[c.b],styles:["span[_ngcontent-%COMP%]{font-size:var(--error)}.server-side-error__error[_ngcontent-%COMP%]   .server-side-error--color[_ngcontent-%COMP%]{color:red}.server-side-error__error[_ngcontent-%COMP%]   .server-side-error__error-format-position[_ngcontent-%COMP%]{width:15px;height:15px;vertical-align:text-top;font-size:15px}.server-side-error__error[_ngcontent-%COMP%]   .server-side-error[_ngcontent-%COMP%]{padding-top:8px;display:block}"],data:{animation:[o.j]},changeDetection:0}),e})()},ZQlJ:function(e,r,t){"use strict";t.d(r,"a",function(){return o});var i=t("zhtI"),n=t("LRne");class o{constructor(e,r,i){this._translateErrorValidationService=e,this.log=r,this.cd=i,this._facebookLoginIcon=t("O9iT").default,this._googleLoginIcon=t("OPgr").default}set internalServerError(e){this.log.debug("[AuthBase]: Setting internalServerError.",this),this._internalServerErrorDetailsHandled=!1,this._problemDetails=null,this._internalServerErrorDetails=e}set problemDetailsError(e){this.log.debug("[AuthBase]: Setting problemDetailsError.",this),this._problemDetailsServerErrorHandled=!1,this._internalServerErrorDetails=null,this._problemDetails=e}get _doesInternalServerErrorImplementOdmWebApiException(){return Object(i.a)(this._internalServerErrorDetails)}get _internalServerErrorOccured(){return!!this._internalServerErrorDetails}get _serverErrorOccured(){return!!this._problemDetails&&!this._problemDetails.errors}get _serverValidationErrorOccured(){var e;return!!(null===(e=this._problemDetails)||void 0===e?void 0:e.errors)}_ifControlFieldIsInvalid(e){return!!(null==e?void 0:e.invalid)||this._ifServerErrorOccured(e)}_getErrorMessage$(e){if(e.hasError("serverError")){const r=e.getError("serverError");return Object(n.a)(r.errorDescription)}if(e.errors)return this._getTranslatedValidationErrorMessage$(e.errors)}_ifServerErrorOccured(e){return this._internalServerErrorOccured?(this.log.trace("[_ifServerErrorOccured]: InternalServerErrorOccured.",this),this._handleInternalServerError(e)):this._serverValidationErrorOccured?(this.log.trace("[_ifServerErrorOccured]: ServerValidationErrorOccured.",this),this._handleServerValidationError(e)):!!this._serverErrorOccured&&(this.log.trace("[_ifServerErrorOccured]: ServerErrorOccured.",this),this._handleServerError(e))}_handleInternalServerError(e){return this.log.trace("[_handleInternalServerError]: Was server error handled:",this,this._internalServerErrorDetailsHandled),!1===this._internalServerErrorDetailsHandled?(this._setInternalServerError(e),!0):e.pristine}_setInternalServerError(e){const r=this._getInternalServerErrorMessage();e.setErrors({serverError:{errorDescription:r}}),this._internalServerErrorDetailsHandled=!0,this.cd.detectChanges()}_handleServerValidationError(e){return this.log.trace("[_handleServerValidationError]: Was server error handled:",this,this._problemDetailsServerErrorHandled),!1===this._problemDetailsServerErrorHandled?(this._setServerValidationError(e),!0):e.pristine}_setServerValidationError(e){const r=Object.values(this._problemDetails.errors);if(r.length>0){const t=r[0];t.length>0&&(e.setErrors({serverError:{errorDescription:`Server validation error: ${t[0]}`}}),this._problemDetailsServerErrorHandled=!0,this.cd.detectChanges())}}_handleServerError(e){return this.log.debug("[_handleServerError]: Was problemDetailsServerErrorHandled:",this,this._problemDetailsServerErrorHandled),!1===this._problemDetailsServerErrorHandled?(this._setServerError(e),!0):e.pristine}_setServerError(e){this.log.debug("[_setServerError]: fired.",this),e.setErrors({serverError:{errorDescription:this._problemDetails.detail}}),this._problemDetailsServerErrorHandled=!0,this.log.debug("[_setServerError]: running change detection.",this),this.cd.detectChanges()}_getTranslatedValidationErrorMessage$(e){return this._translateErrorValidationService.translateValidationErrorMessage$(e)}_getInternalServerErrorMessage(){let e="";return e=this._doesInternalServerErrorImplementOdmWebApiException?this._internalServerErrorDetails.detail:this._internalServerErrorDetails.message,e}}},e2D8:function(e,r,t){"use strict";t.d(r,"b",function(){return i}),t.d(r,"a",function(){return n}),t.d(r,"d",function(){return o}),t.d(r,"c",function(){return a});const i=4,n=225,o=1,a=15},"eaX+":function(e,r,t){"use strict";t.d(r,"a",function(){return C});var i=t("fXoL"),n=t("kFSJ"),o=t("ZQlJ"),a=t("e2D8"),s=t("kO4E"),c=t("44v3"),l=t("lJxs"),d=t("3Pt+"),u=t("sYmb"),h=t("kmnG"),p=t("qFsG"),m=t("ofXK"),_=t("bTqV"),g=t("NFeN"),f=t("peOe");function b(e,r){if(1&e&&(i.Wb(0,"mat-error"),i.Cc(1),i.ic(2,"async"),i.Vb()),2&e){const e=i.hc();i.Eb(1),i.Ec(" ",i.jc(2,1,e._getErrorMessage$(e._form.get("code"))),"")}}function v(e,r){if(1&e&&(i.Ub(0),i.Cc(1),i.ic(2,"translate"),i.Wb(3,"mat-icon",7),i.Cc(4),i.Vb(),i.Rb(5,"odm-spinner",8),i.Tb()),2&e){const e=i.hc();i.Eb(1),i.Ec(" ",i.jc(2,5,"odm.buttons.verified")," "),i.Eb(3),i.Dc("check"),i.Eb(1),i.mc("type","button")("diameter",e._verifiedNextStepSpinnerDiameter)("strokeWidth",e._verifiedNextStepSpinnerStrokeWidth)}}function E(e,r){1&e&&(i.Wb(0,"span",9),i.Cc(1),i.ic(2,"translate"),i.Wb(3,"span"),i.Cc(4,"."),i.Vb(),i.Wb(5,"span"),i.Cc(6,"."),i.Vb(),i.Wb(7,"span"),i.Cc(8,"."),i.Vb(),i.Vb()),2&e&&(i.Eb(1),i.Dc(i.jc(2,1,"odm.buttons.verifing")))}function S(e,r){1&e&&(i.Ub(0),i.Cc(1),i.ic(2,"translate"),i.Tb()),2&e&&(i.Eb(1),i.Ec(" ",i.jc(2,1,"odm.buttons.verify")," "))}let C=(()=>{class e extends o.a{constructor(e,r,t,n,o){super(t,n,o),this._fb=e,this._translateService=r,this._log=n,this.codeVerificationSucceeded=!1,this._verificationCodeInputLength=6,this.verificationCodeSubmitted=new i.o,this.cancelSetupWizardClicked=new i.o,this._verifiedNextStepSpinnerDiameter=a.c,this._verifiedNextStepSpinnerStrokeWidth=a.d,this._translationKey="odm.auth.form.placeholders.verification-code"}set problemDetails(e){this._log.debug("Problem Ddetails emitted.",this),this.problemDetailsError=e}set internalServerErrorDetails(e){this._log.debug("Internal server error emitted.",this),this.internalServerError=e}set form(e){e&&(this._log.debug("Setting custom form.",this),this._form=this._validateForm(e))}set verificationCodeInputLength(e){e&&(this._log.debug("verificationCodeInputLength specified. Setting max input field length to:",this,e),this._verificationCodeInputLength=e)}ngOnInit(){this._log.trace("Initialized.",this),this._form||(this._log.debug("Custom form has not been specified, using default",this),this._initForm()),this._verificationCodeLabel$=this._translateService.get(this._translationKey).pipe(Object(l.a)(e=>e.replace("{number}",this._verificationCodeInputLength.toString())))}_onVerificationCodeSubmitted(){this._log.trace("_onVerificationCodeSubmitted fired.",this),this.verificationCodeSubmitted.emit(this._form.value)}_onCancelClicked(){this._log.trace("_onCancelClicked fired.",this),this.cancelSetupWizardClicked.emit()}_validateForm(e){if(!e.get("code"))throw this._log.fatal("Custom form has to contain contral with the name 'code'!"),new Error;return e}_initForm(){this._form=this._fb.group({code:this._fb.control("",{validators:[c.b.required,c.b.minLength(this.verificationCodeInputLength),c.b.maxLength(this.verificationCodeInputLength)],updateOn:"change"})})}}return e.\u0275fac=function(r){return new(r||e)(i.Qb(d.d),i.Qb(u.d),i.Qb(s.a),i.Qb(n.a),i.Qb(i.i))},e.\u0275cmp=i.Kb({type:e,selectors:[["odm-verification-code"]],inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",form:"form",codeVerificationInProgress:"codeVerificationInProgress",codeVerificationSucceeded:"codeVerificationSucceeded",verificationCodeInputLength:"verificationCodeInputLength"},outputs:{verificationCodeSubmitted:"verificationCodeSubmitted",cancelSetupWizardClicked:"cancelSetupWizardClicked"},features:[i.Bb],decls:16,vars:15,consts:[[1,"verification-code",3,"formGroup","ngSubmit"],["matInput","","type","text","formControlName","code",3,"maxlength"],[4,"ngIf"],[1,"verification-code__action-buttons"],["mat-button","","type","button","color","warn",3,"click"],["mat-button","","mat-stroked-button","","color","accent","type","submit",3,"disabled"],["class","loading-dots-animation",4,"ngIf"],["color","accent","matSuffix",""],["color","accent",3,"type","diameter","strokeWidth"],[1,"loading-dots-animation"]],template:function(e,r){1&e&&(i.Wb(0,"form",0),i.dc("ngSubmit",function(){return r._onVerificationCodeSubmitted()}),i.Wb(1,"mat-form-field"),i.Wb(2,"mat-label"),i.Cc(3),i.ic(4,"translate"),i.ic(5,"async"),i.Vb(),i.Rb(6,"input",1),i.Ac(7,b,3,3,"mat-error",2),i.Vb(),i.Wb(8,"div",3),i.Wb(9,"button",4),i.dc("click",function(){return r._onCancelClicked()}),i.Cc(10),i.ic(11,"translate"),i.Vb(),i.Wb(12,"button",5),i.Ac(13,v,6,7,"ng-container",2),i.Ac(14,E,9,3,"span",6),i.Ac(15,S,3,3,"ng-container",2),i.Vb(),i.Vb(),i.Vb()),2&e&&(i.mc("formGroup",r._form),i.Eb(3),i.Ec(" ",i.jc(4,9,i.jc(5,11,r._verificationCodeLabel$))," "),i.Eb(3),i.mc("maxlength",r._verificationCodeInputLength),i.Eb(1),i.mc("ngIf",r._ifControlFieldIsInvalid(r._form.get("code"))),i.Eb(3),i.Ec(" ",i.jc(11,13,"odm.buttons.cancel")," "),i.Eb(2),i.mc("disabled",!r._form.valid||r.codeVerificationInProgress),i.Eb(1),i.mc("ngIf",!r.codeVerificationInProgress&&r.codeVerificationSucceeded),i.Eb(1),i.mc("ngIf",r.codeVerificationInProgress),i.Eb(1),i.mc("ngIf",!r.codeVerificationInProgress&&!r.codeVerificationSucceeded))},directives:[d.s,d.m,d.f,h.c,h.g,p.b,d.c,d.l,d.e,d.h,m.k,_.b,h.b,g.a,h.j,f.a],pipes:[u.c,m.b],styles:[".verification-code[_ngcontent-%COMP%]   .verification-code__action-buttons[_ngcontent-%COMP%]{margin-top:20px}"],changeDetection:0}),e})()},kO4E:function(e,r,t){"use strict";t.d(r,"a",function(){return c});var i=t("LRne"),n=function(e){return e[e.None=0]="None",e[e.Required=1]="Required",e[e.ServerValidationError=2]="ServerValidationError",e[e.ServerAuthenticationError=3]="ServerAuthenticationError",e[e.InternalServerError=4]="InternalServerError",e[e.InputValidationError=5]="InputValidationError",e[e.InvalidEmailFormat=6]="InvalidEmailFormat",e[e.NonUniqueEmail=7]="NonUniqueEmail",e[e.Number=8]="Number",e[e.Uppercase=9]="Uppercase",e[e.Lowercase=10]="Lowercase",e[e.NonAlphanumeric=11]="NonAlphanumeric",e[e.MinLength=12]="MinLength",e}({}),o=t("lJxs"),a=t("fXoL"),s=t("sYmb");let c=(()=>{class e{constructor(e){this._translateService=e}translateValidationErrorMessage$(e){const r=this._mapErrorToTranslation(e);return void 0!==r.translationKey?this._translateService.get(r.translationKey).pipe(Object(o.a)(e=>this._buildTranslatedString(r,e))):Object(i.a)(r.extras).pipe(Object(o.a)(e=>this._buildTranslatedString(r,e)))}_mapErrorToTranslation(e){return e.required?{translationKey:"odm.auth.form.validations.field-required",validationErrorType:n.Required}:e.email?{translationKey:"odm.auth.form.validations.invalid-email-format",validationErrorType:n.InvalidEmailFormat}:e.nonUnique?{translationKey:"odm.auth.form.validations.non-unique-email",extras:e.nonUnique,validationErrorType:n.NonUniqueEmail}:e.minlength?{translationKey:"odm.auth.form.validations.min-length",extras:e.minlength.requiredLength,validationErrorType:n.MinLength}:e.serverValidationError?{validationErrorType:n.ServerValidationError,extras:e.errorDescription}:e.serverAuthenticationError?{validationErrorType:n.ServerAuthenticationError,extras:e.errorDescription}:e.internalServerError?{validationErrorType:n.InternalServerError,extras:e.errorDescription}:{translationKey:"odm.auth.form.validations.input-error",validationErrorType:n.InputValidationError}}_buildTranslatedString(e,r){switch(e.validationErrorType){case n.Required:case n.InputValidationError:case n.InvalidEmailFormat:case n.ServerValidationError:case n.ServerAuthenticationError:case n.InternalServerError:case n.Number:default:return r;case n.NonUniqueEmail:return r.replace("{email}",e.extras);case n.NonAlphanumeric:return r.replace("{requiredNonAlphanumeric}",e.extras);case n.MinLength:return r.replace("{requiredLength}",e.extras)}}}return e.\u0275fac=function(r){return new(r||e)(a.ac(s.d))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},oluo:function(e,r,t){"use strict";t.d(r,"a",function(){return n});var i=t("Sjj7");function n(){return[{name:"odm.auth.form.requirements.title",type:i.a.None,children:[{name:"odm.auth.form.requirements.min-chars-long",type:i.a.MinCharsLength},{name:"odm.auth.form.requirements.one-upper-case",type:i.a.UpperCase},{name:"odm.auth.form.requirements.one-lower-case",type:i.a.LowerCase},{name:"odm.auth.form.requirements.digit",type:i.a.Digit},{name:"odm.auth.form.requirements.three-unique-chars",type:i.a.ThreeUniqueChar},{name:"odm.auth.form.requirements.one-special-char",type:i.a.SpecialChar}]}]}},peOe:function(e,r,t){"use strict";t.d(r,"a",function(){return h});var i=t("mrSG"),n=t("5iVC"),o=t("HDdC"),a=t("fXoL"),s=t("ofXK"),c=t("Xa2L"),l=t("sYmb");function d(e,r){1&e&&(a.Ub(0),a.Wb(1,"div"),a.Rb(2,"img",3),a.Wb(3,"h4",4),a.Cc(4),a.ic(5,"translate"),a.Vb(),a.Vb(),a.Tb()),2&e&&(a.Eb(4),a.Dc(a.jc(5,1,"odm.server-down")))}function u(e,r){if(1&e&&(a.Ub(0),a.Ac(1,d,6,3,"ng-container",2),a.ic(2,"async"),a.Tb()),2&e){const e=a.hc();a.Eb(1),a.mc("ngIf",a.jc(2,1,e.internalServerErrorDetails$))}}let h=(()=>{class e{constructor(){this.spinnerColor="primary",this.type="default"}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=a.Kb({type:e,selectors:[["odm-spinner"]],inputs:{strokeWidth:"strokeWidth",diameter:"diameter",spinnerColor:"spinnerColor",type:"type"},decls:3,vars:5,consts:[[3,"ngClass"],[3,"strokeWidth","color","diameter"],[4,"ngIf"],["src","../../../../../assets/skull.png"],[1,"default-spinner__server-down"]],template:function(e,r){1&e&&(a.Wb(0,"div",0),a.Rb(1,"mat-spinner",1),a.Ac(2,u,3,3,"ng-container",2),a.Vb()),2&e&&(a.mc("ngClass","default"===r.type?"default-spinner":"button-spinner"),a.Eb(1),a.mc("strokeWidth",r.strokeWidth)("color",r.spinnerColor)("diameter",r.diameter),a.Eb(1),a.mc("ngIf","default"===r.type))},directives:[s.i,c.b,s.k],pipes:[s.b,l.c],styles:[".default-spinner[_ngcontent-%COMP%]{display:inline-block;position:relative}.default-spinner[_ngcontent-%COMP%]   .default-spinner__server-down[_ngcontent-%COMP%]{top:150px;text-align:center}.default-spinner[_ngcontent-%COMP%]   .default-spinner__server-down[_ngcontent-%COMP%], .default-spinner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.1;right:45px;max-width:100%;position:absolute;max-height:100%;width:60%}.default-spinner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:30px;-webkit-clip-path:circle(55% at 55% 55%);clip-path:circle(55% at 55% 55%)}.button-spinner[_ngcontent-%COMP%]{margin-left:5px;top:3px;position:relative;display:inline-block}"],changeDetection:0}),Object(i.a)([Object(n.a)(),Object(i.b)("design:type",o.a)],e.prototype,"internalServerErrorDetails$",void 0),e})()}}]);