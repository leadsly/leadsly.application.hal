!function(){function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return i(this,n)}}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0FX9":function(e,t,n){var i=n("Z92M"),r=n("qmMu"),o=n("QUaw"),a=n("QAZZ");function c(e,t,n,o,a){var c=[].slice.call(arguments,1),s=c.length,l="function"==typeof c[s-1];if(!l&&!i())throw new Error("Callback required as last argument");if(!l){if(s<1)throw new Error("Too few arguments provided");return 1===s?(n=t,t=o=void 0):2!==s||t.getContext||(o=n,n=t,t=void 0),new Promise(function(i,a){try{var c=r.create(n,o);i(e(c,t,o))}catch(s){a(s)}})}if(s<2)throw new Error("Too few arguments provided");2===s?(a=n,n=t,t=o=void 0):3===s&&(t.getContext&&void 0===a?(a=o,o=void 0):(a=o,o=n,n=t,t=void 0));try{var u=r.create(n,o);a(null,e(u,t,o))}catch(d){a(d)}}t.create=r.create,t.toCanvas=c.bind(null,o.render),t.toDataURL=c.bind(null,o.renderToDataURL),t.toString=c.bind(null,function(e,t,n){return a.render(e,n)})},"1sBl":function(e,t,n){var i=n("e/Dd").getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=i(e),r=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7],a=1;a<t-1;a++)o[a]=o[a-1]-r;return o.push(6),o.reverse()},t.getPositions=function(e){for(var n=[],i=t.getRowColCoords(e),r=i.length,o=0;o<r;o++)for(var a=0;a<r;a++)0===o&&0===a||0===o&&a===r-1||o===r-1&&0===a||n.push([i[o],i[a]]);return n}},"3X7Y":function(e,t,n){var i=n("u/Db");function r(e){this.mode=i.NUMERIC,this.data=e.toString()}r.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){var t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);var r=this.data.length-t;r>0&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,3*r+1))},e.exports=r},"7uVY":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},AZa5:function(e,t,n){var i=n("Wogr"),r=n("u/Db");function o(e){this.mode=r.BYTE,this.data=new i(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=o},BCVQ:function(e,t){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var r=new RegExp("^"+n+"$"),o=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return r.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},ELBg:function(e,t,n){"use strict";var i={single_source_shortest_paths:function(e,t,n){var r={},o={};o[t]=0;var a,c,s,l,u,d,g=i.PriorityQueue.make();for(g.push(t,0);!g.empty();)for(s in l=(a=g.pop()).cost,u=e[c=a.value]||{})u.hasOwnProperty(s)&&(d=l+u[s],(void 0===o[s]||o[s]>d)&&(o[s]=d,g.push(s,d),r[s]=c));if(void 0!==n&&void 0===o[n]){var h=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(h)}return r},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],i=t;i;)n.push(i),i=e[i];return n.reverse(),n},find_path:function(e,t,n){var r=i.single_source_shortest_paths(e,t,n);return i.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(e){var t,n=i.PriorityQueue,r={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r.queue=[],r.sorter=e.sorter||n.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=i},J6Nv:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},JzKC:function(e,t,n){var i=n("Wogr"),r=n("aZ40");t.mul=function(e,t){var n=new i(e.length+t.length-1);n.fill(0);for(var o=0;o<e.length;o++)for(var a=0;a<t.length;a++)n[o+a]^=r.mul(e[o],t[a]);return n},t.mod=function(e,t){for(var n=new i(e);n.length-t.length>=0;){for(var o=n[0],a=0;a<t.length;a++)n[a]^=r.mul(t[a],o);for(var c=0;c<n.length&&0===n[c];)c++;n=n.slice(c)}return n},t.generateECPolynomial=function(e){for(var n=new i([1]),o=0;o<e;o++)n=t.mul(n,[1,r.exp(o)]);return n}},Lzq4:function(e,t,n){var i=n("u/Db"),r=n("e/Dd");function o(e){this.mode=i.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=r.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}e.put(n=192*(n>>>8&255)+(255&n),13)}},e.exports=o},NPxG:function(e,t,n){var i=n("ekOh"),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case i.L:return r[4*(e-1)+0];case i.M:return r[4*(e-1)+1];case i.Q:return r[4*(e-1)+2];case i.H:return r[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case i.L:return o[4*(e-1)+0];case i.M:return o[4*(e-1)+1];case i.Q:return o[4*(e-1)+2];case i.H:return o[4*(e-1)+3];default:return}}},QAZZ:function(e,t,n){var i=n("Rb7d");function r(e,t){var n=e.a/255,i=t+'="'+e.hex+'"';return n<1?i+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function o(e,t,n){var i=e+t;return void 0!==n&&(i+=" "+n),i}t.render=function(e,t,n){var a=i.getOptions(t),c=e.modules.size,s=e.modules.data,l=c+2*a.margin,u=a.color.light.a?"<path "+r(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+r(a.color.dark,"stroke")+' d="'+function(e,t,n){for(var i="",r=0,a=!1,c=0,s=0;s<e.length;s++){var l=Math.floor(s%t),u=Math.floor(s/t);l||a||(a=!0),e[s]?(c++,s>0&&l>0&&e[s-1]||(i+=a?o("M",l+n,.5+u+n):o("m",r,0),r=0,a=!1),l+1<t&&e[s+1]||(i+=o("h",c),c=0)):r++}return i}(s,c,a.margin)+'"/>',g='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+'viewBox="0 0 '+l+" "+l+'" shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof n&&n(null,g),g}},QUaw:function(e,t,n){var i=n("Rb7d");t.render=function(e,t,n){var r=n,o=t;void 0!==r||t&&t.getContext||(r=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),r=i.getOptions(r);var a=i.getImageWidth(e.modules.size,r),c=o.getContext("2d"),s=c.createImageData(a,a);return i.qrToImageData(s.data,e,r),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(c,o,a),c.putImageData(s,0,0),o},t.renderToDataURL=function(e,n,i){var r=i;return void 0!==r||n&&n.getContext||(r=n,n=void 0),r||(r={}),t.render(e,n,r).toDataURL(r.type||"image/png",(r.rendererOpts||{}).quality)}},Qrwm:function(t,i,r){"use strict";r.r(i),r.d(i,"AccountModule",function(){return Kt});var c,s,d,g,h,f,b=r("ofXK"),p=r("tyNb"),m=r("pKmL"),_=r("fXoL"),v=r("wZkO"),w=r("sYmb"),C=((c=function e(){u(this,e)}).\u0275fac=function(e){return new(e||c)},c.\u0275cmp=_.Kb({type:c,selectors:[["odm-account"]],decls:16,vars:6,consts:[[1,"account"],["mat-tab-nav-bar",""],["mat-tab-link","","routerLink","general","routerLinkActive","",3,"active"],["general","routerLinkActive"],["mat-tab-link","","routerLink","security","routerLinkActive","",3,"active"],["security","routerLinkActive"],["o","outlet"]],template:function(e,t){if(1&e&&(_.Wb(0,"div",0),_.Wb(1,"h2"),_.Cc(2),_.ic(3,"translate"),_.Vb(),_.Wb(4,"nav",1),_.Wb(5,"a",2,3),_.Wb(7,"span"),_.Cc(8,"General"),_.Vb(),_.Vb(),_.Wb(9,"a",4,5),_.Wb(11,"span"),_.Cc(12,"Security"),_.Vb(),_.Vb(),_.Vb(),_.Wb(13,"div"),_.Rb(14,"router-outlet",null,6),_.Vb(),_.Vb()),2&e){var n=_.rc(6),i=_.rc(10),r=_.rc(15);_.Eb(2),_.Dc(_.jc(3,4,"odm.account.header")),_.Eb(3),_.mc("active",n.isActive),_.Eb(4),_.mc("active",i.isActive),_.Eb(4),_.mc("@routeAnimations",r.isActivated&&r.activatedRoute.routeConfig.path)}},directives:[v.b,p.k,v.a,p.j,p.m],pipes:[w.c],styles:[".account[_ngcontent-%COMP%]{margin:0 auto;padding:16px;max-width:800px}"],data:{animation:[m.i]},changeDetection:0}),c),y=r("2Vo4"),E=r("quSY"),P=r("VRyK"),O=r("zP0r"),S=r("pLZG"),k=r("vkgz"),M=r("mrSG"),A=r("eIep"),j=function(){var e=function e(t){u(this,e),this.payload=t};return e.type="[2fa Setup] Setup Two Factor Authentication",e}(),R=function(){var e=function e(t){u(this,e),this.payload=t};return e.type="[2fa Setup] Authenticator Verification Result",e}(),V=function(){var e=function e(){u(this,e)};return e.type="[2fa Setup] Reset Two Factor Authentication Setup",e}(),D=r("AcyG"),F=r("HDdC"),T=r("lPhk"),W=function(){var e=function e(t){u(this,e),this.payload=t};return e.type="[Security] Set Account Security Details",e}(),I=function(){var e=function e(t){u(this,e),this.payload=t};return e.type="[Security] Updates Account Security Details Settings",e}(),x=function(){var e=function e(){u(this,e)};return e.type="[Security] Reset Account Security Settings",e}(),q=function(){var e=function e(t){u(this,e),this.payload=t};return e.type="[Security] Updates User Recovery Codes",e}(),$=function(){var e=function e(t){u(this,e),this.payload=t};return e.type="[Security] Password Change Completed",e}(),B=r("rfrl"),N=r("kFSJ"),L=new D.h("security"),z=((s=function(){function e(t){u(this,e),this._log=t}return l(e,[{key:"setAccountSecurityDetails",value:function(e,t){this._log.info("setAccountSecurityDetails fired.",this),e.setState(Object(B.a)(function(e){return Object.assign(Object.assign({},e),t.payload)}))}},{key:"updateAccountSecurityDetailsSetting",value:function(e,t){this._log.info("updateAccountSecurityDetailsSetting action handler fired.",this),e.setState(Object(B.a)(function(e){return Object.assign(Object.assign({},t.payload),{recoveryCodes:{items:o(t.payload.recoveryCodes.items)}})}))}},{key:"updateUserRecoveryCodes",value:function(e,t){this._log.info("updateUserRecoveryCodes action handler fired.",this),e.setState(Object(B.a)(function(e){return e.recoveryCodes=t.payload,e.recoveryCodesLeft=t.payload.items.length,e}))}},{key:"resetAccountSecuritySettings",value:function(e){this._log.info("resetAccountSecuritySettings action handler fired.",this);var t={hasAuthenticator:!1,recoveryCodes:{items:[]},recoveryCodesLeft:0,twoFactorEnabled:!1,passwordChangeCompleted:!1};e.setState(Object(B.a)(function(e){return t}))}},{key:"passwordChangeCompleted",value:function(e,t){this._log.info("passwordChangeCompleted action handler fired.",this),e.setState(Object(B.a)(function(e){return Object.assign(Object.assign({},e),t.payload)}))}}],[{key:"selectAccountSecurityDetails",value:function(e){return e}},{key:"selectPasswordChangeCompleted",value:function(e){return e.passwordChangeCompleted}}]),e}()).\u0275fac=function(e){return new(e||s)(_.ac(N.a))},s.\u0275prov=_.Mb({token:s,factory:s.\u0275fac}),Object(M.a)([Object(D.a)(W),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object,W]),Object(M.b)("design:returntype",void 0)],s.prototype,"setAccountSecurityDetails",null),Object(M.a)([Object(D.a)(I),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object,I]),Object(M.b)("design:returntype",void 0)],s.prototype,"updateAccountSecurityDetailsSetting",null),Object(M.a)([Object(D.a)(q),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object,q]),Object(M.b)("design:returntype",void 0)],s.prototype,"updateUserRecoveryCodes",null),Object(M.a)([Object(D.a)(x),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object]),Object(M.b)("design:returntype",void 0)],s.prototype,"resetAccountSecuritySettings",null),Object(M.a)([Object(D.a)($),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object,$]),Object(M.b)("design:returntype",void 0)],s.prototype,"passwordChangeCompleted",null),Object(M.a)([Object(D.f)([L]),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object]),Object(M.b)("design:returntype",Object)],s,"selectAccountSecurityDetails",null),Object(M.a)([Object(D.f)([L]),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object]),Object(M.b)("design:returntype",Boolean)],s,"selectPasswordChangeCompleted",null),s=Object(M.a)([Object(D.g)({name:L,defaults:{hasAuthenticator:!1,recoveryCodes:{items:[]},recoveryCodesLeft:0,twoFactorEnabled:!1,passwordChangeCompleted:!1}}),Object(M.b)("design:paramtypes",[N.a])],s)),U=function(){var e=function e(t){u(this,e),this.payload=t};return e.type="[General] Set Account General Details",e}(),H=function(){var e=function e(t){u(this,e),this.payload=t};return e.type="[General] Change Email Request",e}(),Q=new D.h("twoFactorAuthentication"),K=((d=function(){function e(t){u(this,e),this._log=t}return l(e,[{key:"setupTwoFactorAuthentication",value:function(e,t){this._log.info("setupTwoFactorAuthentication action handler fired.",this),e.setState(Object(B.a)(function(e){return Object.assign(Object.assign({},e),t.payload)}))}},{key:"twoFactorAuthenticationSetupResult",value:function(e,t){this._log.info("twoFactorAuthenticationSetupResult action handler fired.",this),e.setState(Object(B.a)(function(e){return Object.assign(Object.assign({},e),{authenticatorResult:Object.assign({},t.payload)})}))}},{key:"resetTwoFactorAuthenticationSetupWizard",value:function(e){this._log.info("resetTwoFactorAuthenticationSetupWizard action handler fired.",this);var t={authenticatorResult:{recoveryCodes:{items:[]},status:"None"},authenticatorUri:"",sharedKey:""};e.setState(Object(B.a)(function(e){return t}))}}],[{key:"selectAuthenticatorSetup",value:function(e){return{sharedKey:e.sharedKey,authenticatorUri:e.authenticatorUri}}},{key:"selectAuthenticatorSetupResult",value:function(e){return e.authenticatorResult}}]),e}()).\u0275fac=function(e){return new(e||d)(_.ac(N.a))},d.\u0275prov=_.Mb({token:d,factory:d.\u0275fac}),Object(M.a)([Object(D.a)(j),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object,j]),Object(M.b)("design:returntype",void 0)],d.prototype,"setupTwoFactorAuthentication",null),Object(M.a)([Object(D.a)(R),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object,R]),Object(M.b)("design:returntype",void 0)],d.prototype,"twoFactorAuthenticationSetupResult",null),Object(M.a)([Object(D.a)(V),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object]),Object(M.b)("design:returntype",void 0)],d.prototype,"resetTwoFactorAuthenticationSetupWizard",null),Object(M.a)([Object(D.f)([Q]),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object]),Object(M.b)("design:returntype",Object)],d,"selectAuthenticatorSetup",null),Object(M.a)([Object(D.f)([Q]),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object]),Object(M.b)("design:returntype",Object)],d,"selectAuthenticatorSetupResult",null),d=Object(M.a)([Object(D.g)({name:Q,defaults:{sharedKey:"",authenticatorUri:"",authenticatorResult:{recoveryCodes:{items:[]},status:"None"}}}),Object(M.b)("design:paramtypes",[N.a])],d)),G=r("5iVC"),Y=r("Q03B"),J=new D.h("general"),Z=((g=function(){function e(t){u(this,e),this._log=t}return l(e,[{key:"setAccountGeneralDetails",value:function(e,t){this._log.info("setAccountGeneralDetails action handler fired.",this),e.setState(Object(B.a)(function(e){return Object.assign(Object.assign({},e),t.payload)}))}},{key:"changeEmailRequestSent",value:function(e,t){this._log.info("changeEmailRequestSent action handler fired.",this),e.setState(Object(B.a)(function(e){return Object.assign(Object.assign({},e),t.payload)}))}}],[{key:"selectAccountGeneralDetails",value:function(e){return e}},{key:"selectChangeEmailRequestSent",value:function(e){return e.changeEmailRequestSent}}]),e}()).\u0275fac=function(e){return new(e||g)(_.ac(N.a))},g.\u0275prov=_.Mb({token:g,factory:g.\u0275fac}),Object(M.a)([Object(D.a)(U),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object,U]),Object(M.b)("design:returntype",void 0)],g.prototype,"setAccountGeneralDetails",null),Object(M.a)([Object(D.a)(H),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object,H]),Object(M.b)("design:returntype",void 0)],g.prototype,"changeEmailRequestSent",null),Object(M.a)([Object(D.f)([J]),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object]),Object(M.b)("design:returntype",Object)],g,"selectAccountGeneralDetails",null),Object(M.a)([Object(D.f)([J]),Object(M.b)("design:type",Function),Object(M.b)("design:paramtypes",[Object]),Object(M.b)("design:returntype",Boolean)],g,"selectChangeEmailRequestSent",null),g=Object(M.a)([Object(D.g)({name:J,defaults:{email:"",verified:!1,changeEmailRequestSent:!1}}),Object(M.b)("design:paramtypes",[N.a])],g)),X=r("0nNC"),ee=r("QXSh"),te=r("3Pt+"),ne=r("kO4E"),ie=r("Gn8p"),re=((h=function(){function e(t,n,i,r,o,a,c,s,l,d,g){u(this,e),this._twoFactorAuthenticationAsync=t,this._store=n,this._userAsyncService=i,this._notificationService=r,this._translationService=o,this._actions$=a,this.log=c,this.router=s,this.fb=l,this.translateValidationErrorService=d,this.asyncValidators=g,this.onCompletedUpdateRecoveryCodesAction$=this._actions$.pipe(Object(D.k)(q))}return l(e,[{key:"getAccountSecurityInfo",value:function(){var e=this,t=this._store.selectSnapshot(T.a.selectCurrentUserId);this._userAsyncService.getAccountSecurityDetails$(t).pipe(Object(k.a)(function(t){return e._store.dispatch(new W(t))})).subscribe()}},{key:"getAccountGeneralInfo",value:function(){var e=this,t=this._store.selectSnapshot(T.a.selectCurrentUserId);this._userAsyncService.getAccountGeneralDetails$(t).pipe(Object(k.a)(function(t){return e._store.dispatch(new U(t))})).subscribe()}},{key:"setupAuthenticator",value:function(){var e=this;this._twoFactorAuthenticationAsync.setupAuthenticator$().pipe(Object(k.a)(function(t){return e._store.dispatch([new j(t)])})).subscribe()}},{key:"verifyAuthenticator",value:function(e){var t=this;this._twoFactorAuthenticationAsync.verifyAuthenticator$(e).pipe(Object(k.a)(function(e){return t._store.dispatch(new R(e))})).subscribe()}},{key:"cancel2faSetupWizard",value:function(){this._store.dispatch(new V)}},{key:"finish2faSetup",value:function(e){this._store.dispatch([new V,new I({hasAuthenticator:!0,recoveryCodes:e.recoveryCodes,recoveryCodesLeft:e.recoveryCodes.items.length,twoFactorEnabled:"Succeeded"===e.status,passwordChangeCompleted:!1})])}},{key:"generateRecoveryCodes",value:function(){var e=this;this._twoFactorAuthenticationAsync.generate2FaRecoveryCodes$().pipe(Object(k.a)(function(t){return e._store.dispatch(new q(t))})).subscribe()}},{key:"disable2Fa",value:function(){var e=this;this._twoFactorAuthenticationAsync.disable2Fa$().pipe(Object(k.a)(function(){return e._store.dispatch([new V,new x])})).subscribe()}},{key:"resendEmailVerification",value:function(){var e=this,t=this._store.selectSnapshot(T.a.selectCurrentUserId);this._userAsyncService.resendEmailVerification$(t).pipe(Object(A.a)(function(){return e._translationService.get("odm.account.general.resend-verification-toast")}),Object(k.a)(function(t){e._notificationService.info(t)})).subscribe()}},{key:"changePassword",value:function(e){var t=this,n=this._store.selectSnapshot(T.a.selectCurrentUserId);this._userAsyncService.changePassword$(n,e).pipe(Object(A.a)(function(){return t._translationService.get("odm.account.security.change-password.success")}),Object(k.a)(function(e){t.passwordChangeCompleted({passwordChangeCompleted:!0}),t._notificationService.success(e)})).subscribe()}},{key:"passwordChangeCompleted",value:function(e){this._store.dispatch(new $(e))}},{key:"requestToChangeEmail",value:function(e){var t=this,n=this._store.selectSnapshot(T.a.selectCurrentUserId);this._userAsyncService.requestToChangeEmail$(n,e).pipe(Object(A.a)(function(){return t._translationService.get("odm.account.general.email.change.request-sent")}),Object(k.a)(function(e){t.changeEmailRequestSent({changeEmailRequestSent:!0}),t._notificationService.infoWithBtn(e)})).subscribe()}},{key:"changeEmailRequestSent",value:function(e){this._store.dispatch(new H(e))}}]),e}()).\u0275fac=function(e){return new(e||h)(_.ac(X.a),_.ac(D.i),_.ac(ee.a),_.ac(m.d),_.ac(w.d),_.ac(D.b),_.ac(N.a),_.ac(p.h),_.ac(te.d),_.ac(ne.a),_.ac(ie.a))},h.\u0275prov=_.Mb({token:h,factory:h.\u0275fac}),Object(M.a)([Object(Y.a)(),Object(M.b)("design:type",F.a)],h.prototype,"problemDetails$",void 0),Object(M.a)([Object(G.a)(),Object(M.b)("design:type",F.a)],h.prototype,"internalServerErrorDetails$",void 0),Object(M.a)([Object(D.e)(K.selectAuthenticatorSetup),Object(M.b)("design:type",F.a)],h.prototype,"twoFactorAuthenticationSetup$",void 0),Object(M.a)([Object(D.e)(K.selectAuthenticatorSetupResult),Object(M.b)("design:type",F.a)],h.prototype,"twoFactorAuthenticationSetupResult$",void 0),Object(M.a)([Object(D.e)(Z.selectAccountGeneralDetails),Object(M.b)("design:type",F.a)],h.prototype,"accountGeneralDetails$",void 0),Object(M.a)([Object(D.e)(Z.selectChangeEmailRequestSent),Object(M.b)("design:type",F.a)],h.prototype,"changeEmailRequestSent$",void 0),Object(M.a)([Object(D.e)(z.selectAccountSecurityDetails),Object(M.b)("design:type",F.a)],h.prototype,"accountSecurityDetails$",void 0),Object(M.a)([Object(D.e)(z.selectPasswordChangeCompleted),Object(M.b)("design:type",F.a)],h.prototype,"passwordChangeCompleted$",void 0),h),oe=r("e2D8"),ae=r("ESgL"),ce=r("UhX8"),se=r("1jcm"),le=r("peOe"),ue=r("S2kB"),de=r("7EHt"),ge=r("Qu3c"),he=r("NFeN"),fe=r("6NWb"),be=r("bTqV"),pe=r("Hdb7"),me=((f=function(){function e(t,n){u(this,e),this._ghostAnimationService=t,this._log=n,this.busy=!0}return l(e,[{key:"ngOnInit",value:function(){this._log.trace("Initialized.",this),this._ghostAnimationService.syncAnimation()}}]),e}()).\u0275fac=function(e){return new(e||f)(_.Qb(pe.a),_.Qb(N.a))},f.\u0275cmp=_.Kb({type:f,selectors:[["odm-ghost-block"]],hostVars:1,hostBindings:function(e,t){2&e&&_.Fb("aria-busy",t.busy)},decls:1,vars:0,consts:[[1,"odm-ghost-block-container"]],template:function(e,t){1&e&&_.Rb(0,"div",0)},styles:[".odm-ghost-block-container[_ngcontent-%COMP%]{border-radius:2px;height:100%;width:100%}.odm-ghost-active[_nghost-%COMP%]   .odm-ghost-block-container[_ngcontent-%COMP%], .odm-ghost-active   [_nghost-%COMP%]   .odm-ghost-block-container[_ngcontent-%COMP%]{-webkit-animation:ghost-animation 1.4s ease-in-out infinite;animation:ghost-animation 1.4s ease-in-out infinite}.odm-ghost-active   .black-theme[_nghost-%COMP%]   .odm-ghost-block-container[_ngcontent-%COMP%], .odm-ghost-active   .black-theme   [_nghost-%COMP%]   .odm-ghost-block-container[_ngcontent-%COMP%]{-webkit-animation:ghost-animation-dark 1.4s ease-in-out infinite;animation:ghost-animation-dark 1.4s ease-in-out infinite}"],changeDetection:0}),f);function _e(e,t){if(1&e&&(_.Wb(0,"li"),_.Cc(1),_.Vb()),2&e){var n=t.$implicit;_.Eb(1),_.Ec(" ",n," ")}}function ve(e,t){if(1&e&&(_.Ub(0),_.Wb(1,"ol",11),_.Ac(2,_e,2,1,"li",12),_.Vb(),_.Tb()),2&e){var n=_.hc(2);_.Eb(2),_.mc("ngForOf",n._codes)}}function we(e,t){if(1&e&&(_.Ub(0),_.Ac(1,ve,3,1,"ng-container",5),_.Tb()),2&e){var n=_.hc(),i=_.rc(27);_.Eb(1),_.mc("ngIf",(null==n._codes?null:n._codes.length)>0)("ngIfElse",i)}}function Ce(e,t){if(1&e&&(_.Ub(0),_.Rb(1,"odm-spinner",13),_.Tb()),2&e){var n=_.hc();_.Eb(1),_.mc("type","button")("spinnerColor","accent")("diameter",n._generatingCodesSpinnerDiameter)("strokeWidth",n._generatingCodesSpinnerStrokeWidth)}}function ye(e,t){1&e&&(_.Wb(0,"p"),_.Wb(1,"i"),_.Cc(2),_.ic(3,"translate"),_.Vb(),_.Vb()),2&e&&(_.Eb(2),_.Dc(_.jc(3,1,"odm.account.security.two-step.recovery-codes.backup-codes.no-codes")))}function Ee(e,t){1&e&&(_.Wb(0,"ol",14),_.Wb(1,"li",15),_.Wb(2,"div",16),_.Rb(3,"odm-ghost-block"),_.Vb(),_.Vb(),_.Wb(4,"li",15),_.Wb(5,"div",16),_.Rb(6,"odm-ghost-block"),_.Vb(),_.Vb(),_.Wb(7,"li",15),_.Wb(8,"div",16),_.Rb(9,"odm-ghost-block"),_.Vb(),_.Vb(),_.Wb(10,"li",15),_.Wb(11,"div",16),_.Rb(12,"odm-ghost-block"),_.Vb(),_.Vb(),_.Wb(13,"li",15),_.Wb(14,"div",16),_.Rb(15,"odm-ghost-block"),_.Vb(),_.Vb(),_.Vb())}var Pe,Oe=((Pe=function(){function e(t){u(this,e),this._log=t,this._codes=[],this.generatingCodes=!1,this.disabled=!1,this.generateNewRecoveryCodesClicked=new _.o,this._touchGestrues="on",this._showDelayInMs=ue.a,this._generatingCodesSpinnerDiameter=oe.c,this._generatingCodesSpinnerStrokeWidth=oe.d}return l(e,[{key:"serverError",set:function(e){this._log.debug("serverError emitted.",this),this._serverError=e}},{key:"codes",set:function(e){this._log.debug("codes emitted.",this),this._codes=e,this._removeServerError()}},{key:"_onGenerateNewRecoveryCodes",value:function(){this._log.trace("_onGenerateNewRecoveryCodes fired.",this),this.generateNewRecoveryCodesClicked.emit()}},{key:"_onUserCodesClosed",value:function(){this._log.trace("_onUserCodesClosed fired.",this),this._removeServerError()}},{key:"_removeServerError",value:function(){this._log.trace("_removeServerError fired.",this),this.serverError=null}}]),e}()).\u0275fac=function(e){return new(e||Pe)(_.Qb(N.a))},Pe.\u0275cmp=_.Kb({type:Pe,selectors:[["odm-two-factor-authentication-codes"]],inputs:{serverError:"serverError",codes:"codes",generatingCodes:"generatingCodes",disabled:"disabled"},outputs:{generateNewRecoveryCodesClicked:"generateNewRecoveryCodesClicked"},decls:30,vars:26,consts:[[1,"recovery-codes"],[3,"disabled","closed"],[1,"recovery-codes__truncate",3,"matTooltip","matTooltipShowDelay","matTooltipTouchGestures"],[1,"recovery-codes__user-secret"],["icon","user-secret"],[4,"ngIf","ngIfElse"],["mat-raised-button","","color","accent",3,"disabled","click"],[4,"ngIf"],[3,"serverError"],["noRecoveryCodes",""],["generating",""],[1,"recovery-codes__format-codes","blink"],[4,"ngFor","ngForOf"],[3,"type","spinnerColor","diameter","strokeWidth"],[1,"recovery-codes__format-codes"],[1,"generating-codes"],[1,"generating-code-ghost"]],template:function(e,t){if(1&e&&(_.Wb(0,"mat-accordion",0),_.Wb(1,"mat-expansion-panel",1),_.dc("closed",function(){return t._onUserCodesClosed()}),_.Wb(2,"mat-expansion-panel-header"),_.Wb(3,"mat-panel-title"),_.Cc(4),_.ic(5,"translate"),_.Vb(),_.Wb(6,"mat-panel-description",2),_.ic(7,"translate"),_.Cc(8),_.ic(9,"translate"),_.Wb(10,"mat-icon",3),_.Rb(11,"fa-icon",4),_.Vb(),_.Vb(),_.Vb(),_.Wb(12,"div"),_.Wb(13,"h3"),_.Cc(14),_.ic(15,"translate"),_.Vb(),_.Wb(16,"p"),_.Cc(17),_.ic(18,"translate"),_.Vb(),_.Ac(19,we,2,2,"ng-container",5),_.Wb(20,"div"),_.Wb(21,"button",6),_.dc("click",function(){return t._onGenerateNewRecoveryCodes()}),_.Cc(22),_.ic(23,"translate"),_.Ac(24,Ce,2,4,"ng-container",7),_.Vb(),_.Rb(25,"odm-server-side-error",8),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Ac(26,ye,4,3,"ng-template",null,9,_.Bc),_.Ac(28,Ee,16,0,"ng-template",null,10,_.Bc)),2&e){var n=_.rc(29);_.Eb(1),_.mc("disabled",t.disabled),_.Eb(3),_.Ec(" ",_.jc(5,14,"odm.account.security.two-step.recovery-codes.title")," "),_.Eb(2),_.mc("matTooltip",_.jc(7,16,"odm.account.security.two-step.recovery-codes.description"))("matTooltipShowDelay",t._showDelayInMs)("matTooltipTouchGestures",t._touchGestrues),_.Eb(2),_.Ec(" ",_.jc(9,18,"odm.account.security.two-step.recovery-codes.description")," "),_.Eb(6),_.Dc(_.jc(15,20,"odm.account.security.two-step.recovery-codes.backup-codes.title")),_.Eb(3),_.Dc(_.jc(18,22,"odm.account.security.two-step.recovery-codes.backup-codes.description")),_.Eb(2),_.mc("ngIf",!t.generatingCodes)("ngIfElse",n),_.Eb(2),_.mc("disabled",t.generatingCodes),_.Eb(1),_.Ec(" ",_.jc(23,24,"odm.buttons.generate")," "),_.Eb(2),_.mc("ngIf",t.generatingCodes),_.Eb(1),_.mc("serverError",t._serverError)}},directives:[de.a,de.c,de.e,de.f,de.d,ge.a,he.a,fe.a,b.k,be.b,ce.a,b.j,le.a,me],pipes:[w.c],styles:['.recovery-codes[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.recovery-codes[_ngcontent-%COMP%]   .recovery-codes__user-secret[_ngcontent-%COMP%]{display:block}.recovery-codes[_ngcontent-%COMP%]   .recovery-codes__format-codes[_ngcontent-%COMP%]{-moz-columns:2;column-count:2;padding-left:20px;transition:"ease-in"}.recovery-codes[_ngcontent-%COMP%]   .generating-codes[_ngcontent-%COMP%]{height:20px;padding-bottom:2.5px;width:90%}.recovery-codes[_ngcontent-%COMP%]   .generating-codes[_ngcontent-%COMP%]   .generating-code-ghost[_ngcontent-%COMP%]{height:80%}@media (max-width:576px){.recovery-codes__truncate[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}}'],data:{animation:[m.f]},changeDetection:0}),Pe),Se=["slideToggle"];function ke(e,t){if(1&e&&(_.Ub(0),_.Rb(1,"odm-spinner",13),_.Tb()),2&e){var n=_.hc(2);_.Eb(1),_.mc("spinnerColor","accent")("type","button")("diameter",n._twoFactorAuthToggleSpinnerDiameter)("strokeWidth",n._twoFactorAuthToggleSpinnerStrokeWidth)}}function Me(e,t){if(1&e){var n=_.Xb();_.Ub(0),_.Wb(1,"div"),_.Wb(2,"div",14),_.Wb(3,"odm-two-factor-authentication-codes",15),_.dc("generateNewRecoveryCodesClicked",function(){return _.tc(n),_.hc(2)._onGenerateNew2FaRecoveryCodesClicked()}),_.Vb(),_.Vb(),_.Vb(),_.Tb()}if(2&e){var i=_.hc(2);_.Eb(1),_.mc("@downUpFadeIn",void 0),_.Eb(2),_.mc("codes",i.userRecoveryCodes)("disabled",i._twoFactorAuthToggleLoading)("generatingCodes",i.generatingNewRecoveryCodes)}}function Ae(e,t){if(1&e){var n=_.Xb();_.Ub(0),_.Wb(1,"div",5),_.Wb(2,"div",6),_.Wb(3,"span",7),_.Cc(4),_.ic(5,"translate"),_.Vb(),_.Vb(),_.Wb(6,"div"),_.Wb(7,"div",8),_.Wb(8,"div",9),_.Ac(9,ke,2,4,"ng-container",10),_.Vb(),_.Wb(10,"mat-slide-toggle",11,12),_.dc("change",function(e){return _.tc(n),_.hc()._onTwoFactorAuthToggleChanged(e)}),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Ac(12,Me,4,4,"ng-container",10),_.Tb()}if(2&e){var i=_.hc();_.Eb(1),_.mc("ngClass",i.twoFactorEnabled?"two-factor-settings__extra-margin":null)("@downUpFadeIn",void 0),_.Eb(2),_.xc("--short-description",i._shortDescriptionFontSize),_.Eb(1),_.Dc(_.jc(5,10,"odm.account.security.two-step.description")),_.Eb(2),_.mc("@downUpFadeIn",void 0),_.Eb(3),_.mc("ngIf",i._twoFactorAuthToggleLoading),_.Eb(1),_.mc("disabled",i._twoFactorAuthToggleLoading)("checked",i.twoFactorEnabled),_.Eb(2),_.mc("ngIf",i.twoFactorEnabled)}}function je(e,t){1&e&&(_.Wb(0,"div",16),_.Rb(1,"odm-ghost-block"),_.Vb(),_.Wb(2,"div",17),_.Rb(3,"odm-ghost-block"),_.Vb())}var Re,Ve,De=((Re=function(){function e(t,n,i){u(this,e),this._log=t,this._router=n,this._route=i,this.userRecoveryCodes=[],this._twoFactorAuthToggleLoading=!1,this.navigateToSetup=new _.o,this.generateNew2faRecoveryCodesClicked=new _.o,this.twoFactorAuthToggleChanged=new _.o,this._showTwoFactorAuthSetupWizard=!1,this._routeAnimationsElements=m.e,this._shortDescriptionFontSize=ae.b,this._accountHeader=ae.a,this._twoFactorAuthToggleSpinnerDiameter=oe.c,this._twoFactorAuthToggleSpinnerStrokeWidth=oe.d}return l(e,[{key:"problemDetails",set:function(e){this._problemDetails=e}},{key:"internalServerErrorDetails",set:function(e){this._internalServerErrorDetails=e}},{key:"twoFactorAuthToggleLoading",set:function(e){var t=this;this._log.debug("twoFactorAuthToggleLoading emitted.",this),this._twoFactorAuthToggleLoading=e,setTimeout(function(){t.twoFactorEnabledToggle&&(t.twoFactorEnabledToggle.checked=t.twoFactorEnabled)})}},{key:"authenticatorSetup",set:function(e){this._log.debug("authenticatorSetup emitted.",this),this._authenticatorSetup=e,""!==e.authenticatorUri&&""!==e.sharedKey&&this.navigateToSetup.emit()}},{key:"_onTwoFactorAuthToggleChanged",value:function(e){this._log.trace("_onTwoFactorAuthToggle fired.",this),this._clearServerErrors(),this.twoFactorAuthToggleChanged.emit(e)}},{key:"_onGenerateNew2FaRecoveryCodesClicked",value:function(){this._log.trace("_onGenerateNew2FaRecoveryCodes fired.",this),this._clearServerErrors(),this.generateNew2faRecoveryCodesClicked.emit()}},{key:"_clearServerErrors",value:function(){this._log.trace("_clearServerErrors fired.",this),this._problemDetails=null,this._internalServerErrorDetails=null}}]),e}()).\u0275fac=function(e){return new(e||Re)(_.Qb(N.a),_.Qb(p.h),_.Qb(p.a))},Re.\u0275cmp=_.Kb({type:Re,selectors:[["odm-two-factor-authentication"]],viewQuery:function(e,t){var n;1&e&&_.Fc(Se,1),2&e&&_.qc(n=_.ec())&&(t.twoFactorEnabledToggle=n.first)},inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",loading:"loading",twoFactorEnabled:"twoFactorEnabled",userRecoveryCodes:"userRecoveryCodes",twoFactorAuthToggleLoading:"twoFactorAuthToggleLoading",authenticatorSetup:"authenticatorSetup",generatingNewRecoveryCodes:"generatingNewRecoveryCodes"},outputs:{navigateToSetup:"navigateToSetup",generateNew2faRecoveryCodesClicked:"generateNew2faRecoveryCodesClicked",twoFactorAuthToggleChanged:"twoFactorAuthToggleChanged"},decls:8,vars:10,consts:[[1,"two-factor-settings"],[1,"two-factor-settings--header"],[4,"ngIf","ngIfElse"],[3,"internalServerErrorDetails","problemDetails"],["loadingState",""],[1,"two-factor-settings__state",3,"ngClass"],[1,"two-factor-settings__short-description"],[1,"two-factor-settings__description"],[1,"two-factor-settings__toggle-state"],[1,"two-factor-settings__toggle-state-spinner-container"],[4,"ngIf"],["color","primary",3,"disabled","checked","change"],["slideToggle",""],[3,"spinnerColor","type","diameter","strokeWidth"],[1,"two-factor-settings__user-recovery-codes"],[3,"codes","disabled","generatingCodes","generateNewRecoveryCodesClicked"],[1,"two-factor-settings__ghost-loading-state"],[1,"two-factor-settings__ghost-loading-codes"]],template:function(e,t){if(1&e&&(_.Wb(0,"div",0),_.Wb(1,"h3",1),_.Cc(2),_.ic(3,"translate"),_.Vb(),_.Ac(4,Ae,13,12,"ng-container",2),_.Vb(),_.Rb(5,"odm-server-side-error",3),_.Ac(6,je,4,0,"ng-template",null,4,_.Bc)),2&e){var n=_.rc(7);_.Eb(1),_.xc("--account-header",t._accountHeader),_.mc("@downUpFadeIn",void 0),_.Eb(1),_.Ec(" ",_.jc(3,8,"odm.account.security.two-step.title")," "),_.Eb(2),_.mc("ngIf",!t.loading)("ngIfElse",n),_.Eb(1),_.mc("internalServerErrorDetails",t._internalServerErrorDetails)("problemDetails",t._problemDetails)}},directives:[b.k,ce.a,b.i,se.a,le.a,Oe,me],pipes:[w.c],styles:[".two-factor-settings[_ngcontent-%COMP%]{overflow:hidden;width:100%}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings--header[_ngcontent-%COMP%]{font-size:var(--account-header)}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__user-recovery-codes[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.15)}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__error[_ngcontent-%COMP%]{padding-top:8px;display:block;font-size:15px}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__error[_ngcontent-%COMP%]   .two-factor-settings__error-format-position[_ngcontent-%COMP%]{width:15px;height:15px;vertical-align:text-top;font-size:15px}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__ghost-loading-state[_ngcontent-%COMP%]{height:56px;padding:8px 0}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__ghost-loading-codes[_ngcontent-%COMP%]{height:40px}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__extra-margin[_ngcontent-%COMP%]{margin-bottom:18.72px}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:8px;height:48px}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__state[_ngcontent-%COMP%]   .two-factor-settings__short-description[_ngcontent-%COMP%]{display:flex}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__state[_ngcontent-%COMP%]   .two-factor-settings__short-description[_ngcontent-%COMP%]   .two-factor-settings__description[_ngcontent-%COMP%]{font-size:var(--short-description)}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__state[_ngcontent-%COMP%]   .two-factor-settings__toggle-state[_ngcontent-%COMP%]{padding-right:10px;align-self:flex-end;display:flex}.two-factor-settings[_ngcontent-%COMP%]   .two-factor-settings__state[_ngcontent-%COMP%]   .two-factor-settings__toggle-state[_ngcontent-%COMP%]   .two-factor-settings__toggle-state-spinner-container[_ngcontent-%COMP%]{width:24px;margin:0 10px}  .ng-animating div mat-accordion mat-expansion-panel mat-expansion-panel-header{height:48px}  .ng-animating div mat-accordion mat-expansion-panel div.mat-expansion-panel-content{height:0;visibility:hidden}@media (min-width:576px){.two-factor-settings[_ngcontent-%COMP%]{overflow:hidden}}"],data:{animation:[m.f]},changeDetection:0}),Re),Fe=r("f0Cb"),Te=((Ve=function(){function e(t,n,i){u(this,e),this._log=t,this._router=n,this._route=i,this._shortDescription=ae.b,this._accountHeader=ae.a}return l(e,[{key:"_onChangePasswordClicked",value:function(){this._log.trace("_onChangePasswordClicked fired.",this),this._router.navigate(["security/change-password"],{relativeTo:this._route.parent})}}]),e}()).\u0275fac=function(e){return new(e||Ve)(_.Qb(N.a),_.Qb(p.h),_.Qb(p.a))},Ve.\u0275cmp=_.Kb({type:Ve,selectors:[["odm-password-settings"]],decls:14,vars:15,consts:[[1,"password-settings"],[1,"password-settings--header"],[1,"password-settings__state"],[1,"password-settings__short-description"],[1,"password-settings__change"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(_.Wb(0,"div"),_.Wb(1,"div",0),_.Wb(2,"h3",1),_.Cc(3),_.ic(4,"translate"),_.Vb(),_.Wb(5,"div",2),_.Wb(6,"div",3),_.Wb(7,"span"),_.Cc(8),_.ic(9,"translate"),_.Vb(),_.Vb(),_.Wb(10,"div",4),_.Wb(11,"button",5),_.dc("click",function(){return t._onChangePasswordClicked()}),_.Cc(12),_.ic(13,"translate"),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb()),2&e&&(_.Eb(2),_.xc("--account-header",t._accountHeader),_.mc("@downUpFadeIn",void 0),_.Eb(1),_.Ec(" ",_.jc(4,9,"odm.account.security.password.title")," "),_.Eb(2),_.mc("@downUpFadeIn",void 0),_.Eb(1),_.xc("--short-description",t._shortDescription),_.Eb(2),_.Dc(_.jc(9,11,"odm.account.security.password.description")),_.Eb(4),_.Dc(_.jc(13,13,"odm.buttons.change")))},directives:[be.b],pipes:[w.c],styles:["[_nghost-%COMP%]{width:100%}.password-settings__spacer[_ngcontent-%COMP%]{width:400px;height:58px}.password-settings[_ngcontent-%COMP%]{width:100%;overflow:hidden}.password-settings[_ngcontent-%COMP%]   .password-settings--header[_ngcontent-%COMP%]{font-size:var(--account-header)}.password-settings[_ngcontent-%COMP%]   .password-settings__state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:8px}.password-settings[_ngcontent-%COMP%]   .password-settings__short-description[_ngcontent-%COMP%]{display:flex;font-size:var(--short-description)}.password-settings[_ngcontent-%COMP%]   .password-settings__ghost-loading-state[_ngcontent-%COMP%]{height:56px;padding:8px 0}"],data:{animation:[m.f]},changeDetection:0}),Ve);function We(e,t){if(1&e){var n=_.Xb();_.Ub(0),_.Wb(1,"div",1),_.Wb(2,"div",2),_.Wb(3,"odm-two-factor-authentication",3),_.dc("generateNew2faRecoveryCodesClicked",function(){return _.tc(n),_.hc()._onGenerateNew2faRecoveryCodesClicked()})("twoFactorAuthToggleChanged",function(e){return _.tc(n),_.hc()._onTwoFactorAuthToggle(e)})("navigateToSetup",function(){return _.tc(n),_.hc()._onNavigateToSetup()}),_.ic(4,"async"),_.ic(5,"async"),_.ic(6,"async"),_.ic(7,"async"),_.ic(8,"async"),_.Vb(),_.Vb(),_.Rb(9,"mat-divider"),_.Wb(10,"div",2),_.Rb(11,"odm-password-settings"),_.Vb(),_.Rb(12,"mat-divider"),_.Vb(),_.Tb()}if(2&e){var i=t.ngIf,r=_.hc();_.Eb(2),_.mc("ngClass",r._routeAnimationsElements),_.Eb(1),_.mc("userRecoveryCodes",null==i||null==i.recoveryCodes?null:i.recoveryCodes.items)("twoFactorEnabled",null==i?null:i.twoFactorEnabled)("authenticatorSetup",_.jc(4,10,r._authenticatorSetup$))("generatingNewRecoveryCodes",r._generatingNewRecoveryCodes)("loading",_.jc(5,12,r._loading$))("twoFactorAuthToggleLoading",_.jc(6,14,r._twoFactorAuthToggleLoading$))("problemDetails",_.jc(7,16,r._problemDetails$))("internalServerErrorDetails",_.jc(8,18,r._internalServerErrorDetails$)),_.Eb(7),_.mc("ngClass",r._routeAnimationsElements)}}var Ie,xe=((Ie=function(){function e(t,n){u(this,e),this._sb=t,this._route=n,this._routeAnimationsElements=m.e,this._loadingSub=new y.a(!1),this._loading$=this._loadingSub.asObservable(),this._twoFactorAuthToggleLoadingSub=new y.a(!1),this._twoFactorAuthToggleLoading$=this._twoFactorAuthToggleLoadingSub.asObservable(),this._subscription=new E.a,this._accountSecurityDetails$=t.accountSecurityDetails$,this._authenticatorSetup$=t.twoFactorAuthenticationSetup$,this._problemDetails$=t.problemDetails$,this._internalServerErrorDetails$=t.internalServerErrorDetails$}return l(e,[{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._loadingSub.next(!0),this._sb.getAccountSecurityInfo(),this._subscription.add(this._listenToSecurityEvents$().subscribe())}},{key:"_onTwoFactorAuthToggle",value:function(e){this._sb.log.trace("_onTwoFactorAuthToggle fired.",this),this._twoFactorAuthToggleLoadingSub.next(!0),e.checked?(this._sb.log.debug("_onTwoFactorAuthToggle: enter 2fa setup.",this),this._sb.setupAuthenticator()):(this._sb.log.debug("_onTwoFactorAuthToggle: disable 2fa.",this),this._sb.disable2Fa())}},{key:"_onGenerateNew2faRecoveryCodesClicked",value:function(){this._sb.log.trace("_onGenerateNew2FaRecoveryCodes fired.",this),this._generatingNewRecoveryCodes=!0,this._sb.generateRecoveryCodes()}},{key:"_onNavigateToSetup",value:function(){this._sb.router.navigate(["security/two-factor-authentication-setup"],{relativeTo:this._route.parent})}},{key:"_listenToSecurityEvents$",value:function(){var e=this;return this._sb.log.trace("_listenToSecurityEvents executed.",this),Object(P.a)(this._accountSecurityDetails$.pipe(Object(O.a)(1)),this._sb.onCompletedUpdateRecoveryCodesAction$,this._authenticatorSetup$.pipe(Object(O.a)(1)),this._problemDetails$,this._internalServerErrorDetails$).pipe(Object(S.a)(function(e){return void 0!==e}),Object(k.a)(function(){e._generatingNewRecoveryCodes=!1,e._twoFactorAuthToggleLoadingSub.next(!1),e._loadingSub.next(!1)}))}}]),e}()).\u0275fac=function(e){return new(e||Ie)(_.Qb(re),_.Qb(p.a))},Ie.\u0275cmp=_.Kb({type:Ie,selectors:[["odm-security-container"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"account-security"],[3,"ngClass"],[3,"userRecoveryCodes","twoFactorEnabled","authenticatorSetup","generatingNewRecoveryCodes","loading","twoFactorAuthToggleLoading","problemDetails","internalServerErrorDetails","generateNew2faRecoveryCodesClicked","twoFactorAuthToggleChanged","navigateToSetup"]],template:function(e,t){1&e&&(_.Ac(0,We,13,20,"ng-container",0),_.ic(1,"async")),2&e&&_.mc("ngIf",_.jc(1,1,t._accountSecurityDetails$))},directives:[b.k,b.i,De,Fe.a,Te],pipes:[b.b],styles:[".account-security[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin:18.72px 0}.account-security[_ngcontent-%COMP%]   .account-security__error[_ngcontent-%COMP%]{padding-top:8px;display:block;font-size:15px}.account-security[_ngcontent-%COMP%]   .account-security__error[_ngcontent-%COMP%]   .account-security__error-format-position[_ngcontent-%COMP%]{width:15px;height:15px;vertical-align:text-top;font-size:15px}"],data:{animation:[m.i]}}),Ie),qe=r("oluo"),$e=r("XNiG"),Be=r("44v3"),Ne=r("ZQlJ"),Le=r("Wp6s"),ze=r("kmnG"),Ue=r("qFsG"),He=r("Bm1U");function Qe(e,t){if(1&e&&(_.Wb(0,"mat-error"),_.Cc(1),_.ic(2,"async"),_.Vb()),2&e){var n=_.hc();_.Eb(1),_.Dc(_.jc(2,1,n._getErrorMessage$(null==n._changePasswordForm?null:n._changePasswordForm.get("currentPassword"))))}}function Ke(e,t){if(1&e&&(_.Ub(0),_.Wb(1,"mat-icon",20),_.Cc(2),_.Vb(),_.Tb()),2&e){var n=_.hc();_.Eb(1),_.mc("ngClass",n.confirmPasswordMatchReqMet?"auth--req-met":"auth--req-not-met"),_.Eb(1),_.Dc(n.confirmPasswordMatchReqMet?"check":"clear")}}function Ge(e,t){if(1&e&&(_.Wb(0,"mat-error"),_.Cc(1),_.ic(2,"async"),_.Vb()),2&e){var n=_.hc();_.Eb(1),_.Dc(_.jc(2,1,n._getErrorMessage$(null==n._changePasswordForm?null:n._changePasswordForm.get("confirmPassword"))))}}function Ye(e,t){if(1&e&&(_.Ub(0),_.Rb(1,"odm-spinner",21),_.Tb()),2&e){var n=_.hc();_.Eb(1),_.mc("type","button")("spinnerColor","accent")("diameter",n._changingPasswordSpinnerDiameter)("strokeWidth",n._changingPasswordSpinnerStrokeWidth)}}var Je,Ze,Xe=((Ze=function(t){e(r,t);var i=n(r);function r(e,t,n){var o;return u(this,r),(o=i.call(this,e,t,n)).translateErrorValidationService=e,o.log=t,o.cd=n,o.changePasswordSubmitted=new _.o,o.cancelClicked=new _.o,o.passwordHelpToggled=new _.o,o._currentPasswordHide=!0,o._newPasswordHide=!0,o._confirmPasswordHide=!0,o._changingPasswordSpinnerDiameter=oe.c,o._changingPasswordSpinnerStrokeWidth=oe.d,o}return l(r,[{key:"problemDetails",set:function(e){this.log.debug("Problem details emitted.",this),this.problemDetailsError=e}},{key:"internalServerErrorDetails",set:function(e){this.log.debug("Internal server error emitted.",this),this.internalServerError=e}},{key:"changePasswordForm",set:function(e){this.log.debug("Change password form emitted.",this),this._changePasswordForm=e,this._passwordControl=e.get("password")}},{key:"_onChangePassword",value:function(){this.log.trace("_onChangePassword fired.",this),this.changePasswordSubmitted.emit()}},{key:"_onPasswordHelpToggled",value:function(){this.log.trace("_onPasswordHelpToggled fired.",this),this.passwordHelpToggled.emit()}},{key:"_cancelClicked",value:function(){this.log.trace("_cancelClicked fired.",this),this.cancelClicked.emit()}}]),r}(Ne.a)).\u0275fac=function(e){return new(e||Ze)(_.Qb(ne.a),_.Qb(N.a),_.Qb(_.i))},Ze.\u0275cmp=_.Kb({type:Ze,selectors:[["odm-change-password"]],inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",changePasswordForm:"changePasswordForm",passwordRequirements:"passwordRequirements",passwordHelpToggleClass:"passwordHelpToggleClass",confirmPasswordMatchReqMet:"confirmPasswordMatchReqMet",passwordChangeInProgress:"passwordChangeInProgress",passwordHelpTogglePosition:"passwordHelpTogglePosition"},outputs:{changePasswordSubmitted:"changePasswordSubmitted",cancelClicked:"cancelClicked",passwordHelpToggled:"passwordHelpToggled"},features:[_.Bb],decls:54,vars:37,consts:[[1,"change-password-container"],[1,"change-password-container__change"],[1,"change-password__card"],["mat-card-avatar","",1,"change-password-container__header-image"],[3,"formGroup"],[1,"change-password__content"],[1,"auth__current-password-field"],[1,"change-password--email-invisible"],["matInput","","formControlName","email","autocomplete","username"],["appearance","standard"],["matInput","","formControlName","currentPassword","autocomplete","current-password","required","",3,"type"],["matSuffix","",1,"auth__view-password",3,"click"],[4,"ngIf"],[1,"auth__new-password-field",3,"ngClass"],["matInput","","formControlName","password","autocomplete","new-password","required","",3,"type"],[3,"togglePosition","passwordRequirements","passwordControl","passwordHelpClicked"],[1,"auth__confirm-password-field"],["matInput","","formControlName","confirmPassword","autocomplete","new-password","required","",3,"type"],["mat-button","","mat-stroked-button","","color","accent","type","button",3,"disabled","click"],["mat-button","","type","button",3,"click"],["matPrefix","",3,"ngClass"],[3,"type","spinnerColor","diameter","strokeWidth"]],template:function(e,t){1&e&&(_.Wb(0,"div",0),_.Wb(1,"div",1),_.Wb(2,"mat-card",2),_.Wb(3,"mat-card-header"),_.Rb(4,"div",3),_.Wb(5,"mat-card-title"),_.Cc(6),_.ic(7,"translate"),_.Vb(),_.Vb(),_.Wb(8,"mat-card-content"),_.Wb(9,"form",4),_.Wb(10,"div",5),_.Wb(11,"div",6),_.Wb(12,"mat-form-field",7),_.Rb(13,"input",8),_.Vb(),_.Wb(14,"mat-form-field",9),_.Wb(15,"mat-label"),_.Cc(16),_.ic(17,"translate"),_.Vb(),_.Rb(18,"input",10),_.Wb(19,"mat-icon",11),_.dc("click",function(){return t._currentPasswordHide=!t._currentPasswordHide}),_.Cc(20),_.Vb(),_.Ac(21,Qe,3,3,"mat-error",12),_.Vb(),_.Vb(),_.Wb(22,"div",13),_.Wb(23,"mat-form-field",9),_.Wb(24,"mat-label"),_.Cc(25),_.ic(26,"translate"),_.Vb(),_.Rb(27,"input",14),_.Wb(28,"mat-icon",11),_.dc("click",function(){return t._newPasswordHide=!t._newPasswordHide}),_.Cc(29),_.Vb(),_.Wb(30,"mat-hint"),_.Wb(31,"odm-password-help",15),_.dc("passwordHelpClicked",function(){return t._onPasswordHelpToggled()}),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(32,"div",16),_.Wb(33,"mat-form-field",9),_.Wb(34,"mat-label"),_.Cc(35),_.ic(36,"translate"),_.Vb(),_.Rb(37,"input",17),_.Wb(38,"mat-icon",11),_.dc("click",function(){return t._confirmPasswordHide=!t._confirmPasswordHide}),_.Cc(39),_.Vb(),_.Wb(40,"mat-hint"),_.Wb(41,"span"),_.Ac(42,Ke,3,2,"ng-container",12),_.Cc(43),_.ic(44,"translate"),_.Vb(),_.Vb(),_.Ac(45,Ge,3,3,"mat-error",12),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(46,"mat-card-actions"),_.Wb(47,"button",18),_.dc("click",function(){return t._onChangePassword()}),_.Cc(48),_.ic(49,"translate"),_.Ac(50,Ye,2,4,"ng-container",12),_.Vb(),_.Wb(51,"button",19),_.dc("click",function(){return t._cancelClicked()}),_.Cc(52),_.ic(53,"translate"),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb()),2&e&&(_.Eb(6),_.Dc(_.jc(7,23,"odm.account.security.password.change.title")),_.Eb(3),_.mc("formGroup",t._changePasswordForm),_.Eb(7),_.Dc(_.jc(17,25,"odm.auth.form.label.current-password")),_.Eb(2),_.mc("type",t._currentPasswordHide?"password":"text"),_.Eb(2),_.Dc(t._currentPasswordHide?"visibility_off":"visibility"),_.Eb(1),_.mc("ngIf",t._ifControlFieldIsInvalid(null==t._changePasswordForm?null:t._changePasswordForm.get("currentPassword"))),_.Eb(1),_.mc("ngClass",t.passwordHelpToggleClass),_.Eb(3),_.Dc(_.jc(26,27,"odm.auth.form.label.new-password")),_.Eb(2),_.mc("type",t._newPasswordHide?"password":"text"),_.Eb(2),_.Dc(t._newPasswordHide?"visibility_off":"visibility"),_.Eb(2),_.mc("togglePosition",t.passwordHelpTogglePosition)("passwordRequirements",t.passwordRequirements)("passwordControl",t._passwordControl),_.Eb(4),_.Dc(_.jc(36,29,"odm.auth.form.label.confirm-password")),_.Eb(2),_.mc("type",t._confirmPasswordHide?"password":"text"),_.Eb(2),_.Dc(t._confirmPasswordHide?"visibility_off":"visibility"),_.Eb(3),_.mc("ngIf",!(null!=t._changePasswordForm&&t._changePasswordForm.get("confirmPassword").pristine)&&(null==t._changePasswordForm?null:t._changePasswordForm.get("password").valid)),_.Eb(1),_.Ec(" ",_.jc(44,31,"odm.auth.form.requirements.pass-must-match")," "),_.Eb(2),_.mc("ngIf",(null==t._changePasswordForm?null:t._changePasswordForm.get("confirmPassword").invalid)&&(null==t._changePasswordForm?null:t._changePasswordForm.get("password").valid)),_.Eb(2),_.mc("disabled",!(null!=t._changePasswordForm&&t._changePasswordForm.valid)||t.passwordChangeInProgress),_.Eb(1),_.Ec(" ",_.jc(49,33,"odm.buttons.change")," "),_.Eb(2),_.mc("ngIf",t.passwordChangeInProgress),_.Eb(2),_.Dc(_.jc(53,35,"odm.buttons.cancel")))},directives:[Le.a,Le.e,Le.c,Le.h,Le.d,te.s,te.m,te.f,ze.c,Ue.b,te.c,te.l,te.e,ze.g,te.q,he.a,ze.j,b.k,b.i,ze.f,He.a,Le.b,be.b,ze.b,ze.i,le.a],pipes:[w.c,b.b],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card-actions[_ngcontent-%COMP%]{width:80%;margin:0 auto}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:45%}.mat-card[_ngcontent-%COMP%] > .mat-card-actions[_ngcontent-%COMP%]:last-child{margin-bottom:0}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]{position:relative;z-index:110}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .change-password--email-invisible[_ngcontent-%COMP%]{display:block;visibility:hidden;height:0;width:0}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .change-password-container__header-image[_ngcontent-%COMP%]{background-image:url(change_info.626c1782359462b934c7.png);background-size:cover}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__current-password-field[_ngcontent-%COMP%], .change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__new-password-field[_ngcontent-%COMP%], .change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .change-password__title[_ngcontent-%COMP%]{width:80%;margin:0 auto}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__confirm-password-field[_ngcontent-%COMP%]{margin:12px auto;width:80%}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .change-password__card[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .change-password__card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__password-field-help-on[_ngcontent-%COMP%]{margin-bottom:111px;transition:margin-bottom .3s ease-in}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__password-field-help-off[_ngcontent-%COMP%]{margin-bottom:0;transition:margin-bottom .3s ease-in}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__confirm-password-field[_ngcontent-%COMP%]{padding-top:12px}.change-password-container[_ngcontent-%COMP%]   .change-password-container__change[_ngcontent-%COMP%]   .auth__view-password[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),Ze),et=((Je=function(){function e(t,n){u(this,e),this._sb=t,this._route=n,this._confirmPasswordMatchReqMet=!1,this._passwordRequirements=[],this._passwordHelpToggleClass="auth__password-field-help-off",this._passwordHelpTogglePositionSub=new $e.a,this._passwordHelpTogglePosition$=this._passwordHelpTogglePositionSub.asObservable(),this._subscription=new E.a,this._problemDetails$=t.problemDetails$,this._internalServerErrorDetails$=t.internalServerErrorDetails$,this._passwordChangeCompleted$=t.passwordChangeCompleted$}return l(e,[{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._passwordRequirements=this._initPasswordRequirements(),this._changePasswordForm=this._initChangePasswordForm(),this._subscription.add(this._validateFormConfirmPasswordField$().subscribe()),this._subscription.add(this._listenForServerErrors$().subscribe()),this._subscription.add(this._onPasswordChangeCompleted$().subscribe())}},{key:"ngOnDestroy",value:function(){this._sb.log.trace("Destroyed.",this),this._subscription.unsubscribe()}},{key:"_onChangePasswordSubmitted",value:function(){this._sb.log.trace("_onChangePasswordClicked fired.",this),this._passwordChangeInProgress=!0,this._sb.changePassword(this._changePasswordForm.value)}},{key:"_onCancelClicked",value:function(){this._sb.log.trace("_onCancelClicked fired.",this),this._sb.router.navigate(["security"],{relativeTo:this._route.parent})}},{key:"_onPasswordHelpToggled",value:function(){this._sb.log.trace("_onPasswordHelpToggled fired.",this),this._passwordHelpToggleClass="auth__password-field-help-off"===this._passwordHelpToggleClass?"auth__password-field-help-on":"auth__password-field-help-off"}},{key:"_onPasswordChangeCompleted$",value:function(){var e=this;return this._sb.log.trace("_onPasswordChangeCompleted$ fired.",this),this._passwordChangeCompleted$.pipe(Object(O.a)(1),Object(k.a)(function(t){return t?void e._sb.router.navigate(["security"],{relativeTo:e._route.parent}):null}),Object(k.a)(function(){return e._sb.passwordChangeCompleted({passwordChangeCompleted:!1})}))}},{key:"_validateFormConfirmPasswordField$",value:function(){var e=this;return this._sb.log.trace("_validateFormConfirmPasswordField$ fired.",this),this._changePasswordForm.valueChanges.pipe(Object(k.a)(function(t){e._confirmPasswordMatchReqMet=!e._changePasswordForm.hasError("notSame")}))}},{key:"_listenForServerErrors$",value:function(){var e=this;return this._sb.log.trace("_listenForServerErrors$ fired.",this),Object(P.a)(this._sb.problemDetails$,this._sb.internalServerErrorDetails$).pipe(Object(k.a)(function(){e._sb.log.debug("Changing _togglePosition to 'collapsed'"),e._passwordHelpTogglePositionSub.next("collapsed"),e._passwordChangeInProgress=!1}))}},{key:"_initPasswordRequirements",value:function(){return Object(qe.a)()}},{key:"_initChangePasswordForm",value:function(){return this._sb.log.trace("_initChangePasswordForm fired.",this),this._sb.fb.group({email:this._sb.fb.control(""),currentPassword:this._sb.fb.control("",{validators:[Be.b.required],updateOn:"change"}),password:this._sb.fb.control("",{validators:[Be.b.required,Be.b.minLength(Be.a),Be.b.requireDigit,Be.b.requireLowercase,Be.b.requireUppercase,Be.b.requireNonAlphanumeric,Be.b.requireThreeUniqueCharacters],updateOn:"change"}),confirmPassword:this._sb.fb.control("",Be.b.required)},{validators:Be.b.requireConfirmPassword,updateOn:"change"})}}]),e}()).\u0275fac=function(e){return new(e||Je)(_.Qb(re),_.Qb(p.a))},Je.\u0275cmp=_.Kb({type:Je,selectors:[["odm-change-password-container"]],decls:6,vars:15,consts:[[1,"change-password-overlay"],[3,"changePasswordForm","passwordRequirements","passwordChangeInProgress","passwordHelpToggleClass","confirmPasswordMatchReqMet","passwordHelpTogglePosition","problemDetails","internalServerErrorDetails","passwordHelpToggled","changePasswordSubmitted","cancelClicked"]],template:function(e,t){1&e&&(_.Rb(0,"div",0),_.Wb(1,"div"),_.Wb(2,"odm-change-password",1),_.dc("passwordHelpToggled",function(){return t._onPasswordHelpToggled()})("changePasswordSubmitted",function(){return t._onChangePasswordSubmitted()})("cancelClicked",function(){return t._onCancelClicked()}),_.ic(3,"async"),_.ic(4,"async"),_.ic(5,"async"),_.Vb(),_.Vb()),2&e&&(_.Eb(2),_.mc("changePasswordForm",t._changePasswordForm)("passwordRequirements",t._passwordRequirements)("passwordChangeInProgress",t._passwordChangeInProgress)("passwordHelpToggleClass",t._passwordHelpToggleClass)("confirmPasswordMatchReqMet",t._confirmPasswordMatchReqMet)("passwordChangeInProgress",t._passwordChangeInProgress)("passwordHelpTogglePosition",_.jc(3,9,t._passwordHelpTogglePosition$))("problemDetails",_.jc(4,11,t._problemDetails$))("internalServerErrorDetails",_.jc(5,13,t._internalServerErrorDetails$)))},directives:[Xe],pipes:[b.b],styles:[".change-password-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;opacity:.5;z-index:100}"],changeDetection:0}),Je),tt=r("zhtI");function nt(e,t){1&e&&(_.Wb(0,"mat-icon",8),_.ic(1,"translate"),_.Rb(2,"fa-icon",9),_.Vb()),2&e&&_.mc("matTooltip",_.jc(1,1,"odm.account.general.pending-verification-tooltip"))}function it(e,t){if(1&e){var n=_.Xb();_.Wb(0,"div"),_.Wb(1,"button",10),_.dc("click",function(){return _.tc(n),_.hc(3)._onResendEmailVerificationClicked()}),_.ic(2,"translate"),_.Cc(3),_.ic(4,"translate"),_.Vb(),_.Vb()}if(2&e){var i=_.hc(3);_.Eb(1),_.mc("matTooltip",i._disabled?_.jc(2,3,"odm.account.general.resend-verification-disabled-tooltip"):"")("disabled",i._disabled),_.Eb(2),_.Ec(" ",_.jc(4,5,"odm.buttons.resend-verification")," ")}}function rt(e,t){if(1&e&&(_.Ub(0),_.Wb(1,"div",5),_.Wb(2,"div"),_.Wb(3,"span",6),_.Cc(4),_.Vb(),_.Ac(5,nt,3,3,"mat-icon",7),_.Vb(),_.Ac(6,it,5,7,"div",4),_.Vb(),_.Tb()),2&e){var n=_.hc(2);_.Eb(4),_.Dc(n.email),_.Eb(1),_.mc("ngIf",n.email!==n._fallbackEmail),_.Eb(1),_.mc("ngIf",n.email!==n._fallbackEmail)}}function ot(e,t){if(1&e&&(_.Ub(0),_.Wb(1,"div",11),_.Wb(2,"span",6),_.Cc(3),_.Vb(),_.Wb(4,"mat-icon",12),_.ic(5,"translate"),_.Rb(6,"fa-icon",13),_.Vb(),_.Vb(),_.Tb()),2&e){var n=_.hc(2);_.Eb(3),_.Dc(n.email),_.Eb(1),_.mc("matTooltip",_.jc(5,2,"odm.account.general.verified-tooltip"))}}function at(e,t){if(1&e&&(_.Ub(0),_.Wb(1,"div",3),_.Ac(2,rt,7,3,"ng-container",4),_.Ac(3,ot,7,4,"ng-container",4),_.Vb(),_.Tb()),2&e){var n=_.hc();_.Eb(1),_.xc("--short-description",n._shortDescription),_.mc("@downUpFadeIn",void 0),_.Eb(1),_.mc("ngIf",!1===n.verified),_.Eb(1),_.mc("ngIf",n.verified)}}function ct(e,t){1&e&&(_.Wb(0,"div",14),_.Rb(1,"odm-ghost-block"),_.Vb())}var st,lt,ut=((lt=function(){function e(t){u(this,e),this._log=t,this.email="",this.resendEmailVerificationClicked=new _.o,this._fallbackEmail="placeholder-email@gmail.com",this._routeAnimationsElements=m.e,this._shortDescription=ae.b}return l(e,[{key:"disableResendVerification",set:function(e){this._log.debug("disableResendVerification property set.",this,e),this._disabled=e}},{key:"_onResendEmailVerificationClicked",value:function(){this._log.trace("_onResendEmailVerificationClicked fired.",this),this.resendEmailVerificationClicked.emit()}}]),e}()).\u0275fac=function(e){return new(e||lt)(_.Qb(N.a))},lt.\u0275cmp=_.Kb({type:lt,selectors:[["odm-personal-email-verification"]],inputs:{email:"email",verified:"verified",loading:"loading",disableResendVerification:"disableResendVerification"},outputs:{resendEmailVerificationClicked:"resendEmailVerificationClicked"},decls:4,vars:2,consts:[[1,"email-verification"],[4,"ngIf","ngIfElse"],["loadingState",""],[1,"email-verification__short-description"],[4,"ngIf"],[1,"email-verification__not-verified"],[1,"email-verification__email"],["class","email-verification__not-verified-icon",3,"matTooltip",4,"ngIf"],[1,"email-verification__not-verified-icon",3,"matTooltip"],["icon","exclamation-triangle"],["mat-button","","type","button",3,"matTooltip","disabled","click"],[1,"email-verification__verified"],[1,"email-verification__verified-icon",3,"matTooltip"],["icon","check"],[1,"email-verification__ghost-loading-state"]],template:function(e,t){if(1&e&&(_.Wb(0,"div",0),_.Ac(1,at,4,5,"ng-container",1),_.Vb(),_.Ac(2,ct,2,0,"ng-template",null,2,_.Bc)),2&e){var n=_.rc(3);_.Eb(1),_.mc("ngIf",!t.loading)("ngIfElse",n)}},directives:[b.k,he.a,ge.a,fe.a,be.b,me],pipes:[w.c],styles:["mat-icon[_ngcontent-%COMP%]{height:15px;width:15px;margin-right:8px;margin-left:8px}fa-icon[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%]{font-size:15px}.email-verification[_ngcontent-%COMP%]   .email-verification__short-description[_ngcontent-%COMP%]{font-size:var(--short-description);width:100%}.email-verification[_ngcontent-%COMP%]   .email-verification__email[_ngcontent-%COMP%]{word-break:break-all}.email-verification[_ngcontent-%COMP%]   .email-verification__not-verified[_ngcontent-%COMP%], .email-verification[_ngcontent-%COMP%]   .email-verification__verified[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.email-verification__ghost-loading-state[_ngcontent-%COMP%]{height:56px;padding:8px 0;width:100%}"],data:{animation:[m.f]},changeDetection:0}),lt),dt=((st=function(){function e(t,n){u(this,e),this._sb=t,this._route=n,this._routeAnimationsElements=m.e,this._shortDescription=ae.b,this._accountHeader=ae.a,this._loadingSub=new y.a(!1),this._loading$=this._loadingSub.asObservable(),this._disableResendVerificationSub=new y.a(!1),this._disableResendVerification$=this._disableResendVerificationSub.asObservable(),this.resendEmailVerificationClicked=new _.o}return l(e,[{key:"loading",set:function(e){this._sb.log.debug("loading property set to:",this,e),this._loadingSub.next(e)}},{key:"disableResendVerification",set:function(e){this._sb.log.debug("disableResendVerification property set.",this,e),this._disableResendVerificationSub.next(e)}},{key:"_onChangeEmailClicked",value:function(){this._sb.log.trace("_onChangePasswordClicked fired.",this),this._sb.router.navigate(["general/change-email"],{relativeTo:this._route.parent})}},{key:"_onResendEmailVerificationClicked",value:function(){this._sb.log.trace("_onResendEmailVerificationClicked fired.",this),this.resendEmailVerificationClicked.emit()}}]),e}()).\u0275fac=function(e){return new(e||st)(_.Qb(re),_.Qb(p.a))},st.\u0275cmp=_.Kb({type:st,selectors:[["odm-email-settings"]],inputs:{email:"email",loading:"loading",disableResendVerification:"disableResendVerification",verified:"verified"},outputs:{resendEmailVerificationClicked:"resendEmailVerificationClicked"},decls:19,vars:23,consts:[[1,"email-settings"],[1,"email-settings--header"],[1,"email-settings__email-verification"],[3,"disableResendVerification","loading","email","verified","resendEmailVerificationClicked"],[1,"email-settings__change-email"],[1,"email-settings__short-description"],[1,"email-settings__change"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(_.Wb(0,"div"),_.Wb(1,"div",0),_.Wb(2,"h3",1),_.Cc(3),_.ic(4,"translate"),_.Vb(),_.Wb(5,"div"),_.Wb(6,"div",2),_.Wb(7,"odm-personal-email-verification",3),_.dc("resendEmailVerificationClicked",function(){return t._onResendEmailVerificationClicked()}),_.ic(8,"async"),_.ic(9,"async"),_.Vb(),_.Vb(),_.Wb(10,"div",4),_.Wb(11,"div",5),_.Wb(12,"span"),_.Cc(13),_.ic(14,"translate"),_.Vb(),_.Vb(),_.Wb(15,"div",6),_.Wb(16,"button",7),_.dc("click",function(){return t._onChangeEmailClicked()}),_.Cc(17),_.ic(18,"translate"),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb()),2&e&&(_.Eb(2),_.xc("--account-header",t._accountHeader),_.mc("@downUpFadeIn",void 0),_.Eb(1),_.Ec(" ",_.jc(4,13,"odm.account.general.email.title")," "),_.Eb(2),_.mc("@downUpFadeIn",void 0),_.Eb(2),_.mc("disableResendVerification",_.jc(8,15,t._disableResendVerification$))("loading",_.jc(9,17,t._loading$))("email",t.email)("verified",t.verified),_.Eb(4),_.xc("--short-description",t._shortDescription),_.Eb(2),_.Dc(_.jc(14,19,"odm.account.general.email.description")),_.Eb(4),_.Dc(_.jc(18,21,"odm.buttons.change")))},directives:[ut,be.b],pipes:[w.c,b.b],styles:["[_nghost-%COMP%]{width:100%}.email-settings[_ngcontent-%COMP%]{width:100%;overflow:hidden}.email-settings[_ngcontent-%COMP%]   .email-settings--header[_ngcontent-%COMP%]{font-size:var(--account-header)}.email-settings[_ngcontent-%COMP%]   .email-settings__email-verification[_ngcontent-%COMP%]{margin:8px}.email-settings[_ngcontent-%COMP%]   .email-settings__short-description[_ngcontent-%COMP%]{display:flex;font-size:var(--short-description)}.email-settings[_ngcontent-%COMP%]   .email-settings__ghost-loading-state[_ngcontent-%COMP%]{height:56px;padding:8px 0}.email-settings[_ngcontent-%COMP%]   .email-settings__change-email[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:8px}"],data:{animation:[m.f]},changeDetection:0}),st);function gt(e,t){if(1&e&&(_.Wb(0,"span"),_.Wb(1,"mat-icon",6),_.Cc(2),_.Vb(),_.Cc(3),_.Vb()),2&e){var n=t.ngIf,i=_.hc(2);_.xc("--error",i._errorFontSize),_.mc("@downUpFadeIn",void 0),_.Eb(2),_.Dc("clear"),_.Eb(1),_.Ec(" ",i._getProblemDetailsErrorMessage(n)," ")}}function ht(e,t){if(1&e&&(_.Wb(0,"span"),_.Wb(1,"mat-icon",6),_.Cc(2),_.Vb(),_.Cc(3),_.Vb()),2&e){var n=t.ngIf,i=_.hc(2);_.xc("--error",i._errorFontSize),_.mc("@downUpFadeIn",void 0),_.Eb(2),_.Dc("clear"),_.Eb(1),_.Ec(" ",i._getInternalServerErrorMessage(n)," ")}}function ft(e,t){if(1&e){var n=_.Xb();_.Ub(0),_.Wb(1,"div",1),_.Wb(2,"div",2),_.Wb(3,"odm-email-settings",3),_.dc("resendEmailVerificationClicked",function(){return _.tc(n),_.hc()._onResendEmailVerificationClicked()}),_.ic(4,"async"),_.ic(5,"async"),_.Vb(),_.Vb(),_.Rb(6,"mat-divider"),_.Wb(7,"div",4),_.Ac(8,gt,4,5,"span",5),_.ic(9,"async"),_.Ac(10,ht,4,5,"span",5),_.ic(11,"async"),_.Vb(),_.Vb(),_.Tb()}if(2&e){var i=t.ngIf,r=_.hc();_.Eb(2),_.mc("ngClass",r._routeAnimationsElements),_.Eb(1),_.mc("loading",_.jc(4,7,r._loading$))("disableResendVerification",_.jc(5,9,r._disableResendVerification$))("email",(null==i?null:i.email)||r._fallbackEmail)("verified",null==i?null:i.verified),_.Eb(5),_.mc("ngIf",_.jc(9,11,r._problemDetails$)),_.Eb(2),_.mc("ngIf",_.jc(11,13,r._internalServerErrorDetails$))}}var bt,pt,mt,_t=((bt=function(){function e(t,n){u(this,e),this._sb=t,this._log=n,this._routeAnimationsElements=m.e,this._errorFontSize=ae.c,this._disableResendVerificationSub=new y.a(!1),this._disableResendVerification$=this._disableResendVerificationSub.asObservable(),this._fallbackEmail="placeholder-email@gmail.com",this._loadingSub=new y.a(!0),this._loading$=this._loadingSub.asObservable(),this._subscription=new E.a,this._accountGeneralDetails$=t.accountGeneralDetails$,this._internalServerErrorDetails$=t.internalServerErrorDetails$,this._problemDetails$=t.problemDetails$}return l(e,[{key:"ngOnInit",value:function(){var e=this;this._log.trace("Initialized.",this),this._loadingSub.next(!0),this._sb.getAccountGeneralInfo(),this._subscription.add(Object(P.a)(this._accountGeneralDetails$.pipe(Object(O.a)(1)),this._problemDetails$,this._internalServerErrorDetails$).pipe(Object(S.a)(function(e){return void 0!==e}),Object(k.a)(function(){e._sb.log.debug("Emitting `false` for loading.",e),e._loadingSub.next(!1)})).subscribe())}},{key:"ngOnDestroy",value:function(){this._log.trace("Destroyed.",this),this._subscription.unsubscribe()}},{key:"_onResendEmailVerificationClicked",value:function(){var e=this;this._sb.resendEmailVerification(),this._disableResendVerificationSub.next(!0),setTimeout(function(){e._disableResendVerificationSub.next(!1)},6e4)}},{key:"_getProblemDetailsErrorMessage",value:function(e){return e.detail}},{key:"_getInternalServerErrorMessage",value:function(e){return this._doesInternalServerErrorImplementOdmWebApiException(e)?e.detail:e.message}},{key:"_doesInternalServerErrorImplementOdmWebApiException",value:function(e){return Object(tt.a)(e)}}]),e}()).\u0275fac=function(e){return new(e||bt)(_.Qb(re),_.Qb(N.a))},bt.\u0275cmp=_.Kb({type:bt,selectors:[["odm-general-container"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"account-general"],[1,"account-general__email-settings",3,"ngClass"],[3,"loading","disableResendVerification","email","verified","resendEmailVerificationClicked"],[1,"account-general__error"],[3,"--error",4,"ngIf"],["matPrefix","",1,"account-general__req-not-met","account-general__error-format-position"]],template:function(e,t){1&e&&(_.Ac(0,ft,12,15,"ng-container",0),_.ic(1,"async")),2&e&&_.mc("ngIf",_.jc(1,1,t._accountGeneralDetails$))},directives:[b.k,b.i,dt,Fe.a,he.a,ze.i],pipes:[b.b],styles:[".account-general[_ngcontent-%COMP%]   .account-general__spacer-top[_ngcontent-%COMP%]{padding-top:var(--general-padding-list-item)}.account-general[_ngcontent-%COMP%]   .account-general__spacer-bottom[_ngcontent-%COMP%]{padding-bottom:var(--general-padding-list-item)}.account-general[_ngcontent-%COMP%]   .account-general__error[_ngcontent-%COMP%]{padding-top:8px;display:block}.account-general[_ngcontent-%COMP%]   .account-general__error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--error)}.account-general[_ngcontent-%COMP%]   .account-general__error[_ngcontent-%COMP%]   .account-general__error-format-position[_ngcontent-%COMP%]{width:15px;height:15px;vertical-align:text-top;font-size:15px}"],data:{animation:[m.f]},changeDetection:0}),bt),vt=r("xHqg"),wt=r("0FX9"),Ct=["qrcElement"],yt=((mt=function(){function e(t){u(this,e),this.renderer=t,this.colordark="",this.colorlight="",this.level="",this.hidetitle=!1,this.size=0,this.usesvg=!1,this.allowEmptyString=!1,this.qrdata="",this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.scale=4,this.width=10,""!==this.colordark&&console.warn("[angularx-qrcode] colordark is deprecated, use colorDark."),""!==this.colorlight&&console.warn("[angularx-qrcode] colorlight is deprecated, use colorLight."),""!==this.level&&console.warn("[angularx-qrcode] level is deprecated, use errorCorrectionLevel."),!1!==this.hidetitle&&console.warn("[angularx-qrcode] hidetitle is deprecated."),0!==this.size&&console.warn("[angularx-qrcode] size is deprecated, use `width`. Defaults to 10."),!1!==this.usesvg&&console.warn("[angularx-qrcode] usesvg is deprecated, use [elementType]=\"'svg'\".")}return l(e,[{key:"ngOnChanges",value:function(){this.createQRCode()}},{key:"isValidQrCodeText",value:function(e){return!1===this.allowEmptyString?!(void 0===e||""===e||"null"===e||null===e):!(void 0===e)}},{key:"toDataURL",value:function(){var e=this;return new Promise(function(t,n){Object(wt.toDataURL)(e.qrdata,{color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,version:e.version,width:e.width},function(e,i){e?n(e):t(i)})})}},{key:"toCanvas",value:function(e){var t=this;return new Promise(function(n,i){Object(wt.toCanvas)(e,t.qrdata,{color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,version:t.version,width:t.width},function(e){e?i(e):n("success")})})}},{key:"toSVG",value:function(){var e=this;return new Promise(function(t,n){Object(wt.toString)(e.qrdata,{color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,type:"svg",version:e.version,width:e.width},function(e,i){e?n(e):t(i)})})}},{key:"renderElement",value:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}(this.qrcElement.nativeElement.childNodes);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.renderer.removeChild(this.qrcElement.nativeElement,i)}}catch(r){n.e(r)}finally{n.f()}this.renderer.appendChild(this.qrcElement.nativeElement,e)}},{key:"createQRCode",value:function(){var e=this;this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error('[angularx-qrcode] Field `qrdata` is empty, set`allowEmptyString="true"` to overwrite this behaviour.');var t;switch(this.elementType){case"canvas":t=this.renderer.createElement("canvas"),this.toCanvas(t).then(function(){e.renderElement(t)}).catch(function(e){console.error("[angularx-qrcode] canvas error: ",e)});break;case"svg":t=this.renderer.createElement("div"),this.toSVG().then(function(n){e.renderer.setProperty(t,"innerHTML",n);var i=t.firstChild;e.renderer.setAttribute(i,"height","".concat(e.width)),e.renderer.setAttribute(i,"width","".concat(e.width)),e.renderElement(i)}).catch(function(e){console.error("[angularx-qrcode] svg error: ",e)});break;case"url":case"img":default:t=this.renderer.createElement("img"),this.toDataURL().then(function(n){t.setAttribute("src",n),e.renderElement(t)}).catch(function(e){console.error("[angularx-qrcode] img/url error: ",e)})}}catch(n){console.error("[angularx-qrcode] Error generating QR Code: ",n.message)}}}]),e}()).\u0275fac=function(e){return new(e||mt)(_.Qb(_.G))},mt.\u0275cmp=_.Kb({type:mt,selectors:[["qrcode"]],viewQuery:function(e,t){var n;1&e&&_.Fc(Ct,3),2&e&&_.qc(n=_.ec())&&(t.qrcElement=n.first)},inputs:{colordark:"colordark",colorlight:"colorlight",level:"level",hidetitle:"hidetitle",size:"size",usesvg:"usesvg",allowEmptyString:"allowEmptyString",qrdata:"qrdata",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",scale:"scale",width:"width",version:"version"},features:[_.Cb],decls:2,vars:2,consts:[["qrcElement",""]],template:function(e,t){1&e&&_.Rb(0,"div",null,0),2&e&&_.Gb(t.cssClass)},encapsulation:2,changeDetection:0}),mt),Et=((pt=function e(){u(this,e)}).\u0275fac=function(e){return new(e||pt)},pt.\u0275mod=_.Ob({type:pt}),pt.\u0275inj=_.Nb({providers:[]}),pt),Pt=r("eaX+"),Ot=["stepper"];function St(e,t){1&e&&(_.Cc(0),_.ic(1,"translate")),2&e&&_.Dc(_.jc(1,1,"odm.account.security.two-step.setup-wizard.first-step.title"))}function kt(e,t){1&e&&(_.Cc(0),_.ic(1,"translate")),2&e&&_.Dc(_.jc(1,1,"odm.account.security.two-step.setup-wizard.last-step.title"))}function Mt(e,t){if(1&e&&(_.Wb(0,"li"),_.Cc(1),_.Vb()),2&e){var n=t.$implicit;_.Eb(1),_.Dc(n)}}var At,jt,Rt=((jt=function(){function e(t){u(this,e),this._log=t,this.verificationCodeSubmitted=new _.o,this.cancelSetupWizardClicked=new _.o,this.finish2faSetupClicked=new _.o,this._codeVerificationSucceeded=!1,this._stepperIsLinear=!0,this._stepper2faSetupEditable=!1,this._qrBarCodeWidth=225,this._qrBarCodeSpinnerDiameter=oe.a,this._qrBarCodeSpinnerStrokeWidth=oe.b,this._is2faSetupCompleted=!1}return l(e,[{key:"twoFactorAuthenticationSetupResult",set:function(e){var t=this;this._log.debug("twoFactorAuthenticationSetupResult emitted.",this),"Succeeded"===e.status&&(this._codeVerificationSucceeded=!0,this._is2faSetupCompleted=!0,setTimeout(function(){t.setupWizard.next(),t._twoFactorAuthenticationSetupResult=e},1e3))}},{key:"twoFactorAuthenticationSetup",set:function(e){this._log.debug("twoFactorAuthenticationSetup emitted.",this),this._twoFactorAuthenticationSetup=e,e.authenticatorUri&&e.sharedKey&&this.verificationCodeForm.get("code").enable()}},{key:"ngOnDestroy",value:function(){this._log.trace("Destroyed.",this),this.cancelSetupWizardClicked.emit(),this._log.trace("cancelSetupWizardClicked emitted from ngOnDestroy. Notifing parent that setup wizard no longer needs to be displayed.",this)}},{key:"_onVerificationCodeSubmitted",value:function(e){this._log.trace("_onVerificationCodeSubmitted fired.",this),this.verificationCodeSubmitted.emit(e)}},{key:"_onFinishSetup",value:function(){this._log.trace("_onRestartOrFinishClicked fired.",this),this.finish2faSetupClicked.emit(this._twoFactorAuthenticationSetupResult)}},{key:"_onCancelClicked",value:function(){this._log.trace("_onCancelClicked fired.",this),this.cancelSetupWizardClicked.emit()}}]),e}()).\u0275fac=function(e){return new(e||jt)(_.Qb(N.a))},jt.\u0275cmp=_.Kb({type:jt,selectors:[["odm-two-factor-authentication-setup-wizard"]],viewQuery:function(e,t){var n;1&e&&_.Fc(Ot,1),2&e&&_.qc(n=_.ec())&&(t.setupWizard=n.first)},inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",codeVerificationInProgress:"codeVerificationInProgress",verificationCodeForm:"verificationCodeForm",twoFactorAuthenticationSetupResult:"twoFactorAuthenticationSetupResult",twoFactorAuthenticationSetup:"twoFactorAuthenticationSetup"},outputs:{verificationCodeSubmitted:"verificationCodeSubmitted",cancelSetupWizardClicked:"cancelSetupWizardClicked",finish2faSetupClicked:"finish2faSetupClicked"},decls:37,vars:32,consts:[[1,"setup-wizard"],[3,"linear"],["stepper",""],[3,"editable","completed"],["matStepLabel",""],[3,"qrdata","width","errorCorrectionLevel","elementType"],[1,"setup-wizard__verification-form"],[3,"form","codeVerificationInProgress","codeVerificationSucceeded","problemDetails","internalServerErrorDetails","verificationCodeSubmitted","cancelSetupWizardClicked"],[1,"setup-wizard__final-step"],[1,"setup-wizard__format-codes"],[4,"ngFor","ngForOf"],["mat-button","","mat-stroked-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(_.Wb(0,"div"),_.Wb(1,"div",0),_.Wb(2,"mat-vertical-stepper",1,2),_.Wb(4,"mat-step",3),_.Ac(5,St,2,3,"ng-template",4),_.Wb(6,"p"),_.Cc(7),_.ic(8,"translate"),_.Vb(),_.Wb(9,"h3"),_.Cc(10),_.Vb(),_.Wb(11,"div"),_.Rb(12,"qrcode",5),_.Vb(),_.Wb(13,"p"),_.Cc(14),_.ic(15,"translate"),_.Vb(),_.Wb(16,"div",6),_.Wb(17,"odm-verification-code",7),_.dc("verificationCodeSubmitted",function(e){return t._onVerificationCodeSubmitted(e)})("cancelSetupWizardClicked",function(){return t._onCancelClicked()}),_.Vb(),_.Vb(),_.Vb(),_.Wb(18,"mat-step"),_.Wb(19,"div",8),_.Ac(20,kt,2,3,"ng-template",4),_.Wb(21,"h3"),_.Cc(22),_.ic(23,"translate"),_.Vb(),_.Wb(24,"p"),_.Cc(25),_.ic(26,"translate"),_.Vb(),_.Wb(27,"p"),_.Cc(28),_.ic(29,"translate"),_.Vb(),_.Wb(30,"div"),_.Wb(31,"ol",9),_.Ac(32,Mt,2,1,"li",10),_.Vb(),_.Vb(),_.Wb(33,"div"),_.Wb(34,"button",11),_.dc("click",function(){return t._onFinishSetup()}),_.Cc(35),_.ic(36,"translate"),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb()),2&e&&(_.Eb(2),_.mc("linear",t._stepperIsLinear),_.Eb(2),_.mc("editable",t._stepper2faSetupEditable)("completed",t._is2faSetupCompleted),_.Eb(3),_.Ec(" ",_.jc(8,20,"odm.account.security.two-step.setup-wizard.first-step.instructions.qr-code")," "),_.Eb(3),_.Dc(null==t._twoFactorAuthenticationSetup?null:t._twoFactorAuthenticationSetup.sharedKey),_.Eb(2),_.mc("qrdata",null==t._twoFactorAuthenticationSetup?null:t._twoFactorAuthenticationSetup.authenticatorUri)("width",t._qrBarCodeWidth)("errorCorrectionLevel","M")("elementType","svg"),_.Eb(2),_.Ec(" ",_.jc(15,22,"odm.account.security.two-step.setup-wizard.first-step.instructions.verification-code")," "),_.Eb(3),_.mc("form",t.verificationCodeForm)("codeVerificationInProgress",t.codeVerificationInProgress)("codeVerificationSucceeded",t._codeVerificationSucceeded)("problemDetails",t.problemDetails)("internalServerErrorDetails",t.internalServerErrorDetails),_.Eb(5),_.Dc(_.jc(23,24,"odm.account.security.two-step.setup-wizard.last-step.header")),_.Eb(3),_.Dc(_.jc(26,26,"odm.account.security.two-step.setup-wizard.last-step.information")),_.Eb(3),_.Dc(_.jc(29,28,"odm.account.security.two-step.setup-wizard.last-step.save-codes")),_.Eb(4),_.mc("ngForOf",null==t._twoFactorAuthenticationSetupResult||null==t._twoFactorAuthenticationSetupResult.recoveryCodes?null:t._twoFactorAuthenticationSetupResult.recoveryCodes.items),_.Eb(3),_.Ec(" ",_.jc(36,30,"odm.buttons.finish")," "))},directives:[vt.d,vt.a,vt.b,yt,Pt.a,b.j,be.b],pipes:[w.c],styles:[".setup-wizard[_ngcontent-%COMP%]{position:relative;z-index:110}.setup-wizard[_ngcontent-%COMP%]   .setup-wizard__verification-form[_ngcontent-%COMP%]   .setup-wizard__action-buttons[_ngcontent-%COMP%]{margin-top:20px}.setup-wizard[_ngcontent-%COMP%]   .setup-wizard__final-step[_ngcontent-%COMP%]   .setup-wizard__format-codes[_ngcontent-%COMP%]{-moz-columns:2;column-count:2;padding-left:20px}@media (min-width:576px){.setup-wizard__final-step[_ngcontent-%COMP%]   .setup-wizard__format-codes[_ngcontent-%COMP%]{-moz-columns:2;column-count:2;max-width:500px}}"],changeDetection:0}),jt),Vt=((At=function(){function e(t,n){u(this,e),this._sb=t,this._route=n,this._subscription=new E.a,this._authenticatorSetup$=t.twoFactorAuthenticationSetup$,this._authenticatorSetupResult$=t.twoFactorAuthenticationSetupResult$,this._problemDetails$=t.problemDetails$,this._internalServerErrorDetails$=t.internalServerErrorDetails$}return l(e,[{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._verificationCodeForm=this._initVerificationCodeForm(),this._subscription.add(this._listenForServerErrors$().subscribe())}},{key:"_onVerifyAuthenticatorSubmitted",value:function(e){this._sb.log.trace("_onVerifyAuthenticator fired.",this),this._codeVerificationInProgress=!0,this._sb.verifyAuthenticator(e)}},{key:"_onCancelSetupWizardClicked",value:function(){this._sb.log.trace("_onCancelSetupWizard fired.",this),this._verificationCodeForm.reset(),this._sb.router.navigate(["security"],{relativeTo:this._route.parent}),this._sb.cancel2faSetupWizard()}},{key:"_onFinish2faSetupClicked",value:function(e){this._sb.log.trace("_onFinish2faSetup fired.",this),this._sb.router.navigate(["security"],{relativeTo:this._route.parent}),this._sb.finish2faSetup(e)}},{key:"_listenForServerErrors$",value:function(){var e=this;return this._sb.log.trace("_listenForServerErrors$ fired.",this),Object(P.a)(this._sb.problemDetails$,this._sb.internalServerErrorDetails$,this._authenticatorSetupResult$.pipe(Object(O.a)(1))).pipe(Object(k.a)(function(){return e._codeVerificationInProgress=!1}))}},{key:"_initVerificationCodeForm",value:function(){return this._sb.fb.group({code:this._sb.fb.control({value:"",disabled:!0},{validators:[Be.b.required,Be.b.minLength(Be.c),Be.b.maxLength(Be.c)],updateOn:"change"})})}}]),e}()).\u0275fac=function(e){return new(e||At)(_.Qb(re),_.Qb(p.a))},At.\u0275cmp=_.Kb({type:At,selectors:[["odm-two-factor-authentication-setup-wizard-container"]],decls:7,vars:14,consts:[[1,"setup-wizard-overlay"],[3,"verificationCodeForm","twoFactorAuthenticationSetupResult","twoFactorAuthenticationSetup","codeVerificationInProgress","problemDetails","internalServerErrorDetails","verificationCodeSubmitted","cancelSetupWizardClicked","finish2faSetupClicked"]],template:function(e,t){1&e&&(_.Rb(0,"div",0),_.Wb(1,"div"),_.Wb(2,"odm-two-factor-authentication-setup-wizard",1),_.dc("verificationCodeSubmitted",function(e){return t._onVerifyAuthenticatorSubmitted(e)})("cancelSetupWizardClicked",function(){return t._onCancelSetupWizardClicked()})("finish2faSetupClicked",function(e){return t._onFinish2faSetupClicked(e)}),_.ic(3,"async"),_.ic(4,"async"),_.ic(5,"async"),_.ic(6,"async"),_.Vb(),_.Vb()),2&e&&(_.Eb(2),_.mc("verificationCodeForm",t._verificationCodeForm)("twoFactorAuthenticationSetupResult",_.jc(3,6,t._authenticatorSetupResult$))("twoFactorAuthenticationSetup",_.jc(4,8,t._authenticatorSetup$))("codeVerificationInProgress",t._codeVerificationInProgress)("problemDetails",_.jc(5,10,t._problemDetails$))("internalServerErrorDetails",_.jc(6,12,t._internalServerErrorDetails$)))},directives:[Rt],pipes:[b.b],styles:[".setup-wizard-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;opacity:.5;z-index:100}"],changeDetection:0}),At);function Dt(e,t){1&e&&(_.Wb(0,"span",16),_.Cc(1),_.ic(2,"translate"),_.Wb(3,"span"),_.Cc(4,"."),_.Vb(),_.Wb(5,"span"),_.Cc(6,"."),_.Vb(),_.Wb(7,"span"),_.Cc(8,"."),_.Vb(),_.Vb()),2&e&&(_.Eb(1),_.Dc(_.jc(2,1,"odm.auth.checking-availability")))}function Ft(e,t){1&e&&(_.Wb(0,"span"),_.Wb(1,"mat-icon",17),_.Cc(2),_.Vb(),_.Cc(3),_.ic(4,"translate"),_.Vb()),2&e&&(_.Eb(2),_.Dc("check"),_.Eb(1),_.Ec(" ",_.jc(4,2,"odm.auth.form.validations.valid-email")," "))}function Tt(e,t){if(1&e&&(_.Wb(0,"span"),_.Wb(1,"mat-icon",18),_.Cc(2),_.Vb(),_.Cc(3),_.ic(4,"async"),_.Vb()),2&e){var n=_.hc(2);_.Eb(2),_.Dc("clear"),_.Eb(1),_.Ec(" ",_.jc(4,2,n._getErrorMessage$(null==n.changeEmailForm?null:n.changeEmailForm.get("newEmail")))," ")}}function Wt(e,t){if(1&e&&(_.Ub(0),_.Ac(1,Dt,9,3,"span",15),_.Ac(2,Ft,5,4,"span",8),_.Ac(3,Tt,5,4,"span",8),_.Tb()),2&e){var n=t.ngIf,i=_.hc();_.Eb(1),_.mc("ngIf","PENDING"===n),_.Eb(1),_.mc("ngIf","VALID"===n),_.Eb(1),_.mc("ngIf",i._ifControlFieldIsInvalid(null==i.changeEmailForm?null:i.changeEmailForm.get("newEmail")))}}function It(e,t){if(1&e&&(_.Wb(0,"mat-error"),_.Cc(1),_.ic(2,"async"),_.Vb()),2&e){var n=_.hc();_.Eb(1),_.Dc(_.jc(2,1,n._getErrorMessage$(null==n.changeEmailForm?null:n.changeEmailForm.get("newEmail"))))}}function xt(e,t){if(1&e&&(_.Wb(0,"mat-error"),_.Cc(1),_.ic(2,"async"),_.Vb()),2&e){var n=_.hc();_.Eb(1),_.Dc(_.jc(2,1,n._getErrorMessage$(null==n.changeEmailForm?null:n.changeEmailForm.get("password"))))}}function qt(e,t){if(1&e&&(_.Ub(0),_.Rb(1,"odm-spinner",19),_.Tb()),2&e){var n=_.hc();_.Eb(1),_.mc("type","button")("spinnerColor","accent")("diameter",n._changingEmailSpinnerDiameter)("strokeWidth",n._changingEmailSpinnerStrokeWidth)}}var $t,Bt,Nt,Lt,zt=(($t=function(t){e(r,t);var i=n(r);function r(e,t,n){var o;return u(this,r),(o=i.call(this,e,t,n)).translateErrorValidationService=e,o.log=t,o.cd=n,o.changeEmailRequestSubmitted=new _.o,o.cancelClicked=new _.o,o._currentPasswordHide=!0,o._changingEmailSpinnerDiameter=oe.c,o._changingEmailSpinnerStrokeWidth=oe.d,o}return l(r,[{key:"problemDetails",set:function(e){this.log.debug("Problem details emitted.",this),this.problemDetailsError=e}},{key:"internalServerErrorDetails",set:function(e){this.log.debug("Internal server error emitted.",this),this.internalServerError=e}},{key:"_onChangeEmail",value:function(){this.log.trace("_onChangePassword fired.",this),this.changeEmailRequestSubmitted.emit()}},{key:"_cancelClicked",value:function(){this.log.trace("_cancelClicked fired.",this),this.cancelClicked.emit()}}]),r}(Ne.a)).\u0275fac=function(e){return new(e||$t)(_.Qb(ne.a),_.Qb(N.a),_.Qb(_.i))},$t.\u0275cmp=_.Kb({type:$t,selectors:[["odm-change-email"]],inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",changeEmailForm:"changeEmailForm",emailChangeInProgress:"emailChangeInProgress"},outputs:{changeEmailRequestSubmitted:"changeEmailRequestSubmitted",cancelClicked:"cancelClicked"},features:[_.Bb],decls:39,vars:25,consts:[[1,"change-email-container"],[1,"change-email-container__change"],[1,"change-email__card"],["mat-card-avatar","",1,"change-email-container__header-image"],[3,"formGroup"],[1,"auth__new-email-field"],["appearance","standard"],["matInput","","formControlName","newEmail","type","text","autocomplete","new-email","required",""],[4,"ngIf"],["matSuffix",""],[1,"auth__password-field"],["matInput","","formControlName","password","autocomplete","password","required","",3,"type"],["matSuffix","",1,"auth__view-password",3,"click"],["mat-button","","mat-stroked-button","","color","accent","type","button",3,"disabled","click"],["mat-button","","type","button",3,"click"],["class","loading-dots-animation",4,"ngIf"],[1,"loading-dots-animation"],["matPrefix","",1,"auth--req-met"],["matPrefix","",1,"auth--req-not-met"],[3,"type","spinnerColor","diameter","strokeWidth"]],template:function(e,t){1&e&&(_.Wb(0,"div",0),_.Wb(1,"div",1),_.Wb(2,"mat-card",2),_.Wb(3,"mat-card-header"),_.Rb(4,"div",3),_.Wb(5,"mat-card-title"),_.Cc(6),_.ic(7,"translate"),_.Vb(),_.Vb(),_.Wb(8,"mat-card-content"),_.Wb(9,"form",4),_.Wb(10,"div",5),_.Wb(11,"mat-form-field",6),_.Wb(12,"mat-label"),_.Cc(13),_.ic(14,"translate"),_.Vb(),_.Rb(15,"input",7),_.Wb(16,"mat-hint"),_.Ac(17,Wt,4,3,"ng-container",8),_.ic(18,"async"),_.Vb(),_.Wb(19,"mat-icon",9),_.Cc(20,"email"),_.Vb(),_.Ac(21,It,3,3,"mat-error",8),_.Vb(),_.Vb(),_.Wb(22,"div",10),_.Wb(23,"mat-form-field",6),_.Wb(24,"mat-label"),_.Cc(25),_.ic(26,"translate"),_.Vb(),_.Rb(27,"input",11),_.Wb(28,"mat-icon",12),_.dc("click",function(){return t._currentPasswordHide=!t._currentPasswordHide}),_.Cc(29),_.Vb(),_.Ac(30,xt,3,3,"mat-error",8),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Wb(31,"mat-card-actions"),_.Wb(32,"button",13),_.dc("click",function(){return t._onChangeEmail()}),_.Cc(33),_.ic(34,"translate"),_.Ac(35,qt,2,4,"ng-container",8),_.Vb(),_.Wb(36,"button",14),_.dc("click",function(){return t._cancelClicked()}),_.Cc(37),_.ic(38,"translate"),_.Vb(),_.Vb(),_.Vb(),_.Vb(),_.Vb()),2&e&&(_.Eb(6),_.Dc(_.jc(7,13,"odm.account.general.email.change.title")),_.Eb(3),_.mc("formGroup",t.changeEmailForm),_.Eb(4),_.Dc(_.jc(14,15,"odm.auth.form.label.new-email")),_.Eb(4),_.mc("ngIf",_.jc(18,17,t.changeEmailForm.get("newEmail").statusChanges)),_.Eb(4),_.mc("ngIf",t._ifControlFieldIsInvalid(null==t.changeEmailForm?null:t.changeEmailForm.get("newEmail"))),_.Eb(4),_.Dc(_.jc(26,19,"odm.auth.form.label.password")),_.Eb(2),_.mc("type",t._currentPasswordHide?"password":"text"),_.Eb(2),_.Dc(t._currentPasswordHide?"visibility_off":"visibility"),_.Eb(1),_.mc("ngIf",t._ifControlFieldIsInvalid(null==t.changeEmailForm?null:t.changeEmailForm.get("password"))),_.Eb(2),_.mc("disabled",!(null!=t.changeEmailForm&&t.changeEmailForm.valid)||t.emailChangeInProgress),_.Eb(1),_.Ec(" ",_.jc(34,21,"odm.buttons.change")," "),_.Eb(2),_.mc("ngIf",t.emailChangeInProgress),_.Eb(2),_.Dc(_.jc(38,23,"odm.buttons.cancel")))},directives:[Le.a,Le.e,Le.c,Le.h,Le.d,te.s,te.m,te.f,ze.c,ze.g,Ue.b,te.c,te.l,te.e,te.q,ze.f,b.k,he.a,ze.j,Le.b,be.b,ze.i,ze.b,le.a],pipes:[w.c,b.b],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card-actions[_ngcontent-%COMP%]{width:80%;margin:0 auto}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:45%}.mat-card[_ngcontent-%COMP%] > .mat-card-actions[_ngcontent-%COMP%]:last-child{margin-bottom:0}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]{position:relative;z-index:110}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email--invisible[_ngcontent-%COMP%]{display:block;visibility:hidden;height:0;width:0}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email-container__header-image[_ngcontent-%COMP%]{background-image:url(change_info.626c1782359462b934c7.png);background-size:cover}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__current-password-field[_ngcontent-%COMP%], .change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__new-password-field[_ngcontent-%COMP%], .change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__title[_ngcontent-%COMP%]{width:80%;margin:0 auto}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__confirm-password-field[_ngcontent-%COMP%]{margin:12px auto;width:80%}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__card[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__card[_ngcontent-%COMP%]   .auth__current-email-field[_ngcontent-%COMP%], .change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__card[_ngcontent-%COMP%]   .auth__new-email-field[_ngcontent-%COMP%], .change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__card[_ngcontent-%COMP%]   .auth__password-field[_ngcontent-%COMP%]{width:80%;margin:0 auto}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .change-email__card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__password-field-help-on[_ngcontent-%COMP%]{margin-bottom:111px;transition:margin-bottom .3s ease-in}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__password-field-help-off[_ngcontent-%COMP%]{margin-bottom:0;transition:margin-bottom .3s ease-in}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__confirm-password-field[_ngcontent-%COMP%]{padding-top:12px}.change-email-container[_ngcontent-%COMP%]   .change-email-container__change[_ngcontent-%COMP%]   .auth__view-password[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),$t),Ut=[{path:"",component:C,canActivate:[m.a],data:{title:"odm.account"},children:[{path:"",redirectTo:"general",pathMatch:"full"},{path:"general",component:_t},{path:"general/change-email",component:(Bt=function(){function e(t,n){u(this,e),this._sb=t,this._route=n,this._subscription=new E.a,this._problemDetails$=t.problemDetails$,this._internalServerErrorDetails$=t.internalServerErrorDetails$,this._changeEmailRequestSent$=t.changeEmailRequestSent$}return l(e,[{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._changeEmailForm=this._initChangeEmailForm(),this._subscription.add(this._onChangeEmailRequestSent$().subscribe()),this._subscription.add(this._listenForServerErrors$().subscribe())}},{key:"_onRequestToChangeEmailClicked",value:function(){this._sb.log.trace("_onRequestToChangeEmailClicked fired.",this),this._emailChangeInProgress=!0,this._sb.requestToChangeEmail(this._changeEmailForm.value)}},{key:"_onCancelClicked",value:function(){this._sb.log.trace("_onCancelClicked fired.",this),this._sb.router.navigate(["general"],{relativeTo:this._route.parent})}},{key:"_onChangeEmailRequestSent$",value:function(){var e=this;return this._sb.log.trace("_onChangeEmailRequestSent$ fired.",this),this._changeEmailRequestSent$.pipe(Object(O.a)(1),Object(k.a)(function(t){return t?void e._sb.router.navigate(["general"],{relativeTo:e._route.parent}):null}),Object(k.a)(function(){return e._sb.changeEmailRequestSent({changeEmailRequestSent:!1})}))}},{key:"_listenForServerErrors$",value:function(){var e=this;return this._sb.log.trace("_listenForServerErrors$ fired.",this),Object(P.a)(this._problemDetails$,this._internalServerErrorDetails$).pipe(Object(k.a)(function(){e._emailChangeInProgress=!1}))}},{key:"_initChangeEmailForm",value:function(){return this._sb.log.trace("_initChangeEmailForm fired.",this),this._sb.fb.group({newEmail:this._sb.fb.control("",{validators:[Be.b.required,Be.b.email],asyncValidators:[this._sb.asyncValidators.checkIfEmailIsUnique()],updateOn:"blur"}),password:this._sb.fb.control("",Be.b.required)})}}]),e}(),Bt.\u0275fac=function(e){return new(e||Bt)(_.Qb(re),_.Qb(p.a))},Bt.\u0275cmp=_.Kb({type:Bt,selectors:[["odm-change-email-container"]],decls:5,vars:8,consts:[[1,"change-email-overlay"],[3,"changeEmailForm","emailChangeInProgress","problemDetails","internalServerErrorDetails","changeEmailRequestSubmitted","cancelClicked"]],template:function(e,t){1&e&&(_.Rb(0,"div",0),_.Wb(1,"div"),_.Wb(2,"odm-change-email",1),_.dc("changeEmailRequestSubmitted",function(){return t._onRequestToChangeEmailClicked()})("cancelClicked",function(){return t._onCancelClicked()}),_.ic(3,"async"),_.ic(4,"async"),_.Vb(),_.Vb()),2&e&&(_.Eb(2),_.mc("changeEmailForm",t._changeEmailForm)("emailChangeInProgress",t._emailChangeInProgress)("problemDetails",_.jc(3,4,t._problemDetails$))("internalServerErrorDetails",_.jc(4,6,t._internalServerErrorDetails$)))},directives:[zt],pipes:[b.b],styles:[".change-email-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;opacity:.5;z-index:100}"],changeDetection:0}),Bt)},{path:"security",component:xe},{path:"security/change-password",component:et},{path:"security/two-factor-authentication-setup",component:Vt}]}],Ht=((Nt=function e(){u(this,e)}).\u0275fac=function(e){return new(e||Nt)},Nt.\u0275mod=_.Ob({type:Nt}),Nt.\u0275inj=_.Nb({imports:[[p.l.forChild(Ut)],p.l]}),Nt),Qt=r("PCNd"),Kt=((Lt=function e(){u(this,e)}).\u0275fac=function(e){return new(e||Lt)},Lt.\u0275mod=_.Ob({type:Lt}),Lt.\u0275inj=_.Nb({providers:[re],imports:[[b.c,Ht,Et,Qt.a,D.d.forFeature([z,Z,K])]]}),Lt)},Rb7d:function(e,t){function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=e.width&&e.width>=21?e.width:void 0;return{width:t,scale:t?4:e.scale||4,margin:null==e.margin||e.margin<0?4:e.margin,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){var i=t.getScale(e,n);return Math.floor((e+2*n.margin)*i)},t.qrToImageData=function(e,n,i){for(var r=n.modules.size,o=n.modules.data,a=t.getScale(r,i),c=Math.floor((r+2*i.margin)*a),s=i.margin*a,l=[i.color.light,i.color.dark],u=0;u<c;u++)for(var d=0;d<c;d++){var g=4*(u*c+d),h=i.color.light;u>=s&&d>=s&&u<c-s&&d<c-s&&(h=l[o[Math.floor((u-s)/a)*r+Math.floor((d-s)/a)]?1:0]),e[g++]=h.r,e[g++]=h.g,e[g++]=h.b,e[g]=h.a}}},V35J:function(e,t,n){var i=n("Wogr");function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new i(e*e),this.data.fill(0),this.reservedBit=new i(e*e),this.reservedBit.fill(0)}r.prototype.set=function(e,t,n,i){var r=e*this.size+t;this.data[r]=n,i&&(this.reservedBit[r]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=r},Wogr:function(e,t,n){"use strict";var i=n("7uVY"),r=(o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}())?2147483647:1073741823;function o(e,t,n){return o.TYPED_ARRAY_SUPPORT||this instanceof o?"number"==typeof e?s(this,e):function(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");var r;return r=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),o.TYPED_ARRAY_SUPPORT?r.__proto__=o.prototype:r=l(e,r),r}(e,t,n,i):"string"==typeof t?function(e,t){var n=0|d(t),i=c(e,n),r=i.write(t);return r!==n&&(i=i.slice(0,r)),i}(e,t):function(e,t){if(o.isBuffer(t)){var n=0|a(t.length),i=c(e,n);return 0===i.length||t.copy(i,0,0,n),i}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?c(e,0):l(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return l(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,n):new o(e,t,n)}function a(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function c(e,t){var n;return o.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=o.prototype:(null===(n=e)&&(n=new o(t)),n.length=t),n}function s(e,t){var n=c(e,t<0?0:0|a(t));if(!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)n[i]=0;return n}function l(e,t){for(var n=t.length<0?0:0|a(t.length),i=c(e,n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function u(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function d(e){return o.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:u(e).length)}o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),o.prototype.write=function(e,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(e,t,n,i){return function(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}(u(t,e.length-n),e,n,i)}(this,e,t,n)},o.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=o.prototype;else{var r=t-e;n=new o(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+e]}return n},o.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var a=o.isBuffer(e)?e:new o(e),c=a.length;for(r=0;r<n-t;++r)this[r+t]=a[r%c]}return this},o.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c(null,0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s(null,t),a=0;for(n=0;n<e.length;++n){var l=e[n];if(!o.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(r,a),a+=l.length}return r},o.byteLength=d,o.prototype._isBuffer=!0,o.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.exports=o},Z92M:function(e,t){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},aZ40:function(e,t,n){var i,r,o=n("Wogr");o.alloc?(i=o.alloc(512),r=o.alloc(256)):(i=new o(512),r=new o(256)),function(){for(var e=1,t=0;t<255;t++)i[t]=e,r[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)i[t]=i[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return i[e]},t.mul=function(e,t){return 0===e||0===t?0:i[r[e]+r[t]]}},"e/Dd":function(e,t){var n,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return i[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},e6BP:function(e,t){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},eQOe:function(e,t){function n(e,n,i){switch(e){case t.Patterns.PATTERN000:return(n+i)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return i%3==0;case t.Patterns.PATTERN011:return(n+i)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2==0;case t.Patterns.PATTERN101:return n*i%2+n*i%3==0;case t.Patterns.PATTERN110:return(n*i%2+n*i%3)%2==0;case t.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,n=0,i=0,r=0,o=null,a=null,c=0;c<t;c++){i=r=0,o=a=null;for(var s=0;s<t;s++){var l=e.get(c,s);l===o?i++:(i>=5&&(n+=i-5+3),o=l,i=1),(l=e.get(s,c))===a?r++:(r>=5&&(n+=r-5+3),a=l,r=1)}i>=5&&(n+=i-5+3),r>=5&&(n+=r-5+3)}return n},t.getPenaltyN2=function(e){for(var t=e.size,n=0,i=0;i<t-1;i++)for(var r=0;r<t-1;r++){var o=e.get(i,r)+e.get(i,r+1)+e.get(i+1,r)+e.get(i+1,r+1);4!==o&&0!==o||n++}return 3*n},t.getPenaltyN3=function(e){for(var t=e.size,n=0,i=0,r=0,o=0;o<t;o++){i=r=0;for(var a=0;a<t;a++)i=i<<1&2047|e.get(o,a),a>=10&&(1488===i||93===i)&&n++,r=r<<1&2047|e.get(a,o),a>=10&&(1488===r||93===r)&&n++}return 40*n},t.getPenaltyN4=function(e){for(var t=0,n=e.data.length,i=0;i<n;i++)t+=e.data[i];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},t.applyMask=function(e,t){for(var i=t.size,r=0;r<i;r++)for(var o=0;o<i;o++)t.isReserved(o,r)||t.xor(o,r,n(e,o,r))},t.getBestMask=function(e,n){for(var i=Object.keys(t.Patterns).length,r=0,o=1/0,a=0;a<i;a++){n(a),t.applyMask(a,e);var c=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),c<o&&(o=c,r=a)}return r}},ekOh:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(i){return n}}},jSPq:function(e,t,n){var i=n("Wogr"),r=n("JzKC");function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new i(this.degree);t.fill(0);var n=i.concat([e,t],e.length+this.degree),o=r.mod(n,this.genPoly),a=this.degree-o.length;if(a>0){var c=new i(this.degree);return c.fill(0),o.copy(c,a),c}return o},e.exports=o},"kk9/":function(e,t,n){var i=n("e/Dd").getSymbolSize;t.getPositions=function(e){var t=i(e);return[[0,0],[t-7,0],[0,t-7]]}},lYJp:function(e,t,n){var i=n("e/Dd"),r=i.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,o=n<<10;i.getBCHDigit(o)-r>=0;)o^=1335<<i.getBCHDigit(o)-r;return 21522^(n<<10|o)}},nZSm:function(e,t,n){var i=n("u/Db"),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=i.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*r.indexOf(this.data[t]);n+=r.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(r.indexOf(this.data[t]),6)},e.exports=o},qmMu:function(e,t,n){var i=n("Wogr"),r=n("e/Dd"),o=n("ekOh"),a=n("e6BP"),c=n("V35J"),s=n("1sBl"),l=n("kk9/"),u=n("eQOe"),d=n("NPxG"),g=n("jSPq"),h=n("yKow"),f=n("lYJp"),b=n("u/Db"),p=n("vvrf"),m=n("7uVY");function _(e,t,n){var i,r,o=e.size,a=f.getEncodedBits(t,n);for(i=0;i<15;i++)e.set(i<6?i:i<8?i+1:o-15+i,8,r=1==(a>>i&1),!0),e.set(8,i<8?o-i-1:i<9?15-i-1+1:15-i-1,r,!0);e.set(o-8,8,1,!0)}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,f,v=o.M;return void 0!==t&&(v=o.from(t.errorCorrectionLevel,o.M),n=h.from(t.version),f=u.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),function(e,t,n,o){var f;if(m(e))f=p.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var v=t;if(!v){var w=p.rawSplit(e);v=h.getBestVersionForData(w,n)}f=p.fromString(e,v||40)}var C=h.getBestVersionForData(f,n);if(!C)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<C)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+C+".\n")}else t=C;var y=function(e,t,n){var o=new a;n.forEach(function(t){o.put(t.mode.bit,4),o.put(t.getLength(),b.getCharCountIndicator(t.mode,e)),t.write(o)});var c=8*(r.getSymbolTotalCodewords(e)-d.getTotalCodewordsCount(e,t));for(o.getLengthInBits()+4<=c&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var s=(c-o.getLengthInBits())/8,l=0;l<s;l++)o.put(l%2?17:236,8);return function(e,t,n){for(var o=r.getSymbolTotalCodewords(t),a=o-d.getTotalCodewordsCount(t,n),c=d.getBlocksCount(t,n),s=c-o%c,l=Math.floor(o/c),u=Math.floor(a/c),h=u+1,f=l-u,b=new g(f),p=0,m=new Array(c),_=new Array(c),v=0,w=new i(e.buffer),C=0;C<c;C++){var y=C<s?u:h;m[C]=w.slice(p,p+y),_[C]=b.encode(m[C]),p+=y,v=Math.max(v,y)}var E,P,O=new i(o),S=0;for(E=0;E<v;E++)for(P=0;P<c;P++)E<m[P].length&&(O[S++]=m[P][E]);for(E=0;E<f;E++)for(P=0;P<c;P++)O[S++]=_[P][E];return O}(o,e,t)}(t,n,f),E=r.getSymbolSize(t),P=new c(E);return function(e,t){for(var n=e.size,i=l.getPositions(t),r=0;r<i.length;r++)for(var o=i[r][0],a=i[r][1],c=-1;c<=7;c++)if(!(o+c<=-1||n<=o+c))for(var s=-1;s<=7;s++)a+s<=-1||n<=a+s||e.set(o+c,a+s,c>=0&&c<=6&&(0===s||6===s)||s>=0&&s<=6&&(0===c||6===c)||c>=2&&c<=4&&s>=2&&s<=4,!0)}(P,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var i=n%2==0;e.set(n,6,i,!0),e.set(6,n,i,!0)}}(P),function(e,t){for(var n=s.getPositions(t),i=0;i<n.length;i++)for(var r=n[i][0],o=n[i][1],a=-2;a<=2;a++)for(var c=-2;c<=2;c++)e.set(r+a,o+c,-2===a||2===a||-2===c||2===c||0===a&&0===c,!0)}(P,t),_(P,n,0),t>=7&&function(e,t){for(var n,i,r,o=e.size,a=h.getEncodedBits(t),c=0;c<18;c++)n=Math.floor(c/3),e.set(n,i=c%3+o-8-3,r=1==(a>>c&1),!0),e.set(i,n,r,!0)}(P,t),function(e,t){for(var n=e.size,i=-1,r=n-1,o=7,a=0,c=n-1;c>0;c-=2)for(6===c&&c--;;){for(var s=0;s<2;s++)if(!e.isReserved(r,c-s)){var l=!1;a<t.length&&(l=1==(t[a]>>>o&1)),e.set(r,c-s,l),-1==--o&&(a++,o=7)}if((r+=i)<0||n<=r){r-=i,i=-i;break}}}(P,y),isNaN(o)&&(o=u.getBestMask(P,_.bind(null,P,n))),u.applyMask(o,P),_(P,n,o),{modules:P,version:t,errorCorrectionLevel:n,maskPattern:o,segments:f}}(e,n,v,f)}},"u/Db":function(e,t,n){var i=n("J6Nv"),r=n("BCVQ");t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!i.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return r.testNumeric(e)?t.NUMERIC:r.testAlphanumeric(e)?t.ALPHANUMERIC:r.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(i){return n}}},vvrf:function(e,t,n){var i=n("u/Db"),r=n("3X7Y"),o=n("nZSm"),a=n("AZa5"),c=n("Lzq4"),s=n("BCVQ"),l=n("e/Dd"),u=n("ELBg");function d(e){return unescape(encodeURIComponent(e)).length}function g(e,t,n){for(var i,r=[];null!==(i=e.exec(n));)r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function h(e){var t,n,r=g(s.NUMERIC,i.NUMERIC,e),o=g(s.ALPHANUMERIC,i.ALPHANUMERIC,e);return l.isKanjiModeEnabled()?(t=g(s.BYTE,i.BYTE,e),n=g(s.KANJI,i.KANJI,e)):(t=g(s.BYTE_KANJI,i.BYTE,e),n=[]),r.concat(o,t,n).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function f(e,t){switch(t){case i.NUMERIC:return r.getBitsLength(e);case i.ALPHANUMERIC:return o.getBitsLength(e);case i.KANJI:return c.getBitsLength(e);case i.BYTE:return a.getBitsLength(e)}}function b(e,t){var n,s=i.getBestModeForData(e);if((n=i.from(t,s))!==i.BYTE&&n.bit<s.bit)throw new Error('"'+e+'" cannot be encoded with mode '+i.toString(n)+".\n Suggested mode is: "+i.toString(s));switch(n!==i.KANJI||l.isKanjiModeEnabled()||(n=i.BYTE),n){case i.NUMERIC:return new r(e);case i.ALPHANUMERIC:return new o(e);case i.KANJI:return new c(e);case i.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(b(t,null)):t.data&&e.push(b(t.data,t.mode)),e},[])},t.fromString=function(e,n){for(var r=function(e,t){for(var n={},r={start:{}},o=["start"],a=0;a<e.length;a++){for(var c=e[a],s=[],l=0;l<c.length;l++){var u=c[l],d=""+a+l;s.push(d),n[d]={node:u,lastCount:0},r[d]={};for(var g=0;g<o.length;g++){var h=o[g];n[h]&&n[h].node.mode===u.mode?(r[h][d]=f(n[h].lastCount+u.length,u.mode)-f(n[h].lastCount,u.mode),n[h].lastCount+=u.length):(n[h]&&(n[h].lastCount=u.length),r[h][d]=f(u.length,u.mode)+4+i.getCharCountIndicator(u.mode,t))}}o=s}for(g=0;g<o.length;g++)r[o[g]].end=0;return{map:r,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];switch(r.mode){case i.NUMERIC:t.push([r,{data:r.data,mode:i.ALPHANUMERIC,length:r.length},{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.ALPHANUMERIC:t.push([r,{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.KANJI:t.push([r,{data:r.data,mode:i.BYTE,length:d(r.data)}]);break;case i.BYTE:t.push([{data:r.data,mode:i.BYTE,length:d(r.data)}])}}return t}(h(e,l.isKanjiModeEnabled())),n),o=u.find_path(r.map,"start","end"),a=[],c=1;c<o.length-1;c++)a.push(r.table[o[c]].node);return t.fromArray(a.reduce(function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[]))},t.rawSplit=function(e){return t.fromArray(h(e,l.isKanjiModeEnabled()))}},yKow:function(e,t,n){var i=n("e/Dd"),r=n("NPxG"),o=n("ekOh"),a=n("u/Db"),c=n("J6Nv"),s=n("7uVY"),l=i.getBCHDigit(7973);function u(e,t){return a.getCharCountIndicator(e,t)+4}function d(e,t){var n=0;return e.forEach(function(e){var i=u(e.mode,t);n+=i+e.getBitsLength()}),n}t.from=function(e,t){return c.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!c.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);var o=8*(i.getSymbolTotalCodewords(e)-r.getTotalCodewordsCount(e,t));if(n===a.MIXED)return o;var s=o-u(n,e);switch(n){case a.NUMERIC:return Math.floor(s/10*3);case a.ALPHANUMERIC:return Math.floor(s/11*2);case a.KANJI:return Math.floor(s/13);case a.BYTE:default:return Math.floor(s/8)}},t.getBestVersionForData=function(e,n){var i,r=o.from(n,o.M);if(s(e)){if(e.length>1)return function(e,n){for(var i=1;i<=40;i++)if(d(e,i)<=t.getCapacity(i,n,a.MIXED))return i}(e,r);if(0===e.length)return 1;i=e[0]}else i=e;return function(e,n,i){for(var r=1;r<=40;r++)if(n<=t.getCapacity(r,i,e))return r}(i.mode,i.getLength(),r)},t.getEncodedBits=function(e){if(!c.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;i.getBCHDigit(t)-l>=0;)t^=7973<<i.getBCHDigit(t)-l;return e<<12|t}}}])}();