!function(){function t(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);s=!0);}catch(c){a=!0,o=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return r}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{FU3J:function(e,i,a){"use strict";a.r(i),a.d(i,"AuthModule",function(){return Se});var u,_,h,d=a("ofXK"),g=a("tyNb"),m=a("pKmL"),b=a("XNiG"),f=a("quSY"),p=a("VRyK"),v=a("vkgz"),C=a("44v3"),y=a("ZQlJ"),w=a("mrSG"),P=a("HDdC"),S=a("Q03B"),O=a("5iVC"),k=a("eIep"),E=a("AcyG"),M=a("4K/4"),I=a("lPhk"),V=a("jtHE"),D=function(t){s(i,t);var e=c(i);function i(){var t;return n(this,i),(t=e.apply(this,arguments)).value=null,t.hasNext=!1,t.hasCompleted=!1,t}return o(i,[{key:"_subscribe",value:function(t){return this.hasError?(t.error(this.thrownError),f.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),f.a.EMPTY):r(l(i.prototype),"_subscribe",this).call(this,t)}},{key:"next",value:function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}},{key:"error",value:function(t){this.hasCompleted||r(l(i.prototype),"error",this).call(this,t)}},{key:"complete",value:function(){this.hasCompleted=!0,this.hasNext&&r(l(i.prototype),"next",this).call(this,this.value),r(l(i.prototype),"complete",this).call(this)}}]),i}(b.a),W=a("fXoL"),F=function(){function t(){n(this,t)}return o(t,[{key:"loadScript",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("undefined"!=typeof document&&!document.getElementById(t)){var o=document.createElement("script");o.async=!0,o.src=e,o.onload=n,i||(i=document.head),i.appendChild(o)}}}]),t}(),j=function t(){n(this,t)},R=function(){var t=function(t){s(i,t);var e=c(i);function i(t){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scope:"email"};return n(this,i),(o=e.call(this)).clientId=t,o.initOptions=r,o}return o(i,[{key:"initialize",value:function(){var t=this;return new Promise(function(e,n){try{t.loadScript(i.PROVIDER_ID,"https://apis.google.com/js/platform.js",function(){gapi.load("auth2",function(){t.auth2=gapi.auth2.init(Object.assign(Object.assign({},t.initOptions),{client_id:t.clientId})),t.auth2.then(function(){e()}).catch(function(t){n(t)})})})}catch(o){n(o)}})}},{key:"getLoginStatus",value:function(t){var e=this;return new Promise(function(n,o){if(e.auth2.isSignedIn.get()){var r=new j,s=e.auth2.currentUser.get().getBasicProfile();if(r.id=s.getId(),r.name=s.getName(),r.email=s.getEmail(),r.photoUrl=s.getImageUrl(),r.firstName=s.getGivenName(),r.lastName=s.getFamilyName(),r.response=s,t&&t.refreshToken)e.auth2.currentUser.get().reloadAuthResponse().then(function(t){r.authToken=t.access_token,r.idToken=t.id_token,n(r)});else{var a=e.auth2.currentUser.get().getAuthResponse(!0);r.authToken=a.access_token,r.idToken=a.id_token,n(r)}}else o("No user is currently logged in with ".concat(i.PROVIDER_ID))})}},{key:"signIn",value:function(t){var e=this,n=Object.assign(Object.assign({},this.initOptions),t);return new Promise(function(i,o){(n&&n.offline_access?e.auth2.grantOfflineAccess(t):e.auth2.signIn(t)).then(function(t){var n=new j;if(t&&t.code)n.authorizationCode=t.code;else{var o=e.auth2.currentUser.get().getBasicProfile(),r=e.auth2.currentUser.get().getAuthResponse(!0).access_token,s=e.auth2.currentUser.get().getAuthResponse(!0).id_token;n.id=o.getId(),n.name=o.getName(),n.email=o.getEmail(),n.photoUrl=o.getImageUrl(),n.firstName=o.getGivenName(),n.lastName=o.getFamilyName(),n.authToken=r,n.idToken=s,n.response=o}i(n)},function(t){o(t)}).catch(function(t){o(t)})})}},{key:"signOut",value:function(t){var e=this;return new Promise(function(n,i){(t?e.auth2.disconnect():e.auth2.signOut()).then(function(t){t?i(t):n()}).catch(function(t){i(t)})})}}]),i}(F);return t.PROVIDER_ID="GOOGLE",t}(),$=((_=function(){function t(e){var i=this;n(this,t),this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new V.a(1),this.initialized=!1,this._initState=new D,e instanceof Promise?e.then(function(t){i.initialize(t)}):this.initialize(e)}return o(t,[{key:"authState",get:function(){return this._authState.asObservable()}},{key:"initState",get:function(){return this._initState.asObservable()}},{key:"initialize",value:function(t){var e=this;this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;var n=t.onError,i=void 0===n?console.error:n;t.providers.forEach(function(t){e.providers.set(t.id,t.provider)}),Promise.all(Array.from(this.providers.values()).map(function(t){return t.initialize()})).then(function(){if(e.autoLogin){var t=[],n=!1;e.providers.forEach(function(i,o){var r=i.getLoginStatus();t.push(r),r.then(function(t){t.provider=o,e._user=t,e._authState.next(t),n=!0}).catch(console.debug)}),Promise.all(t).catch(function(){n||(e._user=null,e._authState.next(null))})}}).catch(function(t){i(t)}).finally(function(){e.initialized=!0,e._initState.next(e.initialized),e._initState.complete()})}},{key:"refreshAuthToken",value:function(e){var n=this;return new Promise(function(i,o){if(n.initialized)if(e!==R.PROVIDER_ID)o(t.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{var r=n.providers.get(e);r?r.getLoginStatus({refreshToken:!0}).then(function(t){t.provider=e,n._user=t,n._authState.next(t),i()}).catch(function(t){o(t)}):o(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(t.ERR_NOT_INITIALIZED)})}},{key:"signIn",value:function(e,n){var i=this;return new Promise(function(o,r){if(i.initialized){var s=i.providers.get(e);s?s.signIn(n).then(function(t){t.provider=e,o(t),i._user=t,i._authState.next(t)}).catch(function(t){r(t)}):r(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else r(t.ERR_NOT_INITIALIZED)})}},{key:"signOut",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(i,o){if(e.initialized)if(e._user){var r=e.providers.get(e._user.provider);r?r.signOut(n).then(function(){i(),e._user=null,e._authState.next(null)}).catch(function(t){o(t)}):o(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(t.ERR_NOT_LOGGED_IN);else o(t.ERR_NOT_INITIALIZED)})}}]),t}()).\u0275fac=function(t){return new(t||_)(W.ac("SocialAuthServiceConfig"))},_.\u0275prov=W.Mb({token:_,factory:_.\u0275fac}),_.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",_.ERR_NOT_LOGGED_IN="Not logged in",_.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",_.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",_),A=((u=function(){function t(e){if(n(this,t),e)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}return o(t,null,[{key:"initialize",value:function(e){return{ngModule:t,providers:[$,{provide:"SocialAuthServiceConfig",useValue:e}]}}}]),t}()).\u0275fac=function(t){return new(t||u)(W.ac(u,12))},u.\u0275mod=W.Ob({type:u}),u.\u0275inj=W.Nb({providers:[$],imports:[[d.c]]}),u),T=function(){var t=function(t){s(i,t);var e=c(i);function i(t){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scope:"email,public_profile",locale:"en_US",fields:"name,email,picture,first_name,last_name",version:"v4.0"};return n(this,i),(o=e.call(this)).clientId=t,o.initOptions=r,o}return o(i,[{key:"initialize",value:function(){var t=this;return new Promise(function(e,n){try{t.loadScript(i.PROVIDER_ID,"//connect.facebook.net/".concat(t.initOptions.locale,"/sdk.js"),function(){FB.init({appId:t.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:t.initOptions.version}),e()})}catch(o){n(o)}})}},{key:"getLoginStatus",value:function(){var t=this;return new Promise(function(e,n){FB.getLoginStatus(function(o){if("connected"===o.status){var r=o.authResponse;FB.api("/me?fields=".concat(t.initOptions.fields),function(t){var n=new j;n.id=t.id,n.name=t.name,n.email=t.email,n.photoUrl="https://graph.facebook.com/"+t.id+"/picture?type=normal",n.firstName=t.first_name,n.lastName=t.last_name,n.authToken=r.accessToken,n.response=t,e(n)})}else n("No user is currently logged in with ".concat(i.PROVIDER_ID))})})}},{key:"signIn",value:function(t){var e=Object.assign(Object.assign({},this.initOptions),t);return new Promise(function(t,n){FB.login(function(i){if(i.authResponse){var o=i.authResponse;FB.api("/me?fields=".concat(e.fields),function(e){var n=new j;n.id=e.id,n.name=e.name,n.email=e.email,n.photoUrl="https://graph.facebook.com/"+e.id+"/picture?type=normal",n.firstName=e.first_name,n.lastName=e.last_name,n.authToken=o.accessToken,n.response=e,t(n)})}else n("User cancelled login or did not fully authorize.")},e)})}},{key:"signOut",value:function(){return new Promise(function(t,e){FB.logout(function(e){t()})})}}]),i}(F);return t.PROVIDER_ID="FACEBOOK",t}(),x=a("a0M6"),q=a("0nNC"),U=a("QXSh"),N=a("Vurf"),G=a("mc5j"),z=a("sYmb"),L=a("kO4E"),Q=a("kFSJ"),H=a("3Pt+"),B=a("Gn8p"),X=((h=function(){function t(e,i,o,r,s,a,c,u,l,_,h,d,g,m,b){n(this,t),this._authAsyncService=e,this._twoFactorAuthenticationAsync=i,this._usersAsyncService=o,this._store=r,this._socialAuthService=s,this._authService=a,this._actions$=c,this._jwtService=u,this._notificationService=l,this._translationService=_,this.translateValidationErrorService=h,this.log=d,this.fb=g,this.router=m,this.asyncValidators=b,this.signInActionCompleted$=this._actions$.pipe(Object(E.k)(M.n)),this.twoStepVerificationCancelled$=this._actions$.pipe(Object(E.k)(M.s))}return o(t,[{key:"updateActiveAuthType",value:function(t){this._store.dispatch(new M.q(t))}},{key:"changeRememberMeState",value:function(t){this._store.dispatch(new M.l({rememberMe:t}))}},{key:"forgotPassword",value:function(t){var e=this;this.forgotPasswordRequestSubmitting({forgotPasswordRequestSubmitting:!0}),this._usersAsyncService.forgotPassword$(t).pipe(Object(v.a)(function(){e.forgotPasswordRequestSubmitting({forgotPasswordRequestSubmitting:!1}),e.forgotPasswordRequestSubmittedSuccessfully({forgotPasswordRequestSubmittedSuccessfully:!0})})).subscribe()}},{key:"forgotPasswordRequestSubmittedSuccessfully",value:function(t){this._store.dispatch(new M.c(t))}},{key:"forgotPasswordRequestSubmitting",value:function(t){this._store.dispatch(new M.d(t))}},{key:"resetPassword",value:function(t,e){var n=this;this._usersAsyncService.resetPassword$(t,e).pipe(Object(v.a)(function(){return n.resetPasswordCompleted(!0)})).subscribe()}},{key:"resetPasswordCompleted",value:function(t){this._store.dispatch(new M.i({passwordResetCompleted:t}))}},{key:"signupUser",value:function(t){var e=this;this._authAsyncService.signup$(t).pipe(Object(v.a)(function(t){e.userRegistrationCompleted({registrationCompleted:!0}),e._signUserIn(t)})).subscribe()}},{key:"signinUser",value:function(t){var e=this;this.signingInUserInProgress({signingInUserInProgress:!0}),this._authAsyncService.signin$(t).pipe(Object(k.a)(function(n){return e._authenticateUsingAppSignin$(n.accessToken,t.rememberMe,t.email,n.is2StepVerificationRequired,n.provider)})).subscribe()}},{key:"verifyTwoStepVerificationCode",value:function(t){var e=this;this._twoFactorAuthenticationAsync.verifyTwoStepVerificationCode$(t).pipe(Object(v.a)(function(t){e._signUserIn(t),e._store.dispatch(new M.f({is2StepVerificationSuccessful:!0}))}),Object(k.a)(function(){return e._monitorSession$()})).subscribe()}},{key:"cancelTwoStepVerificationCodeProcess",value:function(){this._store.dispatch(new M.s)}},{key:"redeemRecoveryCode",value:function(t){var e=this;this._twoFactorAuthenticationAsync.redeemRecoveryCode$(t).pipe(Object(v.a)(function(t){e._signUserIn(t),e._store.dispatch(new M.g({isRedeemRecoveryCodeSuccessful:!0}))}),Object(k.a)(function(){return e._monitorSession$()})).subscribe()}},{key:"signinUserWithGoogle",value:function(){var t=this;this._socialAuthService.signIn(R.PROVIDER_ID).then(function(e){t._authAsyncService.signinWithGoogle$(e).pipe(Object(v.a)(function(e){return t._signUserIn(e)}),Object(k.a)(function(){return t._monitorSession$()})).subscribe()})}},{key:"signinUserWithFacebook",value:function(){var t=this;this._socialAuthService.signIn(T.PROVIDER_ID).then(function(e){t._authAsyncService.signinWithFacebook$(e).pipe(Object(v.a)(function(e){return t._signUserIn(e)}),Object(k.a)(function(){return t._monitorSession$()})).subscribe()})}},{key:"userRegistrationCompleted",value:function(t){this._store.dispatch(new M.k(t))}},{key:"confirmEmailChangeRequest",value:function(t,e){var n=this;this.changeEmailConfirmationInProgress({changeEmailConfirmationInProgress:!0}),this._usersAsyncService.changeEmail$(t,e).pipe(Object(v.a)(function(){return n._store.dispatch(new M.a({changeEmailConfirmationInProgress:!1}))})).subscribe()}},{key:"changeEmailConfirmationInProgress",value:function(t){this._store.dispatch(new M.a(t))}},{key:"confirmEmail",value:function(t){var e=this;this._usersAsyncService.confirmEmail$(t).pipe(Object(v.a)(function(){return e.emailConfirmationInProgress({emailConfirmationInProgress:!1})}),Object(k.a)(function(){return e._translationService.get("odm.auth.verification.toast-message")}),Object(v.a)(function(t){return e._notificationService.success(t)})).subscribe()}},{key:"emailConfirmationInProgress",value:function(t){this._store.dispatch(new M.b(t))}},{key:"signingInUserInProgress",value:function(t){this._store.dispatch(new M.o(t))}},{key:"_monitorSession$",value:function(){return this._authService.monitorSessionActivity$()}},{key:"_signUserIn",value:function(t){var e=this._jwtService.getSubClaim(t.access_token);this._store.dispatch(new M.n({accessToken:t,userId:e}))}},{key:"_authenticateUsingAppSignin$",value:function(t,e,n,i,o){return this._authService.processAppSigninAuthentication$(t,e,n,i,o)}}]),t}()).\u0275fac=function(t){return new(t||h)(W.ac(x.a),W.ac(q.a),W.ac(U.a),W.ac(E.i),W.ac($),W.ac(N.a),W.ac(E.b),W.ac(G.a),W.ac(m.d),W.ac(z.d),W.ac(L.a),W.ac(Q.a),W.ac(H.d),W.ac(g.h),W.ac(B.a))},h.\u0275prov=W.Mb({token:h,factory:h.\u0275fac}),Object(w.a)([Object(S.a)(),Object(w.b)("design:type",P.a)],h.prototype,"problemDetails$",void 0),Object(w.a)([Object(O.a)(),Object(w.b)("design:type",P.a)],h.prototype,"internalServerErrorDetails$",void 0),Object(w.a)([Object(E.e)(I.a.selectRememberMe),Object(w.b)("design:type",P.a)],h.prototype,"rememberMe$",void 0),Object(w.a)([Object(E.e)(I.a.selectUsername),Object(w.b)("design:type",P.a)],h.prototype,"username$",void 0),Object(w.a)([Object(E.e)(I.a.selectActiveAuthType),Object(w.b)("design:type",P.a)],h.prototype,"activeAuthType$",void 0),Object(w.a)([Object(E.e)(I.a.selectIs2StepVerificationSuccessful),Object(w.b)("design:type",P.a)],h.prototype,"is2StepVerificationSuccessful$",void 0),Object(w.a)([Object(E.e)(I.a.selectIsRedeemRecoveryCodeSuccessful),Object(w.b)("design:type",P.a)],h.prototype,"isRecoveryCodeRedemptionSuccessful$",void 0),Object(w.a)([Object(E.e)(I.a.selectPasswordResetCompleted),Object(w.b)("design:type",P.a)],h.prototype,"passwordResetCompleted$",void 0),Object(w.a)([Object(E.e)(I.a.selectRegistrationCompleted),Object(w.b)("design:type",P.a)],h.prototype,"registrationCompleted$",void 0),Object(w.a)([Object(E.e)(I.a.selectChangeEmailConfirmationInProgress),Object(w.b)("design:type",P.a)],h.prototype,"changeEmailConfirmationInProgress$",void 0),Object(w.a)([Object(E.e)(I.a.selectEmailConfirmationInProgress),Object(w.b)("design:type",P.a)],h.prototype,"emailConfirmationInProgress$",void 0),Object(w.a)([Object(E.e)(I.a.selectIsTwoStepVerificationRequired),Object(w.b)("design:type",P.a)],h.prototype,"isTwoStepVerificationRequired$",void 0),Object(w.a)([Object(E.e)(I.a.selectTwoStepVerificationProvider),Object(w.b)("design:type",P.a)],h.prototype,"twoStepVerificationProvider$",void 0),Object(w.a)([Object(E.e)(I.a.selectTwoStepVerificationEmail),Object(w.b)("design:type",P.a)],h.prototype,"twoStepVerificationEmail$",void 0),Object(w.a)([Object(E.e)(I.a.selectIsAuthenticated),Object(w.b)("design:type",P.a)],h.prototype,"isAuthenticated$",void 0),Object(w.a)([Object(E.e)(I.a.selectIsSigningInUserInProgress),Object(w.b)("design:type",P.a)],h.prototype,"isSigningInUserInProgress$",void 0),Object(w.a)([Object(E.e)(I.a.selectForgotPasswordRequestSubmittedSuccessfully),Object(w.b)("design:type",P.a)],h.prototype,"forgotPasswordRequestSubmittedSuccessfully$",void 0),Object(w.a)([Object(E.e)(I.a.selectForgotPasswordRequestSubmitting),Object(w.b)("design:type",P.a)],h.prototype,"forgotPasswordRequestSubmitting$",void 0),h),K=a("oluo"),J=a("e2D8"),Z=a("kmnG"),Y=a("qFsG"),tt=a("NFeN"),et=a("Bm1U"),nt=a("bTqV"),it=a("peOe");function ot(t,e){if(1&t&&(W.Wb(0,"mat-error"),W.Cc(1),W.ic(2,"async"),W.Vb()),2&t){var n=W.hc(2);W.Eb(1),W.Dc(W.jc(2,1,n._getErrorMessage$(null==n._resetPasswordForm?null:n._resetPasswordForm.get("password"))))}}function rt(t,e){if(1&t&&(W.Ub(0),W.Wb(1,"mat-icon",15),W.Cc(2),W.Vb(),W.Tb()),2&t){var n=W.hc(2);W.Eb(1),W.mc("ngClass",n._confirmPasswordMatchReqMet?"auth--req-met":"auth--req-not-met"),W.Eb(1),W.Dc(n._confirmPasswordMatchReqMet?"check":"clear")}}function st(t,e){if(1&t&&(W.Wb(0,"mat-error"),W.Cc(1),W.ic(2,"async"),W.Vb()),2&t){var n=W.hc(2);W.Eb(1),W.Dc(W.jc(2,1,n._getErrorMessage$(null==n._resetPasswordForm?null:n._resetPasswordForm.get("confirmPassword"))))}}function at(t,e){if(1&t&&(W.Ub(0),W.Rb(1,"odm-spinner",16),W.Tb()),2&t){var n=W.hc(2);W.Eb(1),W.mc("type","button")("spinnerColor","accent")("diameter",n._resettingPasswordSpinnerDiameter)("strokeWidth",n._resettingPasswordSpinnerStrokeWidth)}}function ct(t,e){if(1&t){var n=W.Xb();W.Wb(0,"form",4),W.dc("ngSubmit",function(){return W.tc(n),W.hc()._onSubmit()}),W.Wb(1,"h2",5),W.Cc(2),W.ic(3,"translate"),W.Vb(),W.Wb(4,"div",6),W.Wb(5,"mat-form-field",7),W.Wb(6,"mat-label"),W.Cc(7),W.ic(8,"translate"),W.Vb(),W.Rb(9,"input",8),W.Wb(10,"mat-icon",9),W.dc("click",function(){W.tc(n);var t=W.hc();return t._hide=!t._hide}),W.Cc(11),W.Vb(),W.Wb(12,"mat-hint"),W.Wb(13,"odm-password-help",10),W.dc("passwordHelpClicked",function(){return W.tc(n),W.hc()._onPasswordHelpToggled()}),W.ic(14,"async"),W.Vb(),W.Vb(),W.Ac(15,ot,3,3,"mat-error",3),W.Vb(),W.Vb(),W.Wb(16,"div",11),W.Wb(17,"mat-form-field",7),W.Wb(18,"mat-label"),W.Cc(19),W.ic(20,"translate"),W.Vb(),W.Rb(21,"input",12),W.Wb(22,"mat-icon",9),W.dc("click",function(){W.tc(n);var t=W.hc();return t._hide=!t._hide}),W.Cc(23),W.Vb(),W.Wb(24,"mat-hint"),W.Wb(25,"span"),W.Ac(26,rt,3,2,"ng-container",3),W.Cc(27),W.ic(28,"translate"),W.Vb(),W.Vb(),W.Ac(29,st,3,3,"mat-error",3),W.Vb(),W.Vb(),W.Wb(30,"div",13),W.Wb(31,"button",14),W.Cc(32),W.ic(33,"translate"),W.Ac(34,at,2,4,"ng-container",3),W.Vb(),W.Vb(),W.Vb()}if(2&t){var i=W.hc();W.mc("ngClass",i._routeAnimationsElements)("formGroup",i._resetPasswordForm),W.Eb(2),W.Dc(W.jc(3,20,"odm.auth.password-reset.header")),W.Eb(2),W.mc("ngClass",i._passwordHelpToggleClass),W.Eb(3),W.Dc(W.jc(8,22,"odm.auth.form.label.password")),W.Eb(2),W.mc("type",i._hide?"password":"text"),W.Eb(2),W.Dc(i._hide?"visibility_off":"visibility"),W.Eb(2),W.mc("togglePosition",W.jc(14,24,i._togglePosition$))("passwordRequirements",i._passwordRequirements)("passwordControl",i._passwordControl),W.Eb(2),W.mc("ngIf",i._ifServerErrorOccured(null==i._resetPasswordForm?null:i._resetPasswordForm.get("password"))),W.Eb(4),W.Dc(W.jc(20,26,"odm.auth.form.label.confirm-password")),W.Eb(2),W.mc("type",i._hide?"password":"text"),W.Eb(2),W.Dc(i._hide?"visibility_off":"visibility"),W.Eb(3),W.mc("ngIf",!(null!=i._resetPasswordForm&&i._resetPasswordForm.get("confirmPassword").pristine)&&(null==i._resetPasswordForm?null:i._resetPasswordForm.get("password").valid)),W.Eb(1),W.Ec(" ",W.jc(28,28,"odm.auth.form.requirements.pass-must-match")," "),W.Eb(2),W.mc("ngIf",null==i._resetPasswordForm?null:i._resetPasswordForm.get("confirmPassword").invalid),W.Eb(2),W.mc("disabled",!(null!=i._resetPasswordForm&&i._resetPasswordForm.valid)||i._passwordResetInProgress),W.Eb(1),W.Ec(" ",W.jc(33,30,"odm.buttons.submit")," "),W.Eb(2),W.mc("ngIf",i._passwordResetInProgress)}}function ut(t,e){if(1&t){var n=W.Xb();W.Wb(0,"div"),W.Wb(1,"h2"),W.Cc(2),W.ic(3,"translate"),W.Vb(),W.Wb(4,"p"),W.Cc(5),W.ic(6,"translate"),W.Vb(),W.Wb(7,"button",17),W.dc("click",function(){return W.tc(n),W.hc()._onReturnToSignIn()}),W.Cc(8),W.ic(9,"translate"),W.Vb(),W.Vb()}2&t&&(W.mc("@downUpFadeIn",void 0),W.Eb(2),W.Dc(W.jc(3,4,"odm.auth.password-reset.updated.header")),W.Eb(3),W.Dc(W.jc(6,6,"odm.auth.password-reset.updated.message")),W.Eb(3),W.Dc(W.jc(9,8,"odm.buttons.go-to-sign-in")))}var lt,_t=((lt=function(t){s(i,t);var e=c(i);function i(t,o,r){var s;return n(this,i),(s=e.call(this,t.translateValidationErrorService,t.log,o))._sb=t,s.cd=o,s._route=r,s._routeAnimationsElements=m.e,s._passwordHelpToggleClass="auth__password-field-help-off",s._confirmPasswordMatchReqMet=!1,s._passwordRequirements=[],s._passwordResetInProgress=!1,s._hide=!0,s._resettingPasswordSpinnerDiameter=J.c,s._resettingPasswordSpinnerStrokeWidth=J.d,s._togglePositionSub=new b.a,s._togglePosition$=s._togglePositionSub.asObservable(),s._subscription=new f.a,s._passwordResetComplete$=t.passwordResetCompleted$,s}return o(i,[{key:"problemDetails",set:function(t){this._sb.log.debug("Problem details emitted.",this),this.problemDetailsError=t}},{key:"internalServerErrorDetails",set:function(t){this._sb.log.debug("Internal server details emitted.",this),this.internalServerError=t}},{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._initForm(),this._passwordRequirements=this._initPasswordRequirements(),this._passwordControl=this._resetPasswordForm.get("password"),this._subscription.add(this._validateFormConfirmPasswordField(this._resetPasswordForm).subscribe()),this._subscription.add(this._listenForServerErrors$().subscribe())}},{key:"ngOnDestroy",value:function(){this._sb.log.trace("Destroyed.",this),this._sb.resetPasswordCompleted(!1),this._subscription.unsubscribe()}},{key:"_onReturnToSignIn",value:function(){this._sb.log.trace("_onReturnToSignIn fired.",this),this._sb.router.navigate(["auth/sign-in"])}},{key:"_onSubmit",value:function(){this._sb.log.trace("_onSubmit fired.",this),this._passwordResetInProgress=!0;var t=this._resetPasswordForm.value,e=this._route.snapshot.queryParams.userId;t.passwordResetToken=this._route.snapshot.queryParams.code,this._sb.resetPassword(e,t)}},{key:"_onPasswordHelpToggled",value:function(){this._sb.log.trace("_onPasswordHelpToggled fired.",this),this._passwordHelpToggleClass="auth__password-field-help-off"===this._passwordHelpToggleClass?"auth__password-field-help-on":"auth__password-field-help-off"}},{key:"_listenForServerErrors$",value:function(){var t=this;return Object(p.a)(this._sb.problemDetails$,this._sb.internalServerErrorDetails$).pipe(Object(v.a)(function(e){"message"in e?t.internalServerErrorDetails=e:t.problemDetails=e,t._sb.log.debug("Changing _togglePosition to 'collapsed'"),t._togglePositionSub.next("collapsed"),t._passwordResetInProgress=!1,t.cd.detectChanges()}))}},{key:"_initPasswordRequirements",value:function(){return Object(K.a)()}},{key:"_validateFormConfirmPasswordField",value:function(t){var e=this;return t.valueChanges.pipe(Object(v.a)(function(n){e._confirmPasswordMatchReqMet=!t.hasError("notSame")}))}},{key:"_initForm",value:function(){this._resetPasswordForm=this._initResetPasswordForm()}},{key:"_initResetPasswordForm",value:function(){return this._sb.fb.group({password:this._sb.fb.control("",{validators:[C.b.required,C.b.minLength(C.a),C.b.requireDigit,C.b.requireLowercase,C.b.requireUppercase,C.b.requireNonAlphanumeric,C.b.requireThreeUniqueCharacters],updateOn:"change"}),confirmPassword:this._sb.fb.control("",C.b.required)},{validators:C.b.requireConfirmPassword,updateOn:"change"})}}]),i}(y.a)).\u0275fac=function(t){return new(t||lt)(W.Qb(X),W.Qb(W.i),W.Qb(g.a))},lt.\u0275cmp=W.Kb({type:lt,selectors:[["odm-reset-password"]],features:[W.Bb],decls:6,vars:6,consts:[[1,"auth__container"],[1,"auth__form-container","auth__password-reset-container"],["role","form","novalidate","",3,"ngClass","formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],["role","form","novalidate","",3,"ngClass","formGroup","ngSubmit"],[1,"auth__password-reset-header"],[1,"auth__password-reset-field",3,"ngClass"],["appearance","standard"],["matInput","","formControlName","password","autocomplete","new-password","required","",3,"type"],["matSuffix","",1,"auth__view-password",3,"click"],[3,"togglePosition","passwordRequirements","passwordControl","passwordHelpClicked"],[1,"auth__reset-password-confirm-password-field"],["matInput","","formControlName","confirmPassword","autocomplete","new-password",3,"type"],[1,"auth__password-reset-container-btn"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],["matPrefix","",3,"ngClass"],[3,"type","spinnerColor","diameter","strokeWidth"],["mat-raised-button","","type","button","color","primary",3,"click"]],template:function(t,e){1&t&&(W.Wb(0,"div",0),W.Wb(1,"div",1),W.Ac(2,ct,35,32,"form",2),W.ic(3,"async"),W.Ac(4,ut,10,10,"div",3),W.ic(5,"async"),W.Vb(),W.Vb()),2&t&&(W.Eb(2),W.mc("ngIf",!1===W.jc(3,2,e._passwordResetComplete$)),W.Eb(2),W.mc("ngIf",!0===W.jc(5,4,e._passwordResetComplete$)))},directives:[d.k,H.s,H.m,d.i,H.f,Z.c,Z.g,Y.b,H.c,H.l,H.e,H.q,tt.a,Z.j,Z.f,et.a,nt.b,Z.b,Z.i,it.a],pipes:[d.b,z.c],styles:["h3[_ngcontent-%COMP%]{background-image:none}mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}.auth__password-reset-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.auth__password-reset-container[_ngcontent-%COMP%]   .auth__password-reset-container-btn[_ngcontent-%COMP%]{margin-top:18px;background-size:200%;width:250px;border:none}.auth__form-container[_ngcontent-%COMP%]   .auth__view-password[_ngcontent-%COMP%]{cursor:pointer}.auth__form-container[_ngcontent-%COMP%]   .auth__password-field-help-on[_ngcontent-%COMP%]{margin-bottom:123px;transition:margin-bottom .3s ease-in}.auth__form-container[_ngcontent-%COMP%]   .auth__password-field-help-off[_ngcontent-%COMP%]{margin-bottom:0;transition:margin-bottom .3s ease-in}.auth__form-container[_ngcontent-%COMP%]   .auth__reset-password-confirm-password-field[_ngcontent-%COMP%]{padding-top:12px}"],data:{animation:[m.f]},changeDetection:0}),lt),ht=a("itXk"),dt=a("JX91"),gt=a("0MNC");function mt(t,e){if(1&t&&(W.Wb(0,"div",8),W.Wb(1,"h1",9),W.Cc(2),W.ic(3,"translate"),W.ic(4,"translate"),W.Vb(),W.Wb(5,"p",10),W.Cc(6),W.ic(7,"translate"),W.ic(8,"translate"),W.Vb(),W.Vb()),2&t){var n=W.hc(3);W.Eb(1),W.mc("ngClass",n._routeAnimationsElements),W.Eb(1),W.Ec(" ",n._signInIsDisplayed?W.jc(3,4,"odm.auth.sign-in.header"):W.jc(4,6,"odm.auth.sign-up.header")," "),W.Eb(3),W.mc("ngClass",n._routeAnimationsElements),W.Eb(1),W.Ec(" ",n._signInIsDisplayed?W.jc(7,8,"odm.auth.sign-in.subheader"):W.jc(8,10,"odm.auth.sign-up.subheader")," ")}}function bt(t,e){if(1&t&&(W.Wb(0,"div"),W.Ac(1,mt,9,12,"div",7),W.Vb()),2&t){var n=W.hc().ngIf;W.Eb(1),W.mc("ngIf",!(null!=n&&n.matches))}}function ft(t,e){if(1&t){var n=W.Xb();W.Ub(0),W.Wb(1,"div",11),W.Wb(2,"div",12),W.Wb(3,"div",13),W.Wb(4,"h1",14),W.Cc(5),W.ic(6,"translate"),W.Vb(),W.Wb(7,"p",14),W.Cc(8),W.ic(9,"translate"),W.Vb(),W.Wb(10,"button",15),W.dc("click",function(){return W.tc(n),W.hc(2)._switchToSignin()}),W.Cc(11),W.ic(12,"translate"),W.Vb(),W.Vb(),W.Wb(13,"div",16),W.Wb(14,"h1",14),W.Cc(15),W.ic(16,"translate"),W.Vb(),W.Wb(17,"p",14),W.Cc(18),W.ic(19,"translate"),W.Vb(),W.Wb(20,"button",15),W.dc("click",function(){return W.tc(n),W.hc(2)._switchToSignup()}),W.Cc(21),W.ic(22,"translate"),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Tb()}if(2&t){var i=W.hc(2);W.Eb(4),W.mc("ngClass",i._routeAnimationsElements),W.Eb(1),W.Dc(W.jc(6,12,"odm.auth.sign-in.header")),W.Eb(2),W.mc("ngClass",i._routeAnimationsElements),W.Eb(1),W.Dc(W.jc(9,14,"odm.auth.sign-in.subheader")),W.Eb(2),W.mc("ngClass",i._routeAnimationsElements),W.Eb(1),W.Ec(" ",W.jc(12,16,"odm.buttons.sign-in")," "),W.Eb(3),W.mc("ngClass",i._routeAnimationsElements),W.Eb(1),W.Dc(W.jc(16,18,"odm.auth.sign-up.header")),W.Eb(2),W.mc("ngClass",i._routeAnimationsElements),W.Eb(1),W.Ec(" ",W.jc(19,20,"odm.auth.sign-up.subheader")," "),W.Eb(2),W.mc("ngClass",i._routeAnimationsElements),W.Eb(1),W.Ec(" ",W.jc(22,22,"odm.buttons.create-account")," ")}}function pt(t,e){if(1&t&&(W.Wb(0,"div",2),W.Ac(1,bt,2,1,"div",3),W.Wb(2,"div",4,5),W.ic(4,"async"),W.Wb(5,"div"),W.ic(6,"async"),W.Rb(7,"router-outlet",null,6),W.Vb(),W.Ac(9,ft,23,24,"ng-container",3),W.Vb(),W.Vb()),2&t){var n=e.ngIf,i=W.rc(8),o=W.hc();W.Eb(1),W.mc("ngIf",!(o._forgotPasswordIsDisplayed||o._twoStepVerificationIsDisplayed||o._redeemRecoveryCodeIsDisplayed||o._resetPasswordIsDisplayed||o._emailConfirmation||o._emailChangeConfirmation)),W.Eb(1),W.mc("ngClass",o._setActiveAuthCssClass(W.jc(4,4,o._activeAuthType$),n)),W.Eb(3),W.mc("@routeAnimations",i.isActivated&&i.activatedRoute.routeConfig.path&&o._isNotSignInOrSignUp(W.jc(6,6,i.activatedRoute.url))),W.Eb(4),W.mc("ngIf",null==n?null:n.matches)}}var vt,Ct=((vt=function(){function e(t,i,o){n(this,e),this._sb=i,this._route=o,this._routeAnimationsElements=m.e,this._authContainerImg=a("Nlia").default,this._subscription=new f.a,this._problemDetails$=i.problemDetails$,this._internalServerErrorDetails$=i.internalServerErrorDetails$,this._breakpointStateScreenMatcher$=t.observe(["(min-width: 768px)"]),this._activeAuthType$=i.activeAuthType$,this._isTwoStepVerificationRequired$=i.isTwoStepVerificationRequired$,this._twoStepVerificationProvider$=i.twoStepVerificationProvider$,this._twoStepVerificationEmail$=i.twoStepVerificationEmail$,this._isAuthenticated$=i.isAuthenticated$,this._twoStepVerificationCancelled$=i.twoStepVerificationCancelled$,this._signInActionCompleted$=i.signInActionCompleted$}return o(e,[{key:"_forgotPasswordIsDisplayed",get:function(){return"/auth/forgot-password"===this._sb.router.url}},{key:"_twoStepVerificationIsDisplayed",get:function(){return this._sb.router.url.includes("/auth/two-step-verification")}},{key:"_redeemRecoveryCodeIsDisplayed",get:function(){return this._sb.router.url.includes("/auth/redeem-recovery-code")}},{key:"_resetPasswordIsDisplayed",get:function(){return this._sb.router.url.includes("/auth/reset-password")}},{key:"_emailConfirmation",get:function(){return this._sb.router.url.includes("/email-confirmation")}},{key:"_emailChangeConfirmation",get:function(){return this._sb.router.url.includes("/email-change-confirmation")}},{key:"_signInIsDisplayed",get:function(){return"/auth/sign-in"===this._sb.router.url}},{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._subscription.add(this._navigationEndEvent$().subscribe()),this._subscription.add(this._listenIfTwoStepVerificationRequired$().subscribe()),this._subscription.add(this._listenForServerErrors$().subscribe()),this._subscription.add(this._stopSigningUserIn$().subscribe())}},{key:"ngOnDestroy",value:function(){this._sb.log.trace("Destroyed.",this),this._subscription.unsubscribe()}},{key:"_isNotSignInOrSignUp",value:function(t){var e,n=null===(e=t[0])||void 0===e?void 0:e.path;return!n||"sign-in"!==n&&"sign-up"!==n}},{key:"_switchToSignin",value:function(){var t=this;this._sb.updateActiveAuthType({activeAuthType:"sign-in-active"}),setTimeout(function(){t._sb.router.navigate(["sign-in"],{relativeTo:t._route.parent})},300)}},{key:"_switchToSignup",value:function(){var t=this;this._sb.updateActiveAuthType({activeAuthType:"sign-up-active"}),setTimeout(function(){t._sb.router.navigate(["sign-up"],{relativeTo:t._route.parent})},300)}},{key:"_setActiveAuthCssClass",value:function(t,e){var n=t;return e.matches||(n+="sign-in-active"===t?" auth-container__sign-in":""),n}},{key:"_setActiveAuthTypeBasedOnUrl",value:function(t){var e=this;"/auth/sign-in"===t||"/auth"===t?(this._sb.updateActiveAuthType({activeAuthType:"sign-in-active"}),setTimeout(function(){e._sb.router.navigate(["sign-in"],{relativeTo:e._route.parent})},300)):"/auth/sign-up"===t?(this._sb.updateActiveAuthType({activeAuthType:"sign-up-active"}),setTimeout(function(){e._sb.router.navigate(["sign-up"],{relativeTo:e._route.parent})},300)):"/auth/forgot-password"===t?this._sb.updateActiveAuthType({activeAuthType:"forgot-password-active"}):t.includes("/auth/two-step-verification")?this._sb.updateActiveAuthType({activeAuthType:"two-step-verification-active"}):t.includes("/auth/reset-password")?this._sb.updateActiveAuthType({activeAuthType:"reset-password-active"}):t.includes("/email-confirmation")?this._sb.updateActiveAuthType({activeAuthType:"email-confirmation-active"}):t.includes("/email-change-confirmation")?this._sb.updateActiveAuthType({activeAuthType:"email-change-confirmation-active"}):this._sb.log.error("the auth url does not match any configured paths.",this,t)}},{key:"_navigationEndEvent$",value:function(){var t=this;return this._sb.log.trace("_onNavigationEndEvent$ fired.",this),this._sb.router.events.pipe(Object(dt.a)(this._setActiveAuthTypeBasedOnUrl(this._sb.router.url)),Object(v.a)(function(e){e instanceof g.c&&t._setActiveAuthTypeBasedOnUrl(e.url)}))}},{key:"_listenForServerErrors$",value:function(){var t=this;return this._sb.log.trace("_listenForServerErrors$ fired.",this),Object(p.a)(this._problemDetails$,this._internalServerErrorDetails$).pipe(Object(v.a)(function(){t._sb.signingInUserInProgress({signingInUserInProgress:!1})}))}},{key:"_stopSigningUserIn$",value:function(){var t=this;return this._sb.log.trace("_stopSigningUserIn$ fired.",this),Object(p.a)(this._twoStepVerificationCancelled$,this._signInActionCompleted$).pipe(Object(v.a)(function(){t._sb.signingInUserInProgress({signingInUserInProgress:!1})}))}},{key:"_listenIfTwoStepVerificationRequired$",value:function(){var e=this;return this._sb.log.trace("_listenIfTwoStepVerificationRequired$ fired.",this),Object(ht.a)(this._isTwoStepVerificationRequired$,this._twoStepVerificationEmail$,this._twoStepVerificationProvider$).pipe(Object(v.a)(function(n){var i=t(n,3),o=i[0],r=i[1],s=i[2];o&&r&&s&&e._sb.router.navigate(["two-step-verification"],{relativeTo:e._route.parent,queryParams:{provider:s,email:r}})}))}}]),e}()).\u0275fac=function(t){return new(t||vt)(W.Qb(gt.a),W.Qb(X),W.Qb(g.a))},vt.\u0275cmp=W.Kb({type:vt,selectors:[["odm-auth-container"]],decls:3,vars:3,consts:[[1,"auth-container"],["class","auth-container__content",4,"ngIf"],[1,"auth-container__content"],[4,"ngIf"],[1,"auth-container__routes",3,"ngClass"],["scrollContainer",""],["o","outlet"],["class","auth-container__header",4,"ngIf"],[1,"auth-container__header"],[1,"auth-container__heading",3,"ngClass"],[1,"auth-container__welcome-text",3,"ngClass"],[1,"auth__overlay-container"],[1,"auth__overlay"],[1,"auth__overlay-panel","auth__overlay-sign-in"],[3,"ngClass"],["mat-raised-button","",1,"auth__form-btn-ghost","auth--btn",3,"ngClass","click"],[1,"auth__overlay-panel","auth__overlay-sign-up"]],template:function(t,e){1&t&&(W.Wb(0,"div",0),W.Ac(1,pt,10,8,"div",1),W.ic(2,"async"),W.Vb()),2&t&&(W.Eb(1),W.mc("ngIf",W.jc(2,1,e._breakpointStateScreenMatcher$)))},directives:[d.k,d.i,g.m,nt.b],pipes:[d.b,z.c],styles:["h1[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{border:1px solid;font-weight:700;padding:0 45px;letter-spacing:1px}.auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-flow:column-reverse;padding-right:15px;padding-left:15px;margin:20px auto}.auth-container[_ngcontent-%COMP%]   .auth-container__content[_ngcontent-%COMP%]{width:100%;padding-top:10px;padding-bottom:10px}.auth-container[_ngcontent-%COMP%]   .auth-container__content[_ngcontent-%COMP%]   .auth-container__header[_ngcontent-%COMP%]{text-align:center}.auth-container[_ngcontent-%COMP%]   .auth-container__content[_ngcontent-%COMP%]   .auth-container__header[_ngcontent-%COMP%]   .auth-container__heading[_ngcontent-%COMP%]{margin:0 0 20px;text-transform:uppercase}.auth-container[_ngcontent-%COMP%]   .auth-container__content[_ngcontent-%COMP%]   .auth-container__header[_ngcontent-%COMP%]   .auth-container__welcome-text[_ngcontent-%COMP%]{color:#98979e;font-size:13px;font-weight:700;line-height:1.6}.auth-container__routes[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:480px;max-width:100%;height:540px;margin:0 auto;transition:height .6s ease-out}.auth-container__sign-in[_ngcontent-%COMP%]{height:410px}.auth-container__routes.forgot-password-active[_ngcontent-%COMP%]{height:270px}.auth-container__routes.reset-password-active[_ngcontent-%COMP%]{height:500px}.auth-container__routes.two-step-verification-active[_ngcontent-%COMP%]{height:auto}.auth-container__routes.email-change-confirmation-active[_ngcontent-%COMP%], .auth-container__routes.email-confirmation-active[_ngcontent-%COMP%]{height:270px}@media (min-width:768px){.auth-container__routes[_ngcontent-%COMP%]{width:768px}}.auth-container__routes.email-change-confirmation-active[_ngcontent-%COMP%]   .auth__overlay-container[_ngcontent-%COMP%], .auth-container__routes.email-confirmation-active[_ngcontent-%COMP%]   .auth__overlay-container[_ngcontent-%COMP%], .auth-container__routes.forgot-password-active[_ngcontent-%COMP%]   .auth__overlay-container[_ngcontent-%COMP%], .auth-container__routes.reset-password-active[_ngcontent-%COMP%]   .auth__overlay-container[_ngcontent-%COMP%], .auth-container__routes.two-step-verification-active[_ngcontent-%COMP%]   .auth__overlay-container[_ngcontent-%COMP%]{display:none}.auth__overlay-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;width:100%;height:50%;overflow:hidden;transition:transform .6s ease-in-out;z-index:5}.auth__overlay-container[_ngcontent-%COMP%]   .auth__overlay[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-position:0 0;color:#fff;position:relative;top:-100%;height:200%;width:100%;transition:transform .6s ease-in-out}.auth__overlay-container[_ngcontent-%COMP%]   .auth__overlay[_ngcontent-%COMP%]   .auth__overlay-panel[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;text-align:center;right:0;height:50%;width:100%}.auth__overlay-container[_ngcontent-%COMP%]   .auth__overlay[_ngcontent-%COMP%]   .auth__overlay-panel[_ngcontent-%COMP%]   .auth__form-btn-ghost[_ngcontent-%COMP%]{background-color:transparent}.auth__overlay-container[_ngcontent-%COMP%]   .auth__overlay[_ngcontent-%COMP%]   .auth__overlay-panel[_ngcontent-%COMP%]   .auth--btn[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase}@media (min-width:768px){.auth-container__routes.sign-up-active[_ngcontent-%COMP%]   .auth__overlay[_ngcontent-%COMP%]{transform:translateX(50%)}.auth-container__routes.sign-up-active[_ngcontent-%COMP%]   .auth__overlay-container[_ngcontent-%COMP%]{transform:translateX(-100%)}.auth__overlay-container[_ngcontent-%COMP%]{top:0;left:50%;width:50%;height:100%}.auth__overlay-container[_ngcontent-%COMP%]   .auth__overlay[_ngcontent-%COMP%]{left:-100%;top:0;height:100%;width:200%}.auth__overlay-container[_ngcontent-%COMP%]   .auth__overlay[_ngcontent-%COMP%]   .auth__overlay-panel[_ngcontent-%COMP%]{right:auto;top:0;height:100%;width:50%}.auth__overlay-container[_ngcontent-%COMP%]   .auth__overlay[_ngcontent-%COMP%]   .auth__overlay-sign-up[_ngcontent-%COMP%]{right:0;transform:translateX(0)}.auth__overlay-container[_ngcontent-%COMP%]   .auth__overlay[_ngcontent-%COMP%]   .auth__overlay-sign-in[_ngcontent-%COMP%]{transform:translateX(0)}}"],data:{animation:[m.i]},changeDetection:0}),vt),yt=a("1jcm");function wt(t,e){if(1&t){var n=W.Xb();W.Wb(0,"div",20),W.Wb(1,"span",21),W.Cc(2),W.ic(3,"translate"),W.Vb(),W.Wb(4,"mat-icon",22),W.dc("click",function(){return W.tc(n),W.hc()._switchToSignup()}),W.Cc(5,"arrow_forward"),W.Vb(),W.Vb()}2&t&&(W.Eb(2),W.Dc(W.jc(3,1,"odm.buttons.sign-up")))}function Pt(t,e){if(1&t&&(W.Wb(0,"mat-error"),W.Cc(1),W.ic(2,"async"),W.Vb()),2&t){var n=W.hc();W.Eb(1),W.Dc(W.jc(2,1,n._getErrorMessage$(null==n.signinForm?null:n.signinForm.get("email"))))}}function St(t,e){if(1&t&&(W.Wb(0,"mat-error"),W.Cc(1),W.ic(2,"async"),W.Vb()),2&t){var n=W.hc();W.Eb(1),W.Dc(W.jc(2,1,n._getErrorMessage$(null==n.signinForm?null:n.signinForm.get("password"))))}}function Ot(t,e){if(1&t&&(W.Ub(0),W.Rb(1,"odm-spinner",23),W.Tb()),2&t){var n=W.hc();W.Eb(1),W.mc("type","button")("diameter",n._signingInSpinnerDiameter)("strokeWidth",n._signingInSpinnerStrokeWidth)}}var kt,Et,Mt=((Et=function(t){s(i,t);var e=c(i);function i(t,o,r){var s;return n(this,i),(s=e.call(this,t,o,r)).translateValidationErrorService=t,s.log=o,s.cd=r,s.activeAuthType="sign-in-active",s.rememberMe=!1,s._username="",s.rememberMeChanged=new W.o,s.signinFormSubmitted=new W.o,s.signinWithGoogleSubmitted=new W.o,s.signinWithFacebookSubmitted=new W.o,s.forgotPasswordClicked=new W.o,s.switchToSignupClicked=new W.o,s._hide=!0,s._routeAnimationsElements=m.e,s._signingInSpinnerDiameter=J.c,s._signingInSpinnerStrokeWidth=J.d,s}return o(i,[{key:"problemDetails",set:function(t){this.log.debug("Problem details emitted.",this),this.problemDetailsError=t}},{key:"internalServerErrorDetails",set:function(t){this.log.debug("Internal server error emitted.",this),this.internalServerError=t}},{key:"username",set:function(t){this.log.debug("Setting email value for signin form.",this,t),this._username=t,this.signinForm&&t&&this.signinForm.get("email").setValue(t)}},{key:"ngOnInit",value:function(){this.log.trace("Initialized.",this),this.signinForm.get("rememberMe").setValue(this.rememberMe),this.signinForm.get("email").setValue(this._username)}},{key:"_onForgotPassword",value:function(){this.log.trace("_onForgotPassword event handler fired.",this),this.forgotPasswordClicked.emit()}},{key:"_onRememberMeChange",value:function(t){this.log.trace("_onRememberMeChange event handler emitted.",this),this.rememberMeChanged.emit(t.checked)}},{key:"_onSignin",value:function(){this.log.trace("_onSignin event handler fired.",this),this.signinFormSubmitted.emit(this.signinForm.value)}},{key:"_onSigninWithGoogle",value:function(){this.log.trace("_onSigninWithGoogle event handler fired.",this),this.signinWithGoogleSubmitted.emit()}},{key:"_onSigninWithFacebook",value:function(){this.log.trace("_onSigninWithFacebook event handler fired.",this),this.signinWithFacebookSubmitted.emit()}},{key:"_switchToSignup",value:function(){this.log.trace("_switchToSignup event handler fired.",this),this.switchToSignupClicked.emit("sign-up-active")}},{key:"_disableSignin",value:function(){var t,e,n=null===(t=this.signinForm)||void 0===t?void 0:t.get("email"),i=null===(e=this.signinForm)||void 0===e?void 0:e.get("password");return""===n.value||""===i.value}}]),i}(y.a)).\u0275fac=function(t){return new(t||Et)(W.Qb(L.a),W.Qb(Q.a),W.Qb(W.i))},Et.\u0275cmp=W.Kb({type:Et,selectors:[["odm-sign-in"]],inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",signinForm:"signinForm",matcher:"matcher",activeAuthType:"activeAuthType",rememberMe:"rememberMe",username:"username",signingIn:"signingIn"},outputs:{rememberMeChanged:"rememberMeChanged",signinFormSubmitted:"signinFormSubmitted",signinWithGoogleSubmitted:"signinWithGoogleSubmitted",signinWithFacebookSubmitted:"signinWithFacebookSubmitted",forgotPasswordClicked:"forgotPasswordClicked",switchToSignupClicked:"switchToSignupClicked"},features:[W.Bb],decls:42,vars:31,consts:[[1,"auth__container",3,"ngClass"],[1,"auth__form-container","auth__sign-in-container"],["role","form","novalidate","",3,"ngClass","formGroup","ngSubmit"],[1,"auth__sign-in-header"],["class","auth__form-container-switch-sign-up",4,"ngIf"],["alt","facebook",1,"auth__form-icon",3,"src","click"],["alt","google",1,"auth__form-icon",3,"src","click"],[1,"auth__email-field"],["appearance","standard"],["matInput","","formControlName","email","type","email","autocomplete","email","required",""],["matSuffix",""],[4,"ngIf"],[1,"auth__password-field"],["matInput","","formControlName","password","type","password","autocomplete","current-password","required","",3,"type"],["matSuffix","",1,"auth__view-password",3,"click"],["mat-raised-button","","type","submit",1,"auth__form-btn","auth--btn",3,"disabled"],[1,"auth__text-link","auth__text-link--size","auth__text--link",3,"click"],[1,"auth__remember-me"],["formControlName","rememberMe",3,"checked","change"],[1,"auth__text-link","auth__text-link--size","auth__text--link"],[1,"auth__form-container-switch-sign-up"],[1,"auth__text--link"],["matSuffix","",1,"auth__text--link","auth__text-link",3,"click"],[3,"type","diameter","strokeWidth"]],template:function(t,e){1&t&&(W.Wb(0,"div",0),W.Wb(1,"div",1),W.Wb(2,"form",2),W.dc("ngSubmit",function(){return e._onSignin()}),W.Wb(3,"h3",3),W.Cc(4),W.ic(5,"translate"),W.Vb(),W.Ac(6,wt,6,3,"div",4),W.Wb(7,"div"),W.Wb(8,"img",5),W.dc("click",function(){return e._onSigninWithFacebook()}),W.Vb(),W.Wb(9,"img",6),W.dc("click",function(){return e._onSigninWithGoogle()}),W.Vb(),W.Vb(),W.Wb(10,"div",7),W.Wb(11,"mat-form-field",8),W.Wb(12,"mat-label"),W.Cc(13),W.ic(14,"translate"),W.Vb(),W.Rb(15,"input",9),W.Wb(16,"mat-icon",10),W.Cc(17,"email"),W.Vb(),W.Ac(18,Pt,3,3,"mat-error",11),W.Vb(),W.Vb(),W.Wb(19,"div",12),W.Wb(20,"mat-form-field",8),W.Wb(21,"mat-label"),W.Cc(22),W.ic(23,"translate"),W.Vb(),W.Rb(24,"input",13),W.Wb(25,"mat-icon",14),W.dc("click",function(){return e._hide=!e._hide}),W.Cc(26),W.Vb(),W.Ac(27,St,3,3,"mat-error",11),W.Vb(),W.Vb(),W.Wb(28,"div"),W.Wb(29,"button",15),W.Cc(30),W.ic(31,"translate"),W.Ac(32,Ot,2,3,"ng-container",11),W.Vb(),W.Vb(),W.Wb(33,"div"),W.Wb(34,"span",16),W.dc("click",function(){return e._onForgotPassword()}),W.Cc(35),W.ic(36,"translate"),W.Vb(),W.Vb(),W.Wb(37,"div",17),W.Wb(38,"mat-slide-toggle",18),W.dc("change",function(t){return e._onRememberMeChange(t)}),W.Wb(39,"span",19),W.Cc(40),W.ic(41,"translate"),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb()),2&t&&(W.mc("ngClass",e.activeAuthType),W.Eb(2),W.mc("ngClass",e._routeAnimationsElements)("formGroup",e.signinForm),W.Eb(2),W.Dc(W.jc(5,19,"odm.auth.sign-in.title")),W.Eb(2),W.mc("ngIf",!(null!=e.matcher&&e.matcher.matches)),W.Eb(2),W.mc("src",e._facebookLoginIcon,W.vc),W.Eb(1),W.mc("src",e._googleLoginIcon,W.vc),W.Eb(4),W.Dc(W.jc(14,21,"odm.auth.form.label.email")),W.Eb(5),W.mc("ngIf",e._ifControlFieldIsInvalid(null==e.signinForm?null:e.signinForm.get("email"))),W.Eb(4),W.Dc(W.jc(23,23,"odm.auth.form.label.password")),W.Eb(2),W.mc("type",e._hide?"password":"text"),W.Eb(2),W.Dc(e._hide?"visibility_off":"visibility"),W.Eb(1),W.mc("ngIf",null==e.signinForm?null:e.signinForm.get("password").invalid),W.Eb(2),W.mc("disabled",e._disableSignin()||e.signingIn),W.Eb(1),W.Ec(" ",W.jc(31,25,"odm.buttons.sign-in")," "),W.Eb(2),W.mc("ngIf",e.signingIn),W.Eb(3),W.Ec("",W.jc(36,27,"odm.auth.sign-in.forgot-password")," "),W.Eb(3),W.mc("checked",e.signinForm.get("rememberMe").value),W.Eb(2),W.Dc(W.jc(41,29,"odm.auth.sign-in.remember-me")))},directives:[d.i,H.s,H.m,H.f,d.k,Z.c,Z.g,Y.b,H.c,H.l,H.e,H.q,tt.a,Z.j,nt.b,yt.a,Z.b,it.a],pipes:[z.c,d.b],styles:["h3[_ngcontent-%COMP%]{margin:0;color:transparent;-webkit-background-clip:text}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{border:1px solid;font-weight:700;padding:0 45px;letter-spacing:1px}form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%;padding:0 9px}.auth__container[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:480px;max-width:100%;min-height:540px;margin:0 auto}.auth__container[_ngcontent-%COMP%]   .auth--btn[_ngcontent-%COMP%]{text-transform:uppercase}.auth__container[_ngcontent-%COMP%]   .auth--btn[_ngcontent-%COMP%]:not([disabled]){color:#fff}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]{position:absolute;top:0;transition:all .6s ease-out}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__email-field[_ngcontent-%COMP%], .auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__password-field[_ngcontent-%COMP%]{width:80%}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-container-switch-sign-up[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%;font-size:small}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-container-switch-sign-up[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:20px;width:20px}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-container-switch-sign-up[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-container-switch-sign-up[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:top}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-container-header[_ngcontent-%COMP%]{display:flex;justify-content:center}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__text-link[_ngcontent-%COMP%]{cursor:pointer}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__text-link--size[_ngcontent-%COMP%]{font-size:12px}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__view-password[_ngcontent-%COMP%]{cursor:pointer}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__remember-me[_ngcontent-%COMP%]{margin-top:8px}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-icon[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain;width:25px;margin:0 5px;cursor:pointer}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-btn[_ngcontent-%COMP%]{background-size:200%;width:250px;border:none;margin-top:21.5px}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-btn[_ngcontent-%COMP%]:enabled:hover{background-position:100%}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-btn.auth__form-signup-btn[_ngcontent-%COMP%]{margin-top:18px}.auth__container[_ngcontent-%COMP%]   .auth__sign-in-container[_ngcontent-%COMP%]{left:0;width:100%;z-index:2;opacity:0}.auth__container[_ngcontent-%COMP%]   .auth__sign-in-container[_ngcontent-%COMP%]   .auth__sign-in-header[_ngcontent-%COMP%]{margin-bottom:20px;width:100%;text-align:center}.auth__container.sign-in-active[_ngcontent-%COMP%]   .auth__sign-in-container[_ngcontent-%COMP%]{transform:translateX(0);opacity:1}@-webkit-keyframes hideBehindOverlay{0%{opacity:1}to{opacity:0}}@keyframes hideBehindOverlay{0%{opacity:1}to{opacity:0}}.auth__container.sign-up-active[_ngcontent-%COMP%]   .auth__sign-in-container[_ngcontent-%COMP%]{transform:translateX(100%);-webkit-animation:hideBehindOverlay .2s;animation:hideBehindOverlay .2s}@media (min-width:768px){.auth__container[_ngcontent-%COMP%]{width:768px}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]{height:100%}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__email-field[_ngcontent-%COMP%], .auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__password-field[_ngcontent-%COMP%]{width:inherit}.auth__container[_ngcontent-%COMP%]   .auth__sign-in-container[_ngcontent-%COMP%]{width:50%}}"],changeDetection:0}),Et),It=((kt=function(){function t(e,i,o){n(this,t),this._sb=i,this._route=o,this._subscription=new f.a,this._problemDetails$=i.problemDetails$,this._internalServerErrorDetails$=i.internalServerErrorDetails$,this._rememberMe$=i.rememberMe$,this._username$=i.username$,this._breakpointStateScreenMatcher$=e.observe(["(min-width: 768px)"]),this._activeAuthType$=i.activeAuthType$,this._isSigningInUserInProgress$=i.isSigningInUserInProgress$,this._signInActionCompleted$=i.signInActionCompleted$}return o(t,[{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._initForm(),this._subscription.add(this._listenIfUserSignedIn$().subscribe())}},{key:"ngOnDestroy",value:function(){this._sb.log.trace("Destroyed.",this),this._subscription.unsubscribe()}},{key:"_onForgotPasswordClicked",value:function(){this._sb.log.trace("_onForgotPasswordClicked fired.",this),this._sb.updateActiveAuthType({activeAuthType:"forgot-password-active"}),this._sb.router.navigate(["forgot-password"],{relativeTo:this._route.parent})}},{key:"_onSigninWithFacebookSubmitted",value:function(){this._sb.log.trace("_onSigninWithFacebookSubmitted event handler fired.",this),this._sb.signinUserWithFacebook()}},{key:"_onSigninWithGoogleSubmitted",value:function(){this._sb.log.trace("_onSigninWithGoogleSubmitted event handler fired.",this),this._sb.signinUserWithGoogle()}},{key:"_onSigninSubmitted",value:function(t){this._sb.log.trace("_onSigninSubmitted event handler fired.",this),this._signinForm.get("email").hasError("serverError")&&this._signinForm.get("email").setErrors(null),""!==t.email&&""!==t.password&&this._sb.signinUser(t)}},{key:"_onRememberMeChanged",value:function(t){this._sb.log.trace("_onRememberMeChanged event handler fired.",this,t),this._sb.changeRememberMeState(t)}},{key:"_onSwitchToSignupClicked",value:function(t){var e=this;this._sb.log.trace("_onSwitchToSignupClicked event handler fired",this,t);var n="sign-in-active"===t?"sign-in":"sign-up";this._sb.updateActiveAuthType({activeAuthType:t}),setTimeout(function(){e._sb.router.navigate([n],{relativeTo:e._route.parent})},300)}},{key:"_listenIfUserSignedIn$",value:function(){var t=this;return this._signInActionCompleted$.pipe(Object(v.a)(function(){t._sb.router.navigate(["account"])}))}},{key:"_initForm",value:function(){this._signinForm=this._initSigninForm()}},{key:"_initSigninForm",value:function(){return this._sb.fb.group({email:this._sb.fb.control("",{validators:[C.b.required,C.b.email],updateOn:"blur"}),password:this._sb.fb.control("",[C.b.required]),rememberMe:this._sb.fb.control(!1)})}}]),t}()).\u0275fac=function(t){return new(t||kt)(W.Qb(gt.a),W.Qb(X),W.Qb(g.a))},kt.\u0275cmp=W.Kb({type:kt,selectors:[["odm-sign-in-container"]],decls:9,vars:23,consts:[[3,"problemDetails","internalServerErrorDetails","activeAuthType","matcher","rememberMe","username","signingIn","signinForm","rememberMeChanged","signinFormSubmitted","signinWithGoogleSubmitted","signinWithFacebookSubmitted","forgotPasswordClicked","switchToSignupClicked"]],template:function(t,e){1&t&&(W.Wb(0,"div"),W.Wb(1,"odm-sign-in",0),W.dc("rememberMeChanged",function(t){return e._onRememberMeChanged(t)})("signinFormSubmitted",function(t){return e._onSigninSubmitted(t)})("signinWithGoogleSubmitted",function(){return e._onSigninWithGoogleSubmitted()})("signinWithFacebookSubmitted",function(){return e._onSigninWithFacebookSubmitted()})("forgotPasswordClicked",function(){return e._onForgotPasswordClicked()})("switchToSignupClicked",function(t){return e._onSwitchToSignupClicked(t)}),W.ic(2,"async"),W.ic(3,"async"),W.ic(4,"async"),W.ic(5,"async"),W.ic(6,"async"),W.ic(7,"async"),W.ic(8,"async"),W.Vb(),W.Vb()),2&t&&(W.mc("@leftRightFadeIn",void 0),W.Eb(1),W.mc("problemDetails",W.jc(2,9,e._problemDetails$))("internalServerErrorDetails",W.jc(3,11,e._internalServerErrorDetails$))("activeAuthType",W.jc(4,13,e._activeAuthType$))("matcher",W.jc(5,15,e._breakpointStateScreenMatcher$))("rememberMe",W.jc(6,17,e._rememberMe$))("username",W.jc(7,19,e._username$))("signingIn",W.jc(8,21,e._isSigningInUserInProgress$))("signinForm",e._signinForm))},directives:[Mt],pipes:[d.b],styles:[""],data:{animation:[m.g]},changeDetection:0}),kt);function Vt(t,e){if(1&t){var n=W.Xb();W.Wb(0,"div",19),W.Wb(1,"mat-icon",20),W.dc("click",function(){return W.tc(n),W.hc()._switchToSignin()}),W.Cc(2,"arrow_back"),W.Vb(),W.Wb(3,"span",21),W.Cc(4),W.ic(5,"translate"),W.Vb(),W.Vb()}2&t&&(W.Eb(4),W.Dc(W.jc(5,1,"odm.buttons.sign-in")))}function Dt(t,e){1&t&&(W.Wb(0,"span",23),W.Cc(1),W.ic(2,"translate"),W.Wb(3,"span"),W.Cc(4,"."),W.Vb(),W.Wb(5,"span"),W.Cc(6,"."),W.Vb(),W.Wb(7,"span"),W.Cc(8,"."),W.Vb(),W.Vb()),2&t&&(W.Eb(1),W.Dc(W.jc(2,1,"odm.auth.checking-availability")))}function Wt(t,e){1&t&&(W.Wb(0,"span"),W.Wb(1,"mat-icon",24),W.Cc(2),W.Vb(),W.Cc(3),W.ic(4,"translate"),W.Vb()),2&t&&(W.Eb(2),W.Dc("check"),W.Eb(1),W.Ec(" ",W.jc(4,2,"odm.auth.form.validations.valid-email")," "))}function Ft(t,e){if(1&t&&(W.Wb(0,"span"),W.Wb(1,"mat-icon",25),W.Cc(2),W.Vb(),W.Cc(3),W.ic(4,"async"),W.Vb()),2&t){var n=W.hc(2);W.Eb(2),W.Dc("clear"),W.Eb(1),W.Ec(" ",W.jc(4,2,n._getErrorMessage$(null==n._signupForm?null:n._signupForm.get("email")))," ")}}function jt(t,e){if(1&t&&(W.Ub(0),W.Ac(1,Dt,9,3,"span",22),W.Ac(2,Wt,5,4,"span",10),W.Ac(3,Ft,5,4,"span",10),W.Tb()),2&t){var n=e.ngIf,i=W.hc();W.Eb(1),W.mc("ngIf","PENDING"===n),W.Eb(1),W.mc("ngIf","VALID"===n),W.Eb(1),W.mc("ngIf",i._ifControlFieldIsInvalid(null==i._signupForm?null:i._signupForm.get("email")))}}function Rt(t,e){if(1&t&&(W.Wb(0,"mat-error"),W.Cc(1),W.ic(2,"async"),W.Vb()),2&t){var n=W.hc();W.Eb(1),W.Dc(W.jc(2,1,n._getErrorMessage$(null==n._signupForm?null:n._signupForm.get("email"))))}}function $t(t,e){if(1&t&&(W.Wb(0,"mat-error"),W.Cc(1),W.ic(2,"async"),W.Vb()),2&t){var n=W.hc();W.Eb(1),W.Dc(W.jc(2,1,n._getErrorMessage$(null==n._signupForm?null:n._signupForm.get("password"))))}}function At(t,e){if(1&t&&(W.Ub(0),W.Wb(1,"mat-icon",26),W.Cc(2),W.Vb(),W.Tb()),2&t){var n=W.hc();W.Eb(1),W.mc("ngClass",n.confirmPasswordMatchReqMet?"auth--req-met":"auth--req-not-met"),W.Eb(1),W.Dc(n.confirmPasswordMatchReqMet?"check":"clear")}}function Tt(t,e){if(1&t&&(W.Wb(0,"mat-error"),W.Cc(1),W.ic(2,"async"),W.Vb()),2&t){var n=W.hc();W.Eb(1),W.Dc(W.jc(2,1,n._getErrorMessage$(null==n._signupForm?null:n._signupForm.get("confirmPassword"))))}}function xt(t,e){if(1&t&&(W.Ub(0),W.Rb(1,"odm-spinner",27),W.Tb()),2&t){var n=W.hc();W.Eb(1),W.mc("type","button")("diameter",n._signingUpSpinnerDiameter)("strokeWidth",n._signingUpSpinnerStrokeWidth)}}var qt,Ut,Nt=((Ut=function(t){s(i,t);var e=c(i);function i(t,o,r){var s;return n(this,i),(s=e.call(this,t,o,r)).translateValidationErrorService=t,s.log=o,s.cd=r,s.activeAuthType="sign-up-active",s.signupFormSubmitted=new W.o,s.signinWithGoogleSubmitted=new W.o,s.signinWithFacebookSubmitted=new W.o,s.passwordHelpToggled=new W.o,s.switchToSigninClicked=new W.o,s._signingUp=!1,s._hidePassword=!0,s._hideConfirmPassword=!0,s._routeAnimationsElements=m.e,s._signingUpSpinnerDiameter=J.c,s._signingUpSpinnerStrokeWidth=J.d,s._subscription=new f.a,s}return o(i,[{key:"problemDetails",set:function(t){this.log.debug("Problem details emitted.",this),this._signingUp=!1,this.problemDetailsError=t}},{key:"internalServerErrorDetails",set:function(t){this.log.debug("Internal server error emitted.",this),this._signingUp=!1,this.internalServerError=t}},{key:"signupForm",set:function(t){this.log.debug("Signup form emitted.",this),this._signupForm=t,this._passwordControl=t.get("password")}},{key:"ngOnInit",value:function(){this.log.trace("Initialized.",this)}},{key:"ngOnDestroy",value:function(){this.log.trace("Destroyed.",this),this._subscription.unsubscribe()}},{key:"_onSignup",value:function(){this.log.trace("onSignup event handler emitted.",this);var t=this._signupForm.value;this._signingUp=!0,this.signupFormSubmitted.emit(t)}},{key:"_onSigninWithGoogle",value:function(){this.log.trace("_onSigninWithGoogle fired.",this),this.signinWithGoogleSubmitted.emit()}},{key:"_onSigninWithFacebook",value:function(){this.log.trace("_onSigninWithFacebook fired.",this),this.signinWithFacebookSubmitted.emit()}},{key:"_onPasswordHelpToggled",value:function(){this.log.trace("_onPasswordHelpToggled fired.",this),this.passwordHelpToggled.emit()}},{key:"_switchToSignin",value:function(){var t=this;this.log.trace("_switchToSignin fired.",this),this.switchToSigninClicked.emit("sign-in-active"),setTimeout(function(){t.internalServerErrorDetails=null},600)}}]),i}(y.a)).\u0275fac=function(t){return new(t||Ut)(W.Qb(L.a),W.Qb(Q.a),W.Qb(W.i))},Ut.\u0275cmp=W.Kb({type:Ut,selectors:[["odm-sign-up"]],inputs:{problemDetails:"problemDetails",internalServerErrorDetails:"internalServerErrorDetails",signupForm:"signupForm",matcher:"matcher",passwordRequirements:"passwordRequirements",activeAuthType:"activeAuthType",passwordHelpToggleClass:"passwordHelpToggleClass",confirmPasswordMatchReqMet:"confirmPasswordMatchReqMet"},outputs:{signupFormSubmitted:"signupFormSubmitted",signinWithGoogleSubmitted:"signinWithGoogleSubmitted",signinWithFacebookSubmitted:"signinWithFacebookSubmitted",passwordHelpToggled:"passwordHelpToggled",switchToSigninClicked:"switchToSigninClicked"},features:[W.Bb],decls:52,vars:40,consts:[[1,"auth__container",3,"ngClass"],[1,"auth__form-container","auth__sign-up-container"],["role","form","novalidate","",3,"ngClass","formGroup","ngSubmit"],[1,"auth__sign-up-header"],["class","auth__form-container-switch-sign-in",4,"ngIf"],["alt","facebook",1,"auth__form-icon",3,"src","click"],["alt","google",1,"auth__form-icon",3,"src","click"],[1,"auth__email-field"],["appearance","standard"],["formControlName","email","matInput","","placeholder","example@gmail.com","type","email","autocomplete","email","required",""],[4,"ngIf"],["matSuffix",""],[1,"auth__password-field",3,"ngClass"],["matInput","","formControlName","password","autocomplete","new-password","required","",3,"type"],["matSuffix","",1,"auth__view-password",3,"click"],[3,"passwordRequirements","passwordControl","passwordHelpClicked"],[1,"auth__confirm-password-field"],["matInput","","formControlName","confirmPassword","autocomplete","new-password",3,"type"],["mat-raised-button","","type","submit",1,"auth__form-btn","auth__form-signup-btn","auth--btn",3,"disabled"],[1,"auth__form-container-switch-sign-in"],["matSuffix","",1,"auth__text--link","auth__text-link",3,"click"],[1,"auth__text--link"],["class","loading-dots-animation",4,"ngIf"],[1,"loading-dots-animation"],["matPrefix","",1,"auth--req-met"],["matPrefix","",1,"auth--req-not-met"],["matPrefix","",3,"ngClass"],[3,"type","diameter","strokeWidth"]],template:function(t,e){1&t&&(W.Wb(0,"div",0),W.Wb(1,"div",1),W.Wb(2,"form",2),W.dc("ngSubmit",function(){return e._onSignup()}),W.Wb(3,"h3",3),W.Cc(4),W.ic(5,"translate"),W.Vb(),W.Ac(6,Vt,6,3,"div",4),W.Wb(7,"div"),W.Wb(8,"img",5),W.dc("click",function(){return e._onSigninWithFacebook()}),W.Vb(),W.Wb(9,"img",6),W.dc("click",function(){return e._onSigninWithGoogle()}),W.Vb(),W.Vb(),W.Wb(10,"div",7),W.Wb(11,"mat-form-field",8),W.Wb(12,"mat-label"),W.Cc(13),W.ic(14,"translate"),W.Vb(),W.Rb(15,"input",9),W.Wb(16,"mat-hint"),W.Ac(17,jt,4,3,"ng-container",10),W.ic(18,"async"),W.Vb(),W.Wb(19,"mat-icon",11),W.Cc(20,"email"),W.Vb(),W.Ac(21,Rt,3,3,"mat-error",10),W.Vb(),W.Vb(),W.Wb(22,"div",12),W.Wb(23,"mat-form-field",8),W.Wb(24,"mat-label"),W.Cc(25),W.ic(26,"translate"),W.Vb(),W.Rb(27,"input",13),W.Wb(28,"mat-icon",14),W.dc("click",function(){return e._hidePassword=!e._hidePassword}),W.Cc(29),W.Vb(),W.Wb(30,"mat-hint"),W.Wb(31,"odm-password-help",15),W.dc("passwordHelpClicked",function(){return e._onPasswordHelpToggled()}),W.Vb(),W.Vb(),W.Ac(32,$t,3,3,"mat-error",10),W.Vb(),W.Vb(),W.Wb(33,"div",16),W.Wb(34,"mat-form-field",8),W.Wb(35,"mat-label"),W.Cc(36),W.ic(37,"translate"),W.Vb(),W.Rb(38,"input",17),W.Wb(39,"mat-icon",14),W.dc("click",function(){return e._hideConfirmPassword=!e._hideConfirmPassword}),W.Cc(40),W.Vb(),W.Wb(41,"mat-hint"),W.Wb(42,"span"),W.Ac(43,At,3,2,"ng-container",10),W.Cc(44),W.ic(45,"translate"),W.Vb(),W.Vb(),W.Ac(46,Tt,3,3,"mat-error",10),W.Vb(),W.Vb(),W.Wb(47,"div"),W.Wb(48,"button",18),W.Cc(49),W.ic(50,"translate"),W.Ac(51,xt,2,3,"ng-container",10),W.Vb(),W.Vb(),W.Vb(),W.Vb(),W.Vb()),2&t&&(W.mc("ngClass",e.activeAuthType),W.Eb(2),W.mc("ngClass",e._routeAnimationsElements)("formGroup",e._signupForm),W.Eb(2),W.Dc(W.jc(5,26,"odm.auth.sign-up.title")),W.Eb(2),W.mc("ngIf",!(null!=e.matcher&&e.matcher.matches)),W.Eb(2),W.mc("src",e._facebookLoginIcon,W.vc),W.Eb(1),W.mc("src",e._googleLoginIcon,W.vc),W.Eb(4),W.Dc(W.jc(14,28,"odm.auth.form.label.email")),W.Eb(4),W.mc("ngIf",W.jc(18,30,e._signupForm.get("email").statusChanges)),W.Eb(4),W.mc("ngIf",e._ifControlFieldIsInvalid(null==e._signupForm?null:e._signupForm.get("email"))),W.Eb(1),W.mc("ngClass",e.passwordHelpToggleClass),W.Eb(3),W.Dc(W.jc(26,32,"odm.auth.form.label.password")),W.Eb(2),W.mc("type",e._hidePassword?"password":"text"),W.Eb(2),W.Dc(e._hidePassword?"visibility_off":"visibility"),W.Eb(2),W.mc("passwordRequirements",e.passwordRequirements)("passwordControl",e._passwordControl),W.Eb(1),W.mc("ngIf",e._ifServerErrorOccured(null==e._signupForm?null:e._signupForm.get("password"))),W.Eb(4),W.Dc(W.jc(37,34,"odm.auth.form.label.confirm-password")),W.Eb(2),W.mc("type",e._hideConfirmPassword?"password":"text"),W.Eb(2),W.Dc(e._hideConfirmPassword?"visibility_off":"visibility"),W.Eb(3),W.mc("ngIf",!(null!=e._signupForm&&e._signupForm.get("confirmPassword").pristine)&&(null==e._signupForm?null:e._signupForm.get("password").valid)),W.Eb(1),W.Ec(" ",W.jc(45,36,"odm.auth.form.requirements.pass-must-match")," "),W.Eb(2),W.mc("ngIf",null==e._signupForm?null:e._signupForm.get("confirmPassword").invalid),W.Eb(2),W.mc("disabled",!(null!=e._signupForm&&e._signupForm.valid)||e._signingUp),W.Eb(1),W.Ec(" ",W.jc(50,38,"odm.buttons.sign-up")," "),W.Eb(2),W.mc("ngIf",e._signingUp))},directives:[d.i,H.s,H.m,H.f,d.k,Z.c,Z.g,H.c,Y.b,H.l,H.e,H.q,Z.f,tt.a,Z.j,et.a,nt.b,Z.i,Z.b,it.a],pipes:[z.c,d.b],styles:["h3[_ngcontent-%COMP%]{margin:0;color:transparent;-webkit-background-clip:text}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{border:1px solid;font-weight:700;padding:0 45px;letter-spacing:1px}form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%;padding:0 9px}.auth__container[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:480px;max-width:100%;min-height:540px;margin:0 auto}.auth__container[_ngcontent-%COMP%]   .auth--btn[_ngcontent-%COMP%]{text-transform:uppercase}.auth__container[_ngcontent-%COMP%]   .auth--btn[_ngcontent-%COMP%]:not([disabled]){color:#fff}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]{position:absolute;top:0;transition:all .6s ease-out}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-container-switch-sign-in[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;width:100%;font-size:small}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-container-switch-sign-in[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:20px;width:20px}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-container-switch-sign-in[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-container-switch-sign-in[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:top}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__text-link[_ngcontent-%COMP%]{cursor:pointer}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__text-link--size[_ngcontent-%COMP%]{font-size:12px}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__view-password[_ngcontent-%COMP%]{cursor:pointer}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-icon[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain;width:25px;margin:0 5px;cursor:pointer}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__password-field-help-on[_ngcontent-%COMP%]{margin-bottom:123px;transition:margin-bottom .3s ease-in}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__password-field-help-off[_ngcontent-%COMP%]{margin-bottom:0;transition:margin-bottom .3s ease-in}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__email-field[_ngcontent-%COMP%], .auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__password-field[_ngcontent-%COMP%]{width:80%}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__confirm-password-field[_ngcontent-%COMP%]{margin-top:12px;width:80%}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-btn[_ngcontent-%COMP%]{background-size:200%;width:250px;border:none}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-btn[_ngcontent-%COMP%]:enabled:hover{background-position:100%}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__form-btn.auth__form-signup-btn[_ngcontent-%COMP%]{margin-top:18px}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__text-align[_ngcontent-%COMP%]{text-align:center}.auth__container[_ngcontent-%COMP%]   .auth__sign-up-container[_ngcontent-%COMP%]{left:0;width:100%;opacity:0;z-index:1}.auth__container[_ngcontent-%COMP%]   .auth__sign-up-container[_ngcontent-%COMP%]   .auth__sign-up-header[_ngcontent-%COMP%]{margin-bottom:20px}.auth__container.sign-up-active[_ngcontent-%COMP%]   .auth__sign-up-container[_ngcontent-%COMP%]{transform:translateX(0);z-index:5;opacity:1}@-webkit-keyframes hideBehindOverlay{0%{opacity:1}to{opacity:0}}@keyframes hideBehindOverlay{0%{opacity:1}to{opacity:0}}.auth__container.sign-in-active[_ngcontent-%COMP%]   .auth__sign-up-container[_ngcontent-%COMP%]{transform:translateX(-100%);-webkit-animation:hideBehindOverlay .2s;animation:hideBehindOverlay .2s}@media (min-width:768px){.auth__container.sign-up-active[_ngcontent-%COMP%]   .auth__sign-up-container[_ngcontent-%COMP%]{transform:translateX(100%)}.auth__container.sign-in-active[_ngcontent-%COMP%]   .auth__sign-up-container[_ngcontent-%COMP%]{transform:translateX(0)}.auth__container[_ngcontent-%COMP%]{width:768px}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]{height:100%}.auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__confirm-password-field[_ngcontent-%COMP%], .auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__email-field[_ngcontent-%COMP%], .auth__container[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__password-field[_ngcontent-%COMP%]{width:inherit}.auth__container[_ngcontent-%COMP%]   .auth__sign-up-container[_ngcontent-%COMP%]{width:50%;transform:none}}"],changeDetection:0}),Ut),Gt=((qt=function(){function t(e,i,o){n(this,t),this._sb=i,this._route=o,this._confirmPasswordMatchReqMet=!1,this._passwordRequirements=[],this._passwordHelpToggleClass="auth__password-field-help-off",this._subscription=new f.a,this._problemDetails$=i.problemDetails$,this._internalServerErrorDetails$=i.internalServerErrorDetails$,this._breakpointStateScreenMatcher$=e.observe(["(min-width: 768px)"]),this._activeAuthType$=i.activeAuthType$,this._registrationCompleted$=i.registrationCompleted$,this.signinActionCompleted$=i.signInActionCompleted$}return o(t,[{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._initForms(),this._passwordRequirements=this._initPasswordRequirements(),this._subscription.add(this._validateFormConfirmPasswordField$().subscribe()),this._subscription.add(this._listenIfUserSignedIn$().subscribe()),this._subscription.add(this._listenForServerErrors$().subscribe())}},{key:"ngOnDestroy",value:function(){this._sb.log.trace("Destroyed.",this),this._subscription.unsubscribe()}},{key:"_onSignupSubmitted",value:function(t){this._sb.log.trace("_onSignupSubmitted event handler fired.",this),this._sb.signupUser(t)}},{key:"_onSigninWithGoogleSubmitted",value:function(){this._sb.log.trace("_onSigninWithGoogleSubmitted event handler fired.",this),this._sb.signinUserWithGoogle()}},{key:"_onSigninWithFacebookSubmitted",value:function(){this._sb.log.trace("_onSigninWithFacebookSubmitted event handler fired.",this),this._sb.signinUserWithFacebook()}},{key:"_onSwitchToSigninClicked",value:function(t){var e=this;this._sb.log.trace("_switchToSignup fired.",this);var n="sign-in-active"===t?"sign-in":"sign-up";this._sb.updateActiveAuthType({activeAuthType:t}),setTimeout(function(){e._sb.router.navigate([n],{relativeTo:e._route.parent})},300)}},{key:"_onPasswordHelpToggled",value:function(){this._sb.log.trace("_onPasswordHelpToggled fired.",this),this._passwordHelpToggleClass="auth__password-field-help-off"===this._passwordHelpToggleClass?"auth__password-field-help-on":"auth__password-field-help-off"}},{key:"_listenForServerErrors$",value:function(){var t=this;return this._sb.log.trace("_listenForServerErrors$ fired.",this),Object(p.a)(this._problemDetails$,this._internalServerErrorDetails$).pipe(Object(v.a)(function(){return t._userRegistrationSuccess({registrationCompleted:!1})}))}},{key:"_listenIfUserSignedIn$",value:function(){var t=this;return this.signinActionCompleted$.pipe(Object(v.a)(function(){t._sb.router.navigate(["account"])}))}},{key:"_userRegistrationSuccess",value:function(t){this._sb.userRegistrationCompleted(t)}},{key:"_validateFormConfirmPasswordField$",value:function(){var t=this;return this._signupForm.valueChanges.pipe(Object(v.a)(function(e){t._confirmPasswordMatchReqMet=!t._signupForm.hasError("notSame")}))}},{key:"_initForms",value:function(){this._signupForm=this._initSignupForm()}},{key:"_initPasswordRequirements",value:function(){return Object(K.a)()}},{key:"_initSignupForm",value:function(){return this._sb.fb.group({email:this._sb.fb.control("",{validators:[C.b.required,C.b.email],asyncValidators:[this._sb.asyncValidators.checkIfEmailIsUnique()],updateOn:"blur"}),password:this._sb.fb.control("",{validators:[C.b.required,C.b.minLength(C.a),C.b.requireDigit,C.b.requireLowercase,C.b.requireUppercase,C.b.requireNonAlphanumeric,C.b.requireThreeUniqueCharacters],updateOn:"change"}),confirmPassword:this._sb.fb.control("",C.b.required)},{validators:C.b.requireConfirmPassword,updateOn:"change"})}}]),t}()).\u0275fac=function(t){return new(t||qt)(W.Qb(gt.a),W.Qb(X),W.Qb(g.a))},qt.\u0275cmp=W.Kb({type:qt,selectors:[["odm-sign-up-container"]],decls:6,vars:17,consts:[[3,"problemDetails","internalServerErrorDetails","matcher","activeAuthType","signupForm","passwordRequirements","passwordHelpToggleClass","confirmPasswordMatchReqMet","signupFormSubmitted","signinWithGoogleSubmitted","signinWithFacebookSubmitted","switchToSigninClicked","passwordHelpToggled"]],template:function(t,e){1&t&&(W.Wb(0,"div"),W.Wb(1,"odm-sign-up",0),W.dc("signupFormSubmitted",function(t){return e._onSignupSubmitted(t)})("signinWithGoogleSubmitted",function(){return e._onSigninWithGoogleSubmitted()})("signinWithFacebookSubmitted",function(){return e._onSigninWithFacebookSubmitted()})("switchToSigninClicked",function(t){return e._onSwitchToSigninClicked(t)})("passwordHelpToggled",function(){return e._onPasswordHelpToggled()}),W.ic(2,"async"),W.ic(3,"async"),W.ic(4,"async"),W.ic(5,"async"),W.Vb(),W.Vb()),2&t&&(W.mc("@rightLeftFadeIn",void 0),W.Eb(1),W.mc("problemDetails",W.jc(2,9,e._problemDetails$))("internalServerErrorDetails",W.jc(3,11,e._internalServerErrorDetails$))("matcher",W.jc(4,13,e._breakpointStateScreenMatcher$))("activeAuthType",W.jc(5,15,e._activeAuthType$))("signupForm",e._signupForm)("passwordRequirements",e._passwordRequirements)("passwordHelpToggleClass",e._passwordHelpToggleClass)("confirmPasswordMatchReqMet",e._confirmPasswordMatchReqMet))},directives:[Nt],pipes:[d.b],styles:[""],data:{animation:[m.h]},changeDetection:0}),qt);function zt(t,e){if(1&t&&(W.Wb(0,"mat-error"),W.Cc(1),W.ic(2,"async"),W.Vb()),2&t){var n=W.hc(2);W.Eb(1),W.Dc(W.jc(2,1,n._getErrorMessage$(null==n.forgotPasswordForm?null:n.forgotPasswordForm.get("email"))))}}function Lt(t,e){if(1&t&&(W.Ub(0),W.Rb(1,"odm-spinner",10),W.Tb()),2&t){var n=W.hc(2);W.Eb(1),W.mc("type","button")("diameter",n._forgotPasswordSpinnerDiameter)("strokeWidth",n._forgotPasswordSpinnerStrokeWidth)}}function Qt(t,e){if(1&t){var n=W.Xb();W.Wb(0,"div"),W.Wb(1,"form",4),W.dc("ngSubmit",function(){return W.tc(n),W.hc()._onFormSubmitted()}),W.Wb(2,"div"),W.Wb(3,"p"),W.Cc(4),W.ic(5,"translate"),W.Vb(),W.Vb(),W.Wb(6,"div"),W.Wb(7,"mat-form-field",5),W.Wb(8,"mat-label"),W.Cc(9),W.ic(10,"translate"),W.Vb(),W.Rb(11,"input",6),W.Ac(12,zt,3,3,"mat-error",3),W.Vb(),W.Vb(),W.Wb(13,"div",7),W.Wb(14,"button",8),W.dc("click",function(){return W.tc(n),W.hc()._onCancelClicked()}),W.Cc(15),W.ic(16,"translate"),W.Vb(),W.Wb(17,"button",9),W.Cc(18),W.ic(19,"translate"),W.Ac(20,Lt,2,3,"ng-container",3),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&t){var i=W.hc();W.Eb(1),W.mc("formGroup",i.forgotPasswordForm),W.Eb(3),W.Dc(W.jc(5,8,"odm.auth.forgot-password.subheader")),W.Eb(5),W.Dc(W.jc(10,10,"odm.auth.form.label.email")),W.Eb(3),W.mc("ngIf",i._ifControlFieldIsInvalid(null==i.forgotPasswordForm?null:i.forgotPasswordForm.get("email"))),W.Eb(3),W.Ec(" ",W.jc(16,12,"odm.buttons.cancel")," "),W.Eb(2),W.mc("disabled",i.forgotPasswordForm.invalid||i.forgotPasswordRequestSubmitting),W.Eb(1),W.Ec(" ",W.jc(19,14,"odm.buttons.reset-password")," "),W.Eb(2),W.mc("ngIf",i.forgotPasswordRequestSubmitting)}}function Ht(t,e){if(1&t){var n=W.Xb();W.Wb(0,"div"),W.Wb(1,"div",11),W.Wb(2,"p"),W.Cc(3),W.ic(4,"translate"),W.Vb(),W.Wb(5,"div",12),W.Wb(6,"button",13),W.dc("click",function(){return W.tc(n),W.hc()._onFinishClicked()}),W.Cc(7),W.ic(8,"translate"),W.Vb(),W.Vb(),W.Vb(),W.Vb()}if(2&t){var i=W.hc();W.mc("@downUpFadeIn",void 0),W.Eb(1),W.mc("ngClass",i._routeAnimationsElements),W.Eb(2),W.Dc(W.jc(4,4,"odm.auth.forgot-password.message")),W.Eb(4),W.Dc(W.jc(8,6,"odm.buttons.go-to-sign-in"))}}var Bt,Xt,Kt,Jt,Zt=((Xt=function(t){s(i,t);var e=c(i);function i(t,o,r){var s;return n(this,i),(s=e.call(this,o,t,r)).log=t,s._routeAnimationsElements=m.e,s.forgotPasswordRequestSubmitting=!1,s.forgotPasswordRequestSubmittedSuccessfully=!1,s.submitFormClicked=new W.o,s.cancelClicked=new W.o,s.finishClicked=new W.o,s._forgotPasswordSpinnerDiameter=J.c,s._forgotPasswordSpinnerStrokeWidth=J.d,s}return o(i,[{key:"internalServerErrorDetails",set:function(t){this.log.debug("Internal server error emitted.",this),this.internalServerError=t}},{key:"_onFormSubmitted",value:function(){this.log.trace("_onFormSubmitted fired.",this),this.submitFormClicked.emit(this.forgotPasswordForm.value)}},{key:"_onFinishClicked",value:function(){this.log.trace("_onFinishClicked fired.",this),this.finishClicked.emit()}},{key:"_onCancelClicked",value:function(){this.log.trace("_onCancelClicked fired.",this),this.cancelClicked.emit()}}]),i}(y.a)).\u0275fac=function(t){return new(t||Xt)(W.Qb(Q.a),W.Qb(L.a),W.Qb(W.i))},Xt.\u0275cmp=W.Kb({type:Xt,selectors:[["odm-forgot-password"]],inputs:{internalServerErrorDetails:"internalServerErrorDetails",forgotPasswordForm:"forgotPasswordForm",forgotPasswordRequestSubmitting:"forgotPasswordRequestSubmitting",forgotPasswordRequestSubmittedSuccessfully:"forgotPasswordRequestSubmittedSuccessfully"},outputs:{submitFormClicked:"submitFormClicked",cancelClicked:"cancelClicked",finishClicked:"finishClicked"},features:[W.Bb],decls:7,vars:6,consts:[[1,"forgot-password__container",3,"ngClass"],[1,"forgot-password__form"],[1,"main-heading"],[4,"ngIf"],[1,"forgot-password__form",3,"formGroup","ngSubmit"],["appearance","standard"],["formControlName","email","matInput","","type","email","autocomplete","email","required",""],[1,"forgot-password__action-buttons"],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],[3,"type","diameter","strokeWidth"],[1,"forgot-password__form",3,"ngClass"],[1,"forgot-password__action-buttons","forgot-password__user-message"],["mat-raised-button","","type","button","color","primary",3,"click"]],template:function(t,e){1&t&&(W.Wb(0,"div",0),W.Wb(1,"div",1),W.Wb(2,"h2",2),W.Cc(3),W.ic(4,"translate"),W.Vb(),W.Vb(),W.Ac(5,Qt,21,16,"div",3),W.Ac(6,Ht,9,8,"div",3),W.Vb()),2&t&&(W.mc("ngClass",e._routeAnimationsElements),W.Eb(3),W.Dc(W.jc(4,4,"odm.auth.forgot-password.header")),W.Eb(2),W.mc("ngIf",!e.forgotPasswordRequestSubmittedSuccessfully),W.Eb(1),W.mc("ngIf",e.forgotPasswordRequestSubmittedSuccessfully))},directives:[d.i,d.k,H.s,H.m,H.f,Z.c,Z.g,H.c,Y.b,H.l,H.e,H.q,nt.b,Z.b,it.a],pipes:[z.c,d.b],styles:[".forgot-password__container[_ngcontent-%COMP%]{width:100%}.forgot-password__container[_ngcontent-%COMP%]   .forgot-password__form[_ngcontent-%COMP%]{max-width:350px;margin:0 auto}.forgot-password__container[_ngcontent-%COMP%]   .forgot-password__form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.forgot-password__container[_ngcontent-%COMP%]   .forgot-password__form[_ngcontent-%COMP%]   .forgot-password__action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.forgot-password__container[_ngcontent-%COMP%]   .forgot-password__form[_ngcontent-%COMP%]   .forgot-password__action-buttons.forgot-password__user-message[_ngcontent-%COMP%]{justify-content:center}"],data:{animation:[m.f]},changeDetection:0}),Xt),Yt=((Bt=function(){function t(e){n(this,t),this._sb=e,this._routeAnimationsElements=m.e,this._subscription=new f.a,this._internalServerErrorDetails$=e.internalServerErrorDetails$,this._forgotPasswordRequestSubmittedSuccessfully$=e.forgotPasswordRequestSubmittedSuccessfully$,this._forgotPasswordRequestSubmitting$=e.forgotPasswordRequestSubmitting$}return o(t,[{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._initForm(),this._subscription.add(this._listenForServerErrors$().subscribe())}},{key:"ngOnDestroy",value:function(){this._sb.log.trace("Destroyed.",this),this._sb.forgotPasswordRequestSubmittedSuccessfully({forgotPasswordRequestSubmittedSuccessfully:!1}),this._subscription.unsubscribe()}},{key:"_onFormSubmitted",value:function(t){this._sb.log.trace("_onFormSubmitted fired.",this),this._sb.forgotPassword(t.email)}},{key:"_onCancelClicked",value:function(){this._sb.log.trace("_onCancelClicked fired.",this),this._sb.updateActiveAuthType({activeAuthType:"sign-in-active"}),this._sb.router.navigate(["auth"])}},{key:"_onFinishClicked",value:function(){this._sb.log.trace("_onFinishClicked fired.",this),this._sb.router.navigate(["auth"])}},{key:"_listenForServerErrors$",value:function(){var t=this;return this._sb.log.trace("_listenForServerErrors$ fired.",this),Object(p.a)(this._internalServerErrorDetails$).pipe(Object(v.a)(function(){t._sb.forgotPasswordRequestSubmittedSuccessfully({forgotPasswordRequestSubmittedSuccessfully:!1}),t._sb.forgotPasswordRequestSubmitting({forgotPasswordRequestSubmitting:!1})}))}},{key:"_initForm",value:function(){this._forgotPasswordForm=this._initForgotPasswordForm()}},{key:"_initForgotPasswordForm",value:function(){return this._sb.fb.group({email:this._sb.fb.control("",[C.b.required,C.b.email])})}}]),t}()).\u0275fac=function(t){return new(t||Bt)(W.Qb(X))},Bt.\u0275cmp=W.Kb({type:Bt,selectors:[["odm-forgot-password-container"]],decls:5,vars:11,consts:[[3,"ngClass"],[3,"forgotPasswordRequestSubmittedSuccessfully","forgotPasswordRequestSubmitting","internalServerErrorDetails","forgotPasswordForm","submitFormClicked","cancelClicked","finishClicked"]],template:function(t,e){1&t&&(W.Wb(0,"div",0),W.Wb(1,"odm-forgot-password",1),W.dc("submitFormClicked",function(t){return e._onFormSubmitted(t)})("cancelClicked",function(){return e._onCancelClicked()})("finishClicked",function(){return e._onFinishClicked()}),W.ic(2,"async"),W.ic(3,"async"),W.ic(4,"async"),W.Vb(),W.Vb()),2&t&&(W.mc("ngClass",e._routeAnimationsElements),W.Eb(1),W.mc("forgotPasswordRequestSubmittedSuccessfully",W.jc(2,5,e._forgotPasswordRequestSubmittedSuccessfully$))("forgotPasswordRequestSubmitting",W.jc(3,7,e._forgotPasswordRequestSubmitting$))("internalServerErrorDetails",W.jc(4,9,e._internalServerErrorDetails$))("forgotPasswordForm",e._forgotPasswordForm))},directives:[d.i,Zt],pipes:[d.b],styles:[""],changeDetection:0}),Bt),te=a("S2kB"),ee=a("eaX+"),ne=a("Qu3c"),ie=((Jt=function(){function t(e,i){var o=this;n(this,t),this._sb=e,this._route=i,this._touchGestrues="on",this._showDelayInMs=te.a,this._routeAnimationsElements=m.e,this._subscription=new f.a,this._codeVerificationSucceeded$=e.is2StepVerificationSuccessful$,this._problemDetails$=e.problemDetails$.pipe(Object(v.a)(function(){return o._codeVerificationInProgress=!1})),this._internalServerErrorDetails$=e.internalServerErrorDetails$.pipe(Object(v.a)(function(){return o._codeVerificationInProgress=!1})),this.twoStepVerificationCancelled$=e.twoStepVerificationCancelled$,this._signInActionCompleted$=e.signInActionCompleted$}return o(t,[{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._setPropertiesFromQueryParams(),this._subscription.add(this._listenIfUserSignedIn$().subscribe()),this._subscription.add(this._listenIfTwoStepVerificationCancelled$().subscribe())}},{key:"ngOnDestroy",value:function(){this._sb.log.trace("Destroyed.",this),this._subscription.unsubscribe()}},{key:"_onVerificationCodeSubmitted",value:function(t){this._sb.log.trace("_onVerificationCodeSubmitted fired.",this),this._codeVerificationInProgress=!0;var e=t;this._sb.log.debug("[_onVerificationCodeSubmitted]: Setting [email] value query params.",this),e.email=this._email,this._sb.log.debug("[_onVerificationCodeSubmitted]: Setting [provider] value from query params.",this),e.provider=this._provider,this._sb.verifyTwoStepVerificationCode(e)}},{key:"_onCancelClicked",value:function(){this._sb.log.trace("_onCancelClicked fired.",this),this._sb.cancelTwoStepVerificationCodeProcess()}},{key:"_onUseRecoveryCode",value:function(){this._sb.log.trace("_onUseRecoveryCode fired.",this),this._sb.router.navigate(["auth/redeem-recovery-code"],{queryParams:{email:this._email}})}},{key:"_listenIfUserSignedIn$",value:function(){var t=this;return this._sb.log.trace("_listenIfUserSignedIn$ fired.",this),this._signInActionCompleted$.pipe(Object(v.a)(function(){t._sb.router.navigate(["account"])}))}},{key:"_listenIfTwoStepVerificationCancelled$",value:function(){var t=this;return this.twoStepVerificationCancelled$.pipe(Object(v.a)(function(){t._sb.router.navigate(["sign-in"],{relativeTo:t._route.parent})}))}},{key:"_setPropertiesFromQueryParams",value:function(){this._provider=this._route.snapshot.queryParams.provider,this._email=this._route.snapshot.queryParams.email}}]),t}()).\u0275fac=function(t){return new(t||Jt)(W.Qb(X),W.Qb(g.a))},Jt.\u0275cmp=W.Kb({type:Jt,selectors:[["odm-two-step-verification"]],decls:19,vars:28,consts:[[1,"two-step-verification","auth__container"],[1,"two-step-verification__header",3,"ngClass"],[3,"ngClass"],[1,"two-step-verification__verification-code",3,"ngClass"],[3,"codeVerificationInProgress","codeVerificationSucceeded","problemDetails","internalServerErrorDetails","verificationCodeSubmitted","cancelSetupWizardClicked"],[1,"auth__form-container",3,"ngClass"],[1,"auth__text--link","auth__text-link--size","auth__text",3,"matTooltipShowDelay","matTooltip","click"]],template:function(t,e){1&t&&(W.Wb(0,"div",0),W.Wb(1,"div"),W.Wb(2,"div",1),W.Wb(3,"h2",2),W.Cc(4),W.ic(5,"translate"),W.Vb(),W.Wb(6,"p",2),W.Cc(7),W.ic(8,"translate"),W.Vb(),W.Vb(),W.Wb(9,"div",3),W.Wb(10,"odm-verification-code",4),W.dc("verificationCodeSubmitted",function(t){return e._onVerificationCodeSubmitted(t)})("cancelSetupWizardClicked",function(){return e._onCancelClicked()}),W.ic(11,"async"),W.ic(12,"async"),W.ic(13,"async"),W.Vb(),W.Vb(),W.Wb(14,"div",5),W.Wb(15,"span",6),W.dc("click",function(){return e._onUseRecoveryCode()}),W.ic(16,"translate"),W.Cc(17),W.ic(18,"translate"),W.Vb(),W.Vb(),W.Vb(),W.Vb()),2&t&&(W.Eb(2),W.mc("ngClass",e._routeAnimationsElements),W.Eb(1),W.mc("ngClass",e._routeAnimationsElements),W.Eb(1),W.Dc(W.jc(5,14,"odm.auth.two-step-verification.header")),W.Eb(2),W.mc("ngClass",e._routeAnimationsElements),W.Eb(1),W.Dc(W.jc(8,16,"odm.auth.two-step-verification.subheader")),W.Eb(2),W.mc("ngClass",e._routeAnimationsElements),W.Eb(1),W.mc("codeVerificationInProgress",e._codeVerificationInProgress)("codeVerificationSucceeded",W.jc(11,18,e._codeVerificationSucceeded$))("problemDetails",W.jc(12,20,e._problemDetails$))("internalServerErrorDetails",W.jc(13,22,e._internalServerErrorDetails$)),W.Eb(4),W.mc("ngClass",e._routeAnimationsElements),W.Eb(1),W.mc("matTooltipShowDelay",e._showDelayInMs)("matTooltip",W.jc(16,24,"odm.auth.two-step-verification.use-recovery-codes-tooltip")),W.Eb(2),W.Dc(W.jc(18,26,"odm.auth.two-step-verification.use-recovery-code")))},directives:[d.i,ee.a,ne.a],pipes:[z.c,d.b],styles:[".two-step-verification[_ngcontent-%COMP%]{display:flex;flex-flow:column;align-items:center}.two-step-verification[_ngcontent-%COMP%]   .two-step-verification__header[_ngcontent-%COMP%]{text-align:center}.two-step-verification[_ngcontent-%COMP%]   .two-step-verification__verification-code[_ngcontent-%COMP%]{display:flex;justify-content:center}.two-step-verification[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:8px}.two-step-verification[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__text-link--size[_ngcontent-%COMP%]{font-size:12px}.two-step-verification[_ngcontent-%COMP%]   .auth__form-container[_ngcontent-%COMP%]   .auth__text[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[m.f]},changeDetection:0}),Jt),oe=((Kt=function(){function t(e,i){var o=this;n(this,t),this._sb=e,this._route=i,this._recoveryCodeInputLength=8,this._subscription=new f.a,this._recoveryCodeVerificationSucceeded$=e.isRecoveryCodeRedemptionSuccessful$,this._problemDetails$=e.problemDetails$.pipe(Object(v.a)(function(){return o._recoveryCodeVerificationInProgress=!1})),this._internalServerErrorDetails$=e.internalServerErrorDetails$.pipe(Object(v.a)(function(){return o._recoveryCodeVerificationInProgress=!1})),this._twoStepVerificationCancelled$=e.twoStepVerificationCancelled$,this._signInActionCompleted$=e.signInActionCompleted$}return o(t,[{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._setPropertiesFromQueryParams(),this._subscription.add(this._listenIfUserSignedIn$().subscribe()),this._subscription.add(this._listenIfTwoStepVerificationCancelled$().subscribe())}},{key:"ngOnDestroy",value:function(){this._sb.log.trace("Destroyed.",this),this._subscription.unsubscribe()}},{key:"_onRecoveryCodeSubmitted",value:function(t){this._sb.log.trace("_onRecoveryCodeSubmitted fired.",this),this._recoveryCodeVerificationInProgress=!0;var e=t;this._sb.log.debug("[_onRecoveryCodeSubmitted]: Setting [email] value query params.",this),e.email=this._email,this._sb.redeemRecoveryCode(e)}},{key:"_onCancelClicked",value:function(){this._sb.log.trace("_onCancelClicked fired.",this),this._sb.cancelTwoStepVerificationCodeProcess()}},{key:"_listenIfUserSignedIn$",value:function(){var t=this;return this._sb.log.trace("_listenIfUserSignedIn$ fired.",this),this._signInActionCompleted$.pipe(Object(v.a)(function(){t._sb.router.navigate(["account"])}))}},{key:"_listenIfTwoStepVerificationCancelled$",value:function(){var t=this;return this._sb.log.trace("_listenIfTwoStepVerificationCancelled$ fired.",this),this._twoStepVerificationCancelled$.pipe(Object(v.a)(function(){t._sb.router.navigate(["sign-in"],{relativeTo:t._route.parent})}))}},{key:"_setPropertiesFromQueryParams",value:function(){this._sb.log.trace("_setPropertiesFromQueryParams fired.",this),this._email=this._route.snapshot.queryParams.email}}]),t}()).\u0275fac=function(t){return new(t||Kt)(W.Qb(X),W.Qb(g.a))},Kt.\u0275cmp=W.Kb({type:Kt,selectors:[["odm-redeem-recovery-code"]],decls:14,vars:18,consts:[[1,"recovery-code-verification"],[1,"recovery-code-verification__header"],[1,"recovery-code-verification__code"],[3,"verificationCodeInputLength","codeVerificationInProgress","codeVerificationSucceeded","problemDetails","internalServerErrorDetails","verificationCodeSubmitted","cancelSetupWizardClicked"]],template:function(t,e){1&t&&(W.Wb(0,"div",0),W.Wb(1,"div"),W.Wb(2,"div",1),W.Wb(3,"h2"),W.Cc(4),W.ic(5,"translate"),W.Vb(),W.Wb(6,"p"),W.Cc(7),W.ic(8,"translate"),W.Vb(),W.Vb(),W.Wb(9,"div",2),W.Wb(10,"odm-verification-code",3),W.dc("verificationCodeSubmitted",function(t){return e._onRecoveryCodeSubmitted(t)})("cancelSetupWizardClicked",function(){return e._onCancelClicked()}),W.ic(11,"async"),W.ic(12,"async"),W.ic(13,"async"),W.Vb(),W.Vb(),W.Vb(),W.Vb()),2&t&&(W.mc("@downUpFadeIn",void 0),W.Eb(4),W.Dc(W.jc(5,8,"odm.auth.recovery-code.header")),W.Eb(3),W.Dc(W.jc(8,10,"odm.auth.recovery-code.subheader")),W.Eb(3),W.mc("verificationCodeInputLength",e._recoveryCodeInputLength)("codeVerificationInProgress",e._recoveryCodeVerificationInProgress)("codeVerificationSucceeded",W.jc(11,12,e._recoveryCodeVerificationSucceeded$))("problemDetails",W.jc(12,14,e._problemDetails$))("internalServerErrorDetails",W.jc(13,16,e._internalServerErrorDetails$)))},directives:[ee.a],pipes:[z.c,d.b],styles:[".recovery-code-verification[_ngcontent-%COMP%]{display:flex;flex-flow:column;align-items:center}.recovery-code-verification[_ngcontent-%COMP%]   .recovery-code-verification__header[_ngcontent-%COMP%]{text-align:center}.recovery-code-verification[_ngcontent-%COMP%]   .recovery-code-verification__code[_ngcontent-%COMP%]{display:flex;justify-content:center}"],data:{animation:[m.f]},changeDetection:0}),Kt);function re(t,e){if(1&t&&(W.Ub(0),W.Rb(1,"odm-spinner",2),W.Tb()),2&t){var n=W.hc();W.Eb(1),W.mc("diameter",n._changeEmailRequestSpinnerDiameter)("strokeWidth",n._changeEmailRequestSpinnerStrokeWidth)}}function se(t,e){1&t&&(W.Wb(0,"div"),W.Wb(1,"p"),W.Cc(2),W.ic(3,"translate"),W.Vb(),W.Vb()),2&t&&(W.Eb(2),W.Dc(W.jc(3,1,"odm.auth.verification.email")))}var ae,ce,ue=((ce=function t(){n(this,t),this._changeEmailRequestSpinnerDiameter=J.a,this._changeEmailRequestSpinnerStrokeWidth=J.b}).\u0275fac=function(t){return new(t||ce)},ce.\u0275cmp=W.Kb({type:ce,selectors:[["odm-change-email-token"]],inputs:{inProgress:"inProgress"},decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["emailChanged",""],["color","accent",3,"diameter","strokeWidth"]],template:function(t,e){if(1&t&&(W.Wb(0,"div"),W.Ac(1,re,2,2,"ng-container",0),W.Vb(),W.Ac(2,se,4,3,"ng-template",null,1,W.Bc)),2&t){var n=W.rc(3);W.Eb(1),W.mc("ngIf",e.inProgress)("ngIfElse",n)}},directives:[d.k,it.a],pipes:[z.c],styles:[""],changeDetection:0}),ce),le=((ae=function(){function t(e,i){n(this,t),this._sb=e,this._route=i,this._subscription=new f.a,this._problemDetails$=e.problemDetails$,this._internalServerErrorDetails$=e.internalServerErrorDetails$,this._changeEmailConfirmationInProgress$=e.changeEmailConfirmationInProgress$}return o(t,[{key:"ngOnInit",value:function(){this._subscription.add(this._listenForServerErrors$().subscribe());var t=this._route.snapshot.paramMap.get("id");this._sb.confirmEmailChangeRequest(t,{newEmail:this._route.snapshot.queryParams.newEmail,token:this._route.snapshot.queryParams.token})}},{key:"_listenForServerErrors$",value:function(){var t=this;return this._sb.log.trace("_listenForServerErrors$ fired.",this),Object(p.a)(this._problemDetails$,this._internalServerErrorDetails$).pipe(Object(v.a)(function(){t._sb.changeEmailConfirmationInProgress({changeEmailConfirmationInProgress:!1}),t._sb.router.navigate(["confirmation-error"],{relativeTo:t._route.parent})}))}}]),t}()).\u0275fac=function(t){return new(t||ae)(W.Qb(X),W.Qb(g.a))},ae.\u0275cmp=W.Kb({type:ae,selectors:[["odm-change-email-token-container"]],decls:3,vars:3,consts:[[3,"inProgress"]],template:function(t,e){1&t&&(W.Wb(0,"div"),W.Rb(1,"odm-change-email-token",0),W.ic(2,"async"),W.Vb()),2&t&&(W.Eb(1),W.mc("inProgress",W.jc(2,1,e._changeEmailConfirmationInProgress$)))},directives:[ue],pipes:[d.b],styles:[""],changeDetection:0}),ae),_e=a("UhX8"),he=a("f0Cb");function de(t,e){if(1&t&&(W.Wb(0,"div",3),W.Rb(1,"odm-spinner",4),W.Wb(2,"p"),W.Cc(3),W.ic(4,"translate"),W.Vb(),W.Vb()),2&t){var n=W.hc();W.xc("--spinner-width",n._spinnerWidthCss),W.mc("@downUpFadeIn",void 0),W.Eb(1),W.mc("diameter",n._emailConfirmationInProgresSpinnerDiameter)("strokeWidth",n._emailConfirmationInProgresStrokeWidth),W.Eb(2),W.Dc(W.jc(4,6,"odm.auth.verification.confirming"))}}function ge(t,e){1&t&&(W.Wb(0,"div"),W.Wb(1,"h3"),W.Wb(2,"mat-icon"),W.Cc(3,"check"),W.Vb(),W.Cc(4),W.ic(5,"translate"),W.Vb(),W.Rb(6,"mat-divider"),W.Wb(7,"p"),W.Cc(8),W.ic(9,"translate"),W.Vb(),W.Vb()),2&t&&(W.mc("@downUpFadeIn",void 0),W.Eb(4),W.Ec(" ",W.jc(5,3,"odm.auth.verification.success-title"),""),W.Eb(4),W.Dc(W.jc(9,5,"odm.auth.verification.success-description")))}function me(t,e){1&t&&(W.Wb(0,"div"),W.Wb(1,"h3"),W.Wb(2,"mat-icon"),W.Cc(3,"close"),W.Vb(),W.Cc(4),W.ic(5,"translate"),W.Vb(),W.Rb(6,"mat-divider"),W.Wb(7,"p"),W.Cc(8),W.ic(9,"translate"),W.Vb(),W.Vb()),2&t&&(W.mc("@downUpFadeIn",void 0),W.Eb(4),W.Ec(" ",W.jc(5,3,"odm.auth.verification.error-title"),""),W.Eb(4),W.Dc(W.jc(9,5,"odm.auth.verification.error-description")))}var be,fe,pe,ve,Ce=((be=function(){function t(e){n(this,t),this._log=e,this.confirmationFinished=new W.o,this._emailConfirmationInProgresSpinnerDiameter=J.a,this._emailConfirmationInProgresStrokeWidth=J.b,this._spinnerWidthCss="".concat(J.a,"px")}return o(t,[{key:"inProgress",set:function(t){this._log.debug("inProgress property set.",this),this._inProgress=t,!1===t&&this.confirmationFinished.emit({isAuthenticated:this._isAuthenticated})}},{key:"isAuthenticated",set:function(t){this._log.debug("isAuthenticated property set.",this),this._isAuthenticated=t}}]),t}()).\u0275fac=function(t){return new(t||be)(W.Qb(Q.a))},be.\u0275cmp=W.Kb({type:be,selectors:[["odm-email-confirmation"]],inputs:{inProgress:"inProgress",internalServerErrorDetails:"internalServerErrorDetails",problemDetails:"problemDetails",isAuthenticated:"isAuthenticated"},outputs:{confirmationFinished:"confirmationFinished"},decls:5,vars:5,consts:[["class","email-confirmation",3,"--spinner-width",4,"ngIf"],[4,"ngIf"],[3,"internalServerErrorDetails","problemDetails"],[1,"email-confirmation"],["color","accent",3,"diameter","strokeWidth"]],template:function(t,e){1&t&&(W.Wb(0,"div"),W.Ac(1,de,5,8,"div",0),W.Ac(2,ge,10,7,"div",1),W.Ac(3,me,10,7,"div",1),W.Rb(4,"odm-server-side-error",2),W.Vb()),2&t&&(W.Eb(1),W.mc("ngIf",e._inProgress),W.Eb(1),W.mc("ngIf",!(e.inProgress||e._isAuthenticated||e.internalServerErrorDetails||e.problemDetails)),W.Eb(1),W.mc("ngIf",e.internalServerErrorDetails||e.problemDetails),W.Eb(1),W.mc("internalServerErrorDetails",e.internalServerErrorDetails)("problemDetails",e.problemDetails))},directives:[d.k,_e.a,it.a,tt.a,he.a],pipes:[z.c],styles:[".email-confirmation[_ngcontent-%COMP%]{width:var(--spinner-width);margin:0 auto}"],data:{animation:[m.f]},changeDetection:0}),be),ye=[{path:"",component:Ct,children:[{path:":id/email-change-confirmation",component:le},{path:"sign-in",component:It},{path:"sign-up",component:Gt},{path:"forgot-password",component:Yt},{path:"reset-password",component:_t},{path:"two-step-verification",component:ie},{path:"redeem-recovery-code",component:oe},{path:"email-confirmation",component:(fe=function(){function t(e,i){n(this,t),this._sb=e,this._route=i,this._subscription=new f.a,this._problemDetails$=e.problemDetails$,this._internalServerErrorDetails$=e.internalServerErrorDetails$,this._emailConfirmationInProgress$=e.emailConfirmationInProgress$,this._isAuthenticated$=e.isAuthenticated$}return o(t,[{key:"ngOnInit",value:function(){this._sb.log.trace("Initialized.",this),this._sb.emailConfirmationInProgress({emailConfirmationInProgress:!0}),this._subscription.add(this._listenForServerErrors$().subscribe()),this._sb.confirmEmail({email:this._route.snapshot.queryParams.email,token:this._route.snapshot.queryParams.token})}},{key:"ngOnDestroy",value:function(){this._sb.log.trace("Destroyed.",this),this._subscription.unsubscribe()}},{key:"_onEmailConfirmationFinished",value:function(t){t.isAuthenticated&&this._sb.router.navigate(["account"])}},{key:"_listenForServerErrors$",value:function(){var t=this;return this._sb.log.trace("_listenForServerErrors$ fired.",this),Object(p.a)(this._problemDetails$,this._internalServerErrorDetails$).pipe(Object(v.a)(function(){return t._sb.emailConfirmationInProgress({emailConfirmationInProgress:!1})}))}}]),t}(),fe.\u0275fac=function(t){return new(t||fe)(W.Qb(X),W.Qb(g.a))},fe.\u0275cmp=W.Kb({type:fe,selectors:[["odm-email-confirmation-container"]],decls:6,vars:12,consts:[[3,"isAuthenticated","inProgress","problemDetails","internalServerErrorDetails","confirmationFinished"]],template:function(t,e){1&t&&(W.Wb(0,"div"),W.Wb(1,"odm-email-confirmation",0),W.dc("confirmationFinished",function(t){return e._onEmailConfirmationFinished(t)}),W.ic(2,"async"),W.ic(3,"async"),W.ic(4,"async"),W.ic(5,"async"),W.Vb(),W.Vb()),2&t&&(W.Eb(1),W.mc("isAuthenticated",W.jc(2,4,e._isAuthenticated$))("inProgress",W.jc(3,6,e._emailConfirmationInProgress$))("problemDetails",W.jc(4,8,e._problemDetails$))("internalServerErrorDetails",W.jc(5,10,e._internalServerErrorDetails$)))},directives:[Ce],pipes:[d.b],styles:[""],changeDetection:0}),fe)},{path:"**",redirectTo:"sign-in"}]}],we=((pe=function t(){n(this,t)}).\u0275fac=function(t){return new(t||pe)},pe.\u0275mod=W.Ob({type:pe}),pe.\u0275inj=W.Nb({imports:[[g.l.forChild(ye)],g.l]}),pe),Pe=a("PCNd"),Se=((ve=function t(){n(this,t)}).\u0275fac=function(t){return new(t||ve)},ve.\u0275mod=W.Ob({type:ve}),ve.\u0275inj=W.Nb({providers:[X,{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:R.PROVIDER_ID,provider:new R("1017420985910-q2v7dnvoa9vscu2fup6dmuvo2sm2p1s6.apps.googleusercontent.com")},{id:T.PROVIDER_ID,provider:new T("1732458220252838")}]}}],imports:[[d.c,we,Pe.a,A]]}),ve)},Nlia:function(t,e,n){"use strict";n.r(e),e.default=n.p+"auth_bottom.c4adbc8152c3d965d26d.jpg"}}])}();